<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
    
	<title>wd and cc</title>
    <meta name="author" content="wd">
    
	<meta name="description" content="undefined"> <!-- TODO: truncate -->
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="atom.xml" rel="alternate" title="wd and cc" type="application/atom+xml">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/custom.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/hljs.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='//fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![}]-->

    <script type="text/javascript" src="/javascripts/jquery-tapir.js"></script>

    <!-- remove or comment it to disable ajaxification -->   
    <!-- <script src="/javascripts/ajaxify.js"></script> -->

    

    

</head>


<body>
    <div id="wrapper">
    <header id="header" class="inner"><!-- for more effects see _animate.scss -->
<h1 class="animated bounceInDown">
    <div id="headerbg">
        wd and cc
    </div>
</h1>
<span class="subtitle">happy everyday</span>
<br>

<ul id="social-links" style="text-align:center; clear:both;">
  
  <!-- GitHub -->
  <li>
  <a href="https://github.com/wd" class="github" title="Github"></a>
  </li>
  
  
  
  
  <!-- Twitter -->
  <li>
  <a href="http://www.twitter.com/wd" class="twitter" title="Twitter"></a>
  </li>
  
  
  
  
  
</ul>


<!-- use full url including 'index.html' for navigation bar if you are using ajax -->
<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/archives/index.html">Archives</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    
    <li>
    <div id="dark">
        <form method="get" action="/search.html" id="search">
            <input name="query" type="text" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
        
</ul>




</header>

<div id="toload">
<!-- begin toload -->
    <div id="content" class="inner">
        

    
        <script id="dsq-count-scr" src="//wdicc.disqus.com/count.js" async></script>
    



  <article class="post">
	<h2 class="title">
		<a href="about-mycity/">我的城市呼和浩特--博邻征文</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-06-05T16:00:00.000Z" itemprop="datePublished">Jun 6, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Heart/">Heart</a> <a href="../tags/博邻/">博邻</a> <a href="../tags/我的城市/">我的城市</a>
</div>
    </div>
      
        响应 <a href="http://www.365bloglink.com" target="_blank" rel="external">博邻</a> 的号召，写写我的城市。

虽然在北京已经呆了9年了，可是说到我的城市，我还是不想写他。住了这么久，好像也一直没有融入到北京这个城市里面来，北京这个城市好像缺少自己的特点。去了好多次沈阳，那种文化给人的感觉是很不一样的。

说到呼和浩特市，其实我是住郊区的，那里少了市区的喧嚣，有蓝色的天，青色的山，绿色的大草地和田地，市区那些人工的绿地没办法比的。

现在最怀念的，就是小学放暑假的时候了，长长的假期里面，好多好玩的东西。和伙伴们一起去爬山，去山里的山泉积的天然“游泳池”里面游泳，不过惭愧的很，到现在我也没学会游泳 :( 。爬山累了，吃山上的野果，喝山泉，这是最有意思的事情了。记得有次大家做了一个决定，要试试看爬到最高的那座山看看。结果爬了半天，总算到了，有句老话叫做“一山更比一山高”啊，站到在山下看到的那个最高的山上，大家那个郁闷，后面的高山还是好像很多。。。后来知道了，那个可是阴山山脉，开玩笑，能让我们爬过去么，呵呵。最后下来的时候都已经晚上9点多了，吃着家里妈妈给做的饭，那个香啊。

说到吃饭，现在特别怀念家里的一些饭菜，焖面、莜面、烩菜什么的，简直是想起来什么都那么好吃，以前不怎么喜欢的菜，现在回去吃都是美味啊。呃。。好像跑题了。。

在北京的时候，去过一次康熙草原，当时看到那片草地的时候，那个失望啊。如果这也可以叫做草原的话，我们那岂不是遍地都是草原么。。。去那里玩的最爽的结果是划船，晕。在家乡，周末或者暑假可能常得去牧马，在山下的绿草地里面，小伙伴们玩着自己的游戏，马群自己悠闲的吃着嫩绿的小草。那会有时还会把我们家的一只羊一起带过去，那只小羊不知道为什么，特喜欢跟着我弟弟跑，我弟弟又特别害怕他，所以经常被那只羊追着乱叫。

好像写了很多儿时的记忆，其实一个地方留给人们最多的，可能就是回忆了。美好的回忆总是让人难以忘记。

<p class="poweredbyperformancing">Powered by <a href="http://scribefire.com/" target="_blank" rel="external">ScribeFire</a>.</p>

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/about-mycity/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="linux-tuning/">linux tuning</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-06-03T16:00:00.000Z" itemprop="datePublished">Jun 4, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Other/">Other</a> <a href="../tags/Linux/">Linux</a> <a href="../tags/bash/">bash</a> <a href="../tags/kernel/">kernel</a> <a href="../tags/tuning/">tuning</a>
</div>
    </div>
      
        地址 <a href="http://www.enigma.id.au/linux_tuning.txt" target="_blank" rel="external">http://www.enigma.id.au/linux_tuning.txt</a>

<pre class="prettyprint lang-bash">
# server with a decent amount of memory.
#
# This file should be saved as /etc/sysctl.conf
# You can source it manually if your system has booted by using:
# sysctl -e -p /etc/sysctl.conf
#
# Paul Day, paul (at) bur.st
#
# Last updated 02/03/05 and tested on 2.6.9
#

# Increase RPC slots
sunrpc.tcp_slot_table_entries = 32
sunrpc.udp_slot_table_entries = 32
# Increase size of RPC datagram queue length
net.unix.max_dgram_qlen = 50
# Log spoofed, source routed and redirects
net.ipv4.conf.default.log_martians = 1
# Don't accept source routes
net.ipv4.conf.default.accept_source_route = 0
# Don't send redirects
net.ipv4.conf.default.send_redirects = 0
# Source route verification on - incoming packets must match outgoing routing
net.ipv4.conf.default.rp_filter = 1
# Don't accept redirects
net.ipv4.conf.default.accept_redirects = 0
# Don't forward source routes
net.ipv4.conf.default.mc_forwarding = 0
# Disable forwarding 
net.ipv4.conf.default.forwarding = 0
# Log spoofed, source routed and redirects
net.ipv4.conf.all.log_martians = 1
# Don't relay bootp
net.ipv4.conf.all.bootp_relay = 0
# Don't proxy arp for anyone
net.ipv4.conf.all.proxy_arp = 0
# Don't accept source route packets
net.ipv4.conf.all.accept_source_route = 0
# Don't send redirects
net.ipv4.conf.all.send_redirects = 0
# Source route verification on - incoming packets must match outgoing routing
net.ipv4.conf.all.rp_filter = 1
# Don't accept redirects
net.ipv4.conf.all.accept_redirects = 0
# Don't forward source routes
net.ipv4.conf.all.mc_forwarding = 0
# Don't enable forwarding
net.ipv4.conf.all.forwarding = 0
# Don't allow the arp table to become bigger than this
net.ipv4.neigh.default.gc_thresh3 = 2048
# Tell the gc when to become aggressive with arp table cleaning.
# Adjust this based on size of the LAN. 256 is suitable for most
net.ipv4.neigh.default.gc_thresh2 = 1024
# Adjust where the gc will leave arp table alone - set to 32.
net.ipv4.neigh.default.gc_thresh1 = 32
# Adjust to arp table gc to clean-up more often
net.ipv4.neigh.default.gc_interval = 30
# Increase TCP
net.ipv4.neigh.default.proxy_qlen = 96
net.ipv4.neigh.default.unres_qlen = 6
# Increase size of socket buffers
net.ipv4.tcp_rmem = 4096	98304	349520
net.ipv4.tcp_wmem = 4096	65535	262142
net.ipv4.tcp_mem = 98304	262142	393216
# Turn off sack
net.ipv4.tcp_dsack = 0
# Don't use ECN because too many sites have wacky routers that can't handle it`
net.ipv4.tcp_ecn = 0
net.ipv4.tcp_reordering = 3
# Turn off sack/fack
net.ipv4.tcp_fack = 0
# Enable bad error message Protection
net.ipv4.icmp_ignore_bogus_error_responses = 1
# Ignore broadcasts pings, could become part of a Smurf
net.ipv4.icmp_echo_ignore_broadcasts = 1
# But don't ignore directed pings
net.ipv4.icmp_echo_ignore_all = 0
# Widen local port range
net.ipv4.ip_local_port_range = 33000	60000
# Bump up TCP socket queuer to help with syn floods
net.ipv4.tcp_max_syn_backlog = 2048
# Turn syn-cookie protection on
net.ipv4.tcp_syncookies = 1
# Drop it so lack of FIN times out quicker
net.ipv4.tcp_fin_timeout = 30
# How many times to retry killing an alive TCP connection
net.ipv4.tcp_retries2 = 15
net.ipv4.tcp_retries1 = 3
# Enable a fix for RFC1337 - time-wait assassination hazards in TCP
net.ipv4.tcp_rfc1337 = 1
# Drop keep-alive time
net.ipv4.tcp_keepalive_time = 3600
# Set number of times to retry a SYN-ACK in a half-open new connections
net.ipv4.tcp_synack_retries = 5
# Set number of times to retry SYN in a new connection
net.ipv4.tcp_syn_retries = 5
# Turn off sack
net.ipv4.tcp_sack = 0
# Enable really big (>65kB) TCP window scaling if we want it.
net.ipv4.tcp_window_scaling = 1
# Turn off timestamps
# Turn this back on if you're on a gigabit or very busy network
# Having it off is one less thing the IP stack needs to work on
net.ipv4.tcp_timestamps = 0
# Increase number of incoming connections backlog
net.core.somaxconn = 512
# Bump optmem_max up
net.core.optmem_max = 20480
# Increase number of incoming connections backlog
net.core.netdev_max_backlog = 1024
net.core.dev_weight = 64
# Bump up default r/wmem to max
net.core.rmem_default = 262141
net.core.wmem_default = 262141
# Bump up max r/wmem
net.core.rmem_max = 262141
net.core.wmem_max = 262141
# Increase size of file handles and inode cache
fs.file-max = 209708</pre>

<p class="poweredbyperformancing">Powered by <a href="http://scribefire.com/" target="_blank" rel="external">ScribeFire</a>.</p>

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/linux-tuning/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="about-air-condition/">空调的匹数怎么算？zz</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-06-03T16:00:00.000Z" itemprop="datePublished">Jun 4, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Heart/">Heart</a> <a href="../tags/空调/">空调</a>
</div>
    </div>
      
        <a href="http://www.dapenti.com/blog/more.asp?name=agile&amp;id=4332" target="_blank" rel="external">来自这里</a>

在选购空调时，销售人员通常会在推销空调时提到空调的匹数，匹数指的是电器消耗功率，1匹=1马力=735W，匹并不指制冷量。平时所说的空调是多少匹，是根据空调消耗功率估算出空调的制冷量。一般来说，习惯用1匹等于2500W的制冷量(也就是25机型)，1.5匹约等于.3500的量(也就是35机型)。26机型约为1.1匹，27机型为1.2匹，28机型约为1.3匹，32机型为1.4匹；33机型约为1.5匹，36机型为大1.5匹。

一般，1匹空调适用面积10~15平方米，1.25匹适用10~19平方米，1.5匹适用16~26平方米，1.7匹适用15~30平方米，两匹适用20~37平方米，3匹适用30~58平方米。

买空调的人都知道，根据空调匹数的不同价格也不一样。空调匹数，原指输入功率，包括压机、风扇电机及电控部分，因不同的品牌其具体的系统及电控设计差异，其输出的制冷量不同，故其制冷量以输出功率计算。

一般来说，1匹的制冷量大致力2000大卡，换算成国际单位应乘以1.162，故1匹之制冷量应力2000大卡×1．162＝2324瓦，这里的瓦（w）即表示制冷量，则1．5匹的应为2000大卡×1．5×1．162＝3486（w），以此类推。根据此情况，则大致能判定空调的匹数和制冷量。一般情况下，2200（w）~2600（w）都可称为1匹，4500（w）~5100（w）可称为两匹，3200（w）~3600（w）可称为1．5匹。制冷量确定后，即可根据目己家庭之实际情况估算制冷量，选择合适的空调机。

家用电器要消耗制冷量的较大部分，电视、电灯、冰箱等每瓦（w）功率要消耗制冷量1（w），门窗的方向也要消耗一定的制冷量，东面窗150W／m2，西面窗280W／m2，南面窗180W／m2 ，北面窗100W／m2，如是楼顶及西晒可考虑适当增加制冷量。
<p class="poweredbyperformancing">Powered by <a href="http://scribefire.com/" target="_blank" rel="external">ScribeFire</a>.</p>

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/about-air-condition/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="mirror-produced-by-yijia/">终于把宜家的镜子装上了</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-06-02T16:00:00.000Z" itemprop="datePublished">Jun 3, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Heart/">Heart</a> <a href="../tags/宜家/">宜家</a> <a href="../tags/镜子/">镜子</a>
</div>
    </div>
      
        <p>好像是年前从宜家买了一个镜子，因为没有工具，一直就没装。这几天总算借到了电钻，今天把镜子给装上了。</p> <p>这是安装图、镜子和钉子。</p> <p><img src="http://photo6.yupoo.com/20070603/205944_1590532430.jpg"> </p> <p><img src="http://photo8.yupoo.com/20070603/205918_1123330944.jpg"> </p> <p><img src="http://photo6.yupoo.com/20070603/205936_751480677.jpg"> </p> <p>宜家的这个钉子设计的非常好，就算钻孔不是很到位，也同样可以装好镜子。</p> <p><img src="http://photo8.yupoo.com/20070603/205941_874433667.jpg"> </p> <p>从下面往上面装，这是装了2块的效果。</p> <p><img src="http://photo6.yupoo.com/20070603/205931_1123408221.jpg"> </p> <p>装好后的效果。</p> <p><img src="http://photo7.yupoo.com/20070603/205937_641786367.jpg"></p>

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/mirror-produced-by-yijia/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="test-live-writer/">装了一个live writer新版，测试看看</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-05-30T16:00:00.000Z" itemprop="datePublished">May 31, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Web/">Web</a> <a href="../tags/livewriter/">livewriter</a>
</div>
    </div>
      
        <p>测试下看看呢？</p> <p>&nbsp;</p> <p></p> <p></p> <p>好像很<font color="#ff0000">多功能</font>不错，呵呵。</p> <p align="center"><u><strike>居中？</strike></u></p> <ol> <li> <div align="left"><u><strike>awefsdf</strike></u></div> </li><li> <div align="left"><u><strike>sdfsdf</strike></u></div> </li><li> <div align="left"><u><strike>sdfsdfsdf</strike></u></div></li></ol> <p align="left">&nbsp;</p> <blockquote> <p align="left">新的asdfasdfasdfasdfasdfasdfa</p> <p align="left">sdfasdf</p></blockquote> <p align="left">下面的</p> <p align="left"><pre lang="bash">grep -r xxx aaa</pre>
</p>
      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/test-live-writer/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="bleeding/">惊心动魄的流血事件</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-05-19T16:00:00.000Z" itemprop="datePublished">May 20, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Heart/">Heart</a> <a href="../tags/流鼻血/">流鼻血</a>
</div>
    </div>
      
        来了公司觉得鼻子里面有点难受，撕了一块纸擤鼻涕，结果纸一拿开看到上面全是血，就和电视剧里面咳嗽的时候手帕上面的血一样，好多。然后就感觉鼻血一滴一滴就出来了，赶紧撕了一块纸堵住鼻子就去卫生间了，拿开纸以后发现滴的速度很快，纸都红了。清洗了一下鼻子周围，发现根本清理不过来，滴的太快了，就用左手挡住鼻子，右手高举起来，头后仰站了一会，结果手一拿开血还是不停的滴。赶紧回来拿了一块纸塞住鼻子，继续刚才的姿势站了一会，发现血会往咽喉那里留，一会嘴里就有血腥味了。站了一会觉得没效果，纸拿开之后，血还是继续滴，速度一点都没变。换了块纸堵住鼻子，上网搜了一下，找到点资料。

<blockquote>第一步：坐下来，全身放松，用手指压着流鼻血的鼻子中部5～10分钟（利用鼻翼压迫易出血区）；
第二步：患者头部太保持直立位。因为头低可引起头部充血，而仰头会使血液流下咽部；
第三步：口中的血液应尽量吐出，以免咽下刺激胃部引起呕吐
第四步：指压期间用冷水袋（或湿毛巾）敷前额及后颈，可促使血管收缩，减少出血。</blockquote>

<blockquote>我们知道，鼻有前鼻孔和后鼻孔，鼻出血也按部位分前鼻孔和后鼻孔出血（绝大部分是前鼻孔出血）。遇到这种情况，首先应镇定，以一手的拇指与中指或食指捏住两侧鼻翼，实行压管止血法。此时，头部位应取正位，即既不仰头也不俯首，又不歪着头。若仰头，就会出现上述病例的情况；若低头，又会加大局部血管压力而增加出血。至于用冷水拍打额部，似无必要，因为拍打本身就是一种冲击。若取冷缩血管之意，不如用冰袋敷鼻梁，但勿放松捏鼻的手指。在压迫止血的同时，若家中有麻黄素滴鼻液或鼻眼净（或滴鼻净），可滴湿棉片塞于鼻腔中再捏鼻，效果更好。</blockquote>

看来以前的偏方都是骗人的啊，我还搜到什么捆中指啥的，能管用么？

按照上面，堵住鼻孔，用手捏着鼻子，没有冷水袋没办法了，捏了一会，拿开纸，发现血还在流。。。有点害怕了，不会是啥病吧，看韩剧都是突然流鼻血不止，然后诊断得了绝症。。。恐怖啊。换了一块纸，继续捏着鼻子，一边还在想各种后果。。。又捏了一会，拿开纸，发现好像好了，血没了。这不，继续换一块纸，巩固一下，不过没捏鼻子了。

现在感觉头有点晕晕的，眼睛发花，不知道是不是流血的结果。

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/bleeding/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="rep-of-oracle/">oracle 的高级复制出了点问题，记录下解决办法</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-05-17T16:00:00.000Z" itemprop="datePublished">May 18, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Other/">Other</a> <a href="../tags/Linux/">Linux</a> <a href="../tags/oracle/">oracle</a>
</div>
    </div>
      
        早上来了同事就来找我，有两台同步的服务器数据库没有同步成功，查查咋回事。

一台A，从B处同步。蒙了一下，果然有个dba_jobs表，呵呵。

<pre class="prettyprint lang-sql">

在A处执行上面的命令，好像repadmin的job都在正常执行。
在B处执行上面的命令，能查到类似下面的信息

<pre class="prettyprint lang-text">
---------- ------------------------------ -------------------
NEXT_DATE             FAILURES B
------------------- ---------- -
47 repadmin                           2006-05-16 19:37:29
4001-01-01 00:00:00         16 Y</pre>

显然是job挂了。查看了一下挂的时间，原来是联通机房机柜断电那天，A机器在联通机房，那天断电了6个小时。B机器上面的同步尝试了16次之后就挂起了。解决方法也不难，用repadmin用户登录，然后执行下面的语句，<strong>谁的job只能由谁来执行</strong>：

<pre class="prettyprint lang-sql">

47是job id，sysdate表示当前时间。等会再看吧，执行成功之后会把 failures 重新计数，B变成N。
</pre></pre>
      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/rep-of-oracle/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="bug-of-coding-plugin/">又找到一个wp的coding插件的问题</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-05-17T16:00:00.000Z" itemprop="datePublished">May 18, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Web/">Web</a> <a href="../tags/coding/">coding</a>
</div>
    </div>
      
        在 geshi/geshi.php 里面，有个函数会将 &,>,<," 这些替换为html字符。而同时呢，wp="" 的="" wp-includes="" formatting.php="" 里面也会将这些字符做处理，这样就混乱了。解决方法也很简单，把coding插件里面的相应函数注释掉就好了（目前发现注释掉&和"就可以）。="" <pre="" class="prettyprint lang-php">
        // init

        $aTransSpecchar = array(
//            '&' => '&amp;',
//            '"' => '&quot;',
            '<' ==""> '<', '="">' => '>' 
            );            

        $aTransSpecchar = array();
.....
}
</',></'></,">
      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/bug-of-coding-plugin/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="awk-array/">awk 数组的一个应用</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-05-16T16:00:00.000Z" itemprop="datePublished">May 17, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Other/">Other</a> <a href="../tags/Linux/">Linux</a> <a href="../tags/awk/">awk</a> <a href="../tags/bash/">bash</a>
</div>
    </div>
      
        sed和awk这本书看了好久了，sed部分将就看完了，awk部分基本没怎么看。上次有人问起一个比较文件的问题，发现awk来解决非常的简单。

比较两个文件A、B，打印出包含在A中的，但是不包含在B中的所有行。

根据题目要求，awk的解决方法如下:
<pre class="prettyprint lang-bash">

里面NR表示行号，FNR表示当前文件中的行号。NR==FNR的时候，表示此时正在读取B文件，以B中的$0为索引，建立一个数组，并且都赋值为1。
当NR>FNR 的时候，表示此时在读取A文件，如果a[$0]为1，那么就表示这个$0是在B里面也存在的，是吧？所以，如果要B里面不存在的，那么就得是a[$0]不为1的，就是没做过赋值的。所以了，就是这个了。

进阶一下，比较两个文件A、B，打印包含在A中第一列，但是不包含在B中第二列的整行。

类似的：
<pre class="prettyprint lang-bash">

比较文件内容还可以用comm命令，还有人提出了grep命令，例如第一个问题：
<pre class="prettyprint lang-bash">
</pre></pre></pre>
      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/awk-array/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="busy-may-day/">繁忙的五一</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-05-08T16:00:00.000Z" itemprop="datePublished">May 9, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Heart/">Heart</a> <a href="../tags/五一/">五一</a>
</div>
    </div>
      
        五一陪老婆回了沈阳，这次计划中就比较充实，去了沈阳的好几个景点，也幸好有车了，要不估计得累趴下。

1号去了怪坡。怪坡就是一段大概100多米的坡度不到1°的路，上坡的时候，自行车、汽车不需要动力就可以上去，下坡的时候反而需要。据说好多人研究了没结果，呵呵，我感觉就是一个视觉差的一个坡度，不知道了就。

2号去了本溪水洞。其实就是类似南方的溶洞，里面好多钟乳石一样的东西，洞还比较长，坐船好久才往回走，还没有到头。里面水温不高，不过据说全年都这个温度，现在去里面很凉快，动态可能会感觉暖和。

3号休息了一天，去中街逛了逛，兴隆大家庭里面玩了会。老婆玩了会旱冰。晚上去看了二人转，好几个都是赵本山的徒弟，有些演的还是挺好的。

4号去了极地皇家海洋世界。地方不错，就是人太多了，由于很多过道比较窄，所以很多地方都是挤着就过去了，基本没怎么仔细看。唯一的亮点就是最后的海豚表演了。最后那个世纪丛林其实也没啥意思，不如不花那个门票钱。

5号去姥姥家，去五爱市场逛了逛，买了些衣服，呵呵。

6号上午去太原街逛了逛，下午去体育大学旁边的一个游泳馆游了会，这次算是我第一次正式学游泳了，水里泡了会，还挺好玩的，呵呵。

晚上去了好几次市府广场，玩了两次刷刷，租鞋3块钱不限时，多便宜，呵呵。北京这边我唯一知道的就是北展广场了，可惜太远。这次真是玩累了，下次去了就逛逛中街好了。

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/busy-may-day/#disqus_thread">Comments</a></span>
	
</div>
</article>


  <nav id="pagenavi">
    
        <a href="/page/19/" class="prev">Prev</a>
    
    
        <a href="/page/21/" class="next">Next</a>
    
  <div class="center"><a href="/archives/index.html">Blog Archives</a></div>
  </nav>


    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2016

    wd
. Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> |
    Theme is <a href="https://github.com/wd/hexo-fabric">hexo-fabric</a>, fork from <a href="http://github.com/panks/fabric">fabric</a> by <a href="http://panks.me">Pankaj Kumar</a>
</div>


    </footer>
    <script src="/javascripts/fabric.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script>
 <!-- Delete or comment this line to disable Fancybox -->



<!-- end toload --> 
</div>
</div>
<script src="/javascripts/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
/*<![CDATA[*/
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery); 
/*]]>*/
</script><!-- remove it to remove the scroll to top button -->
</body>
</html>
