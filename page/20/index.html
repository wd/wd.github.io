<!DOCTYPE HTML>
<html>
<head>
	<meta name="generator" content="Hugo 0.19" />
	<meta charset="utf-8">
    
    
    <title>wd and cc</title>
    <meta name="author" content="wd">
    <meta name="description" content="">
    <meta name="keywords" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link href="https://wdicc.com/index.xml" rel="alternate" title="wd and cc" type="application/atom+xml">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/css/custom.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='//fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    

    <script type="text/javascript" src="/js/jquery-tapir.js"></script>

    

    <link rel="stylesheet" href="/css/hljs.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>


<body>
    <div id="wrapper">
        <header id="header" class="inner">
<h1 class="animated bounceInDown">
    <div id="headerbg">
        wd and cc
    </div>
</h1>

<span class="subtitle">happy every day</span>
<br>

<ul id="social-links" style="text-align:center; clear:both;">
    
    
    <li>
    <a href="https://github.com/wd" class="github" title="Github"></a>
    </li>
    
    
    
    
    
    <li>
    <a href="http://www.twitter.com/wd" class="twitter" title="Twitter"></a>
    </li>
    
    
    
    
    
</ul>


<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/archives/index.html">Archives</a></li>
	<li id="ajax"><a href="/tags/index.html">Tags</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    <li>
    <div id="dark">
        <form action="//www.google.com.hk/search" method="get" accept-charset="UTF-8" id="search">
            <input type="hidden" name="sitesearch" value="https://wdicc.com/" />
            <input type="text" name="q" results="0" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
</ul>

</header>

<div id="toload">

    <div id="content" class="inner">
        




    
    <script id="dsq-count-scr" src="//wdicc.disqus.com/count.js" async></script>
    




  <article class="post">
    <h2 class="title"> 
        <a href="/smsd-and-chinese/">smsd 发送中文短信乱码</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2007-07-05T00:00:00.000&#43;00:00' itemprop="datePublished">2007-07-05</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/gnokii">gnokii</a>

<a href="/tags/linux">linux</a>

<a href="/tags/other">other</a>

<a href="/tags/smsd">smsd</a>


</div>
    </div>
        <p>smsd是使用mysql数据库的，所以这个乱码很容易把人搞晕。我之前<a href="http://blog.wdicc.com/wordpress/gnokii_howto_chinese_sms/">写过</a>gnokii发送短信是和locale有关系的，只要在utf8的locale下面就可以正常发送中文短信了。而smsd也和这个类似，也需要utf8的locale。但是还需要注意的一点就是mysql也是有编码设置的。所以可能会认为，文本插入数据库之前是不是也需要对数据库做utf8的设置呢？其实是不需要的，这么做反而会造成乱码。</p> <p>smsd连接mysql用的是mysql默认的字符集，那么我们插入文本的时候，也同样需要使用这个字符集，需要注意的是，这个文本也需要是utf8编码的。mysql默认的字符集通常是 “default-character-set&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; latin1”。</p> <p>我写的一个python的用来插入数据库要发送的信息的程序。</p> <p><pre lang="python">#!/usr/bin/env python2.3<br />
#coding=utf-8<br />
import sys<br />
import MySQLdb<br />

#  inbox<br />
#+------------+------------------+------+-----+---------------------+----------------+<br />
#| Field      | Type             | Null | Key | Default             | Extra          |<br />
#+------------+------------------+------+-----+---------------------+----------------+<br />
#| id         | int(10) unsigned |      | PRI | NULL                | auto_increment |<br />
#| number     | varchar(20)      |      |     |                     |                |<br />
#| smsdate    | datetime         |      |     | 0000-00-00 00:00:00 |                |<br />
#| insertdate | timestamp        | YES  |     | CURRENT_TIMESTAMP   |                |<br />
#| text       | varchar(160)     | YES  |     | NULL                |                |<br />
#| phone      | tinyint(4)       | YES  |     | NULL                |                |<br />
#| processed  | tinyint(4)       |      |     | 0                   |                |<br />
#+------------+------------------+------+-----+---------------------+----------------+<br />

#  outbox<br />
#+----------------+------------------+------+-----+---------------------+----------------+<br />
#| Field          | Type             | Null | Key | Default             | Extra          |<br />
#+----------------+------------------+------+-----+---------------------+----------------+<br />
#| id             | int(10) unsigned |      | PRI | NULL                | auto_increment |<br />
#| number         | varchar(20)      |      |     |                     |                |<br />
#| processed_date | timestamp        | YES  |     | CURRENT_TIMESTAMP   |                |<br />
#| insertdate     | timestamp        | YES  |     | 0000-00-00 00:00:00 |                |<br />
#| text           | varchar(160)     | YES  |     | NULL                |                |<br />
#| phone          | tinyint(4)       | YES  |     | NULL                |                |<br />
#| processed      | tinyint(4)       |      |     | 0                   |                |<br />
#| error          | tinyint(4)       |      |     | -1                  |                |<br />
#| dreport        | tinyint(4)       |      |     | 0                   |                |<br />
#| not_before     | time             |      |     | 00:00:00            |                |<br />
#| not_after      | time             |      |     | 23:59:59            |                |<br />
#+----------------+------------------+------+-----+---------------------+----------------+<br />

class Mydb:<br />
        def __init__(self):<br />
                try:<br />
                        self.db=MySQLdb.Connection(host="localhost",user="gnokii",<br />
                                passwd="gnokii",db="gnokii")<br />

                except MySQLdb.OperationalError, message:<br />
                        errorMessage = "Error %d:\n%s" % (message[ 0 ], message[ 1 ] )<br />
                        print errorMessage<br />
                        sys.exit(1)<br />
                else:   <br />
                        self.cursor = self.db.cursor()<br />
#                       self.cursor.execute("SET NAMES 'utf8'")<br />
                        return<br />
                        <br />
        def insert(self,sql):<br />
                self.cursor.execute(sql)<br />
        <br />
        def showdata(self,sql):<br />
                self.cursor.execute(sql)<br />
                return self.cursor.fetchall()<br />
                <br />
        def __del__(self):<br />
                self.cursor.close<br />
                self.db.close<br />

text = sys.stdin.read()<br />
db = Mydb()<br />

if len(sys.argv) &gt; 1 and len(text):<br />
        number = sys.argv[1]<br />
        sql = 'insert into outbox (number,text) VALUES ("' + number + '","' + text + '")'<br />
        <br />
        db.insert(sql)<br />

else:   <br />
        print <br />
        print "    ********** outbox ********** "<br />
        for rs in db.showdata("select * from outbox"):<br />
                print rs[0],rs[1],rs[2],rs[-7],rs[-5]<br />
        <br />
        print "    ********** inbox *********"<br />
        for rs2 in db.showdata("select * from inbox"):<br />
                print rs2[0],rs2[1],rs2[-3]</pre><br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/smsd-and-chinese/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/happy-birthday-to-cc-2/">今天是老婆生日</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2007-07-02T00:00:00.000&#43;00:00' itemprop="datePublished">2007-07-02</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/heart">heart</a>

<a href="/tags/%E7%94%9F%E6%97%A5">生日</a>

<a href="/tags/%E8%80%81%E5%A9%86">老婆</a>


</div>
    </div>
        <p><img src="http://static.zooomr.com/images/2610988_289076f6e9_m.jpg"> </p> <p><img src="http://static.zooomr.com/images/2610528_a2783d34d0_m.jpg"> </p> <p><img src="http://static.zooomr.com/images/2610438_046cef82a2_m.jpg"> </p> <p>这是老婆过生日她同学送的花篮，呵呵。zoomr传了半天失败了n次才把这个图片传上去，真郁闷。</p> <p>老婆又生日了，和我认识的第4个了。2004年5月份认识，也就是在她的生日前后在一起的。在一个桑拿天去了嘉年华，那汗把我一件新T恤上面的图案都洗了，北京的天气真bt，不过也可能是我的T恤的问题。。。。</p> <p>刚想起来和老婆在一起后的一个小故事，呵呵。有天早上我走的时候，顺手从冰箱里面拿出来一袋牛奶，本来想自己带的，结果放桌子上面忘记了。老婆后起来的，看到那个牛奶还挺感动，以为是我怕牛奶太凉早上喝不合适，提前给她拿出来的，哈哈呵呵嘿嘿。。。</p> <p>老婆<font color="#008000" size="4">生日快乐</font>哦。</p><br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/happy-birthday-to-cc-2/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/oracle-jobs/">oracle 的 job 又遇到问题了</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2007-06-29T00:00:00.000&#43;00:00' itemprop="datePublished">2007-06-29</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/job">job</a>

<a href="/tags/linux">linux</a>

<a href="/tags/oracle">oracle</a>

<a href="/tags/other">other</a>

<a href="/tags/%E9%AB%98%E7%BA%A7%E5%A4%8D%E5%88%B6">高级复制</a>


</div>
    </div>
        <p>还是高级复制的问题，这次可能是因为job执行过程中，对方机器刚好重启导致的。反正job是卡在那里了，都10多天了。</p> <p>查看 dba_jobs_running 表，可以看到卡住的job的 job_id 和 sid 。查看 dba_jobs 表，可以看到相应 job 的信息，this_date 如果有数据的话，表示的是 job 开始执行的时间，next_date 是下次执行 job 的时间，如果 job 正常执行完毕，那么 this_date 应该是空的。根据 sid 还可以查看 v$session_wait 和 v$session 里面的这个 job 的一些状态。</p> <p>尝试了下面的方法来重新运行job，当时好像不好用，不过今天来看的时候，job是执行了。现在也不清楚是不是我这个操作起作用了，真晕。</p> <p><pre lang="txt">SQL&gt; exec dbms_job.broken(109,true);<br />

PL/SQL procedure successfully completed.<br />

SQL&gt; commit;<br />

Commit complete.<br />

SQL&gt; select job,sid from dba_jobs_running;<br />

       JOB        SID<br />
---------- ----------<br />
       109        656<br />

SQL&gt; select saddr,sid,serial#,paddr,username,status from v$session where username = 'REPADMIN';<br />

SADDR           SID    SERIAL# PADDR    USERNAME                       STATUS<br />
-------- ---------- ---------- -------- ------------------------------ --------<br />
973CF8C4        626         27 98F96BB8 REPADMIN                       ACTIVE<br />
973D2E7C        629         10 98F88670 REPADMIN                       ACTIVE<br />
973F11F4        656         10 98F88174 REPADMIN                       ACTIVE<br />

SQL&gt; alter system kill session '656,10';<br />

System altered.<br />

SQL&gt; select saddr,sid,serial#,paddr,username,status from v$session where username = 'REPADMIN';<br />

no rows selected<br />

SQL&gt; select job,sid from dba_jobs_running;<br />

no rows selected<br />

SQL&gt; select job,log_user,last_date,next_date from dba_jobs where log_user='REPADMIN';<br />

       JOB LOG_USER                       LAST_DATE<br />
---------- ------------------------------ -------------------<br />
NEXT_DATE<br />
-------------------<br />
       106 REPADMIN                       2007-06-28 16:25:43<br />
2007-06-28 16:35:43<br />

       109 REPADMIN                       2007-06-28 16:07:38<br />
4000-01-01 00:00:00<br />

       110 REPADMIN                       2007-06-28 16:25:43<br />
2007-06-28 16:35:43<br />


SQL&gt; exec dbms_job.broken(109,false,sysdate);<br />

PL/SQL procedure successfully completed.<br />

SQL&gt; commit;<br />

Commit complete.<br />

SQL&gt; select job,log_user,last_date,next_date from dba_jobs where log_user='REPADMIN';<br />

       JOB LOG_USER                       LAST_DATE<br />
---------- ------------------------------ -------------------<br />
NEXT_DATE<br />
-------------------<br />
       106 REPADMIN                       2007-06-28 16:25:43<br />
2007-06-28 16:35:43<br />

       109 REPADMIN                       2007-06-28 16:07:38<br />
2007-06-28 16:28:40<br />

       110 REPADMIN                       2007-06-28 16:25:43<br />
2007-06-28 16:35:43<br />
</pre><br />
<p>此后就我所知道的，就只能等着了。dbms_job.run(job_id) 也可以让 job 立即执行。关键是看 this_date ，他的值就是开始执行 job 的时间，job 如果执行时间太长，而下次执行又太快的话，可能也会导致问题。所以还可以尝试手动执行 job 看看。 dba_jobs 的 waht 字段就是对于的语句。</p><br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/oracle-jobs/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/funny-words-of-child/">爆笑幼儿园（转载）</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2007-06-29T00:00:00.000&#43;00:00' itemprop="datePublished">2007-06-29</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/joke">Joke</a>

<a href="/tags/%E7%AB%A5%E8%A8%80%E6%97%A0%E5%BF%8C">童言无忌</a>


</div>
    </div>
        <p>转自<a href="http://www.leehare.cn/read.php?3560">这里</a>。</p> <p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1号幼儿园 <br></strong>问题一：如果有一天大海里没有水了，鱼怎么办呢？ <br>　　小朋友A：鱼到小河里去呗。（想了想，继续）哦，不行，那鲸鱼怎么办？太大了，进不去。（真体贴啊） <br>　　小朋友B：变化石呗。（鱼们狂吐血……） <br>问题二：牛奶是从哪里来的？ <br>　　小朋友A：奶牛肚子下面有几个嘴，从那里流出来的。（你真的确定那是嘴吗？） <br>　　继续问：那椰奶怎么来的？ <br>　　小朋友B：椰奶是羊奶吧。（扯太远了吧，兄弟） <br>　　继续问到底：羊奶是什么？ <br>　　小朋友B：羊奶就是酸奶吧，我们家不喝的，我们家订的是光明牛奶。（好可怕的逻辑） <br>问题三：小朋友的脸是干吗用的？ <br>　　小朋友A：给妈妈亲的。 <br>　　追问：那给不给爸爸亲？ <br>　　小朋友A：给爸爸亲。 <br>　　继续追问：那你的脸到底是给谁亲的？ <br>　　小朋友A：给妈妈亲的。（爸爸泪流满面） <br>　　小朋友B：贴纸头用的。（你的脸难道是布告栏？） <br>问题四：为什么小孩子是从妈妈肚子里出来的，不是从爸爸肚子里出来的？ <br>　　小朋友A：女孩子是从妈妈肚子里出来的，男孩子是从爸爸肚子里出来的。（真会蒙人） <br>　　小男孩B：因为男生可爱！（小女孩们一起叫：男生不可爱！） <br>问题五：小朋友的头发有什么用？ <br>　　小女孩A：用来梳头发的。 <br>　　提问小男孩B：那你的头发不能扎辫子，有什么用呢？ <br>　　小朋友B：用来给理发店剃头的。（可贵的奉献精神） </p><br />
<!--more--><br />
 <p><strong>2号幼儿园 </strong><br>问题一：人为什么只有两条腿？ <br>　　小朋友A：因为我们不是动物。（鸭子难道是四条腿？） <br>　　小朋友B：人长不出四条腿。（这是上天的安排，最大） <br>　　小朋友C：（自己大笑）长四条腿就要打架了。 <br>　　追问：可是狗狗长得四条腿跑得很快啊？ <br>　　小朋友C：（发呆）……（众小朋友纷纷大叫：我比狗跑得快！） <br>问题二：怎样才能让胖子马上瘦下来？ <br>　　小朋友A：吃减肥饼干。（还算聪明） <br>　　追问：吃减肥饼干不能立即瘦，怎样才能一下子变瘦？ <br>　　小朋友A: 那不吃减肥饼干。（你耍我？） <br>问题三：怎样才能让瘦子马上胖起来？ <br>　　小朋友A：喝牛奶。（牛奶又不是猪饲料） <br>　　小朋友B：吃很多饭就能当公安。（公安都是胖子？） <br>问题四：为什么有气球会飞到天上去？ <br>　　小朋友A：因为它有气。（没气能叫气球吗？） <br>　　追问：那为什么有的气球不能飞上天？ <br>　　小朋友A：因为里面气太少。（真会胡扯） <br><strong>3号幼儿园</strong><br>问题一：什么动物两只脚，早上太阳公公起来的时候，它会叫你起床？ <br>　　小朋友A：鸡，公鸡。（另一个小孩叫道：父鸡） <br>　　很好奇地问：什么叫父鸡？ <br>　　小朋友：母鸡叫母鸡，公鸡就叫父鸡。（恍然大悟……） <br>　　小朋友B：妈妈。 <br>　　小朋友C：太阳。（汗……太阳它8是动物啊） <br>　　继续问：太阳长脚吗？ <br>　　小朋友C：太阳有五只脚。（另一个小孩反驳：七只，彩虹是七种颜色的） <br>问题二：什么叫七嘴八舌？ <br>　　小朋友A：就是七个嘴巴，八个舌头，说话很乱。（有道理）又补充道：我们现在就是七嘴八舌。（还是有自知之明的） <br>　　小朋友B：变出很多个舌头。（好可怕……） <br>问题三：怎么分辨男女？ <br>　　小朋友A：看头发，长头发的是女孩，短头发的是男孩。（旁边一个短头发女孩泪奔……） <br>　　小朋友B：偷看他（她）小便，站着的是男生，蹲着的是女生。（这点年纪就好色……） <br>　　小朋友C：看他（她）穿什么袜子，红的是女生，蓝的是男生。（好纯情……） <br>　　小朋友D：看眼神。（好飘忽……） <br>问题四：如果朝鱼塘里扔块石头，会发生什么现象？ <br>　　小朋友A：水会变成波波。（……） <br>　　小朋友B：鱼会漂上来。（渔民很开心……） <br>　　小朋友C：罚款五块。（汗……） <br><strong>4号幼儿园</strong><br>问题一：汤山为什么叫汤山？ <br>　　小朋友A：因为是喝汤的山。（还真是望文生义啊……） <br>　　小朋友B：汤山是个温泉，洗澡的地方。（答非所问……） <br>　　小朋友C：下面很烫，所以叫汤山呗。（汗……原来是烫山……） <br>　　小朋友D：汤山是谁？（……） <br>问题二：有个老爷爷丢了一匹马，你认为马还会回来吗？ <br>　　小朋友A：不会，因为马在路上玩呢。（贪玩的马……） <br>　　小朋友B：不会，马它不会看年轮。（没见过马走路还要看年轮的……） <br>　　小朋友C：不会，马去和别的马结婚了。（还真是个浪漫的小孩……） <br>　　小朋友D：不会，老爷爷对那马不好，马去找新主人了。（现实很残酷，马也需要跳槽……） <br>问题三：医院里发药的阿姨为什么要戴口罩？ <br>　　小朋友A：因为院长怕她们偷吃。（难道药好吃？） <br>　　立即有个小朋友抢着说道：那些拿手术刀的叔叔戴口罩是不是怕他们聚餐啊？（晕……） <br>　　小朋友B：因为要讲卫生，怕口水流下来。（戴口罩原来是不让口水流下来啊…） <br><strong>5号幼儿园 </strong><br>问题一：可口可乐和百事可乐有什么不一样？ <br>　　小朋友A：名字不一样。（这个连火星人都知道） <br>　　小朋友B：可口可乐的罐子是红的，百事可乐是蓝色的。（我知道你不是色盲啦，乖） <br>　　小朋友C：百事可乐有周杰伦，可口可乐有香草（口味）。 <br>　　小朋友D：可口可乐是酸酸的，喝了鼻子会冒气！（会冒气说明那是罐敬业的可乐） <br>问题二：为什么地铁要在地底下开呢？ <br>　　小朋友A：因为地铁有个“地”字，所以要在地下开。（我就猜到有人会这么回答） <br>　　小朋友B：地铁没有轮子，不能在地上开。（有轮子吗？没有吗？有吗？） <br>问题三：世界上是先有鸡还是先有蛋？ <br>　　小朋友A：先有蛋。 <br>　　问：没有鸡的话，蛋从哪里来呢？ <br>　　小朋友A：…… <br>　　小朋友B：先有母鸡，然后下蛋。 <br>　　小朋友C：一共有30只蛋！ <br>　　惊讶：啥？？？30只蛋，没听错吧？ <br>　　小朋友C：因为有2只老母鸡，每个下了15个蛋，所以有30个！（小朋友您好神啊） <br>问题四：4月1日是什么节？ <br>　　小朋友A：母亲节。 <br>　　小朋友B：妇女节。 <br>　　提醒：妇女节是3月8号啦。 <br>　　小朋友B：那就是植树节！ <br>　　忍不住了：愚人节是几月几号？ <br>　　小朋友C：是1月8号！（这个……） <br>　　小朋友D：我知道了，4月1号是司机叔叔过节！（你是怎么想出来的，好奇中） <br>问题五：怎么样才能变漂亮？ <br>　　小朋友A：贴黄瓜，我妈妈天天在家贴。 <br>　　小朋友B：贴木瓜，我阿姨老是贴。 <br>　　小朋友C：贴鸡蛋！（难度真大） <br>　　小朋友D：贴土豆，我婆婆给我贴过手。 <br>　　小男孩E：我贴过芒果皮！（那是你瞎折腾的吧） <br><strong>总结：一个比一个神奇，DIY果然风行。</strong></p><br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/funny-words-of-child/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/gaokao-zuowen/">2007年高考语文北京作文一篇（转载）</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2007-06-28T00:00:00.000&#43;00:00' itemprop="datePublished">2007-06-28</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/joke">Joke</a>

<a href="/tags/%E6%90%9E%E7%AC%91%E4%BD%9C%E6%96%87">搞笑作文</a>


</div>
    </div>
        <p>转载自<a href="http://www.leehare.cn/read.php?3544">这里</a>。</p> <blockquote> <p>" 细雨湿衣看不见，闲花落地听无声"是唐朝诗人刘长卿在《别严士元》中的诗句。<br>曾经有人这样理解这句诗：1、这是歌颂春天的美好意境。 2、闲花、细雨表达了不为人知的寂寞。3、看不见、听不见不等于无所作为，是一种恬淡的处世之道。4 、这种意境已经不适合当今的世界……根据你的看法写一篇作文。题目自拟，体裁不限。字数800以上。</p></blockquote> <p>盛夏，夜，深夜。<br>景山山颠。<br>山上有人，两个人，一男一女。<br>这两人就是当今武林名声最响的两位杀手，男的名秋细雨，女的叫叶闲花，江湖人称"细雨闲花"。<br>诗人刘长卿曾用"细雨湿衣看不见，闲花落地听无声"来描述这两个可怕的杀手。细雨湿衣，湿衣的是鲜血；闲花落地，落地的是人头。这两人杀人来无影去无踪，如果他们想杀你，当你还没看到他们人影没听到他们声音的时候，你就已经死了。<br>秋细雨三天前接到一份帖子，指名要杀叶闲花。事成之后，不但有三百万两冥币，更可以让他在" 红楼梦中人"选秀节目中担任曹雪芹的角色！<br>但是杀死叶闲花比杀死比尔还要困难得多。<br>江湖中没有一个人清楚叶闲花的武功来历，性格脾气，但是每个人都知道叶闲花的故事。<br>叶闲花有一双迷人的大眼睛，据说她曾一动不动地瞪死过赵薇和高圆圆，而那一年她才十七岁。<br>叶闲花声音有如黄莺般幽婉醉人，传说听过她说话后林志玲身体酥麻了整整一年，你说要不要命？<br>叶闲花轻功独步武林，踏雪无痕，落地无声，号称超过当年青翼蝠王韦一笑。有人见她上星期在高速公路上偷了刘翔奥运会入场证，刘翔追出一万公里最后被活活累倒。</p><br />
<!--more--><br />
 <p>一般人听到叶闲花的故事早就吓得去买尿不湿了，但是秋细雨没有去买。<br>秋细雨不是一般人。<br>他知道，杀人不但要靠技术，还要拼人品！<br>秋细雨很镇定，他正用一把指甲刀修整着手指甲，他的手指修长有力。他要等待，等待对方先沉不住气。高手相争，不允许一丝一毫的失误，先沉不住气的人就会露出破绽。<br>致命的破绽！<br>因此秋细雨一言不发，只是静静地玩弄着指甲刀。<br>没想到叶闲花更是好整以暇，自己悠然自得地涂口红，喷香水。<br>秋细雨只好先发制人，道："你知道我找你出来是为什么。"<br>叶闲花温柔道："在我们动手之前，不能先谈谈么？"<br>秋细雨道："我是来杀人的，不是来聊天的。"<br>叶闲花道："你有把握杀我？"<br>秋细雨道："我从不做没有把握的事情。"<br>叶闲花道："我要提醒你一件事。"<br>秋细雨道："你说。"<br>叶闲花道："百晓生作杀手谱，小女子是杀手榜排名第一，阁下区区第二，你真能杀得了我么？"<br>秋细雨道："我也要提醒你一件事。"<br>叶闲花道："你说。"<br>秋细雨道："论杀手实力，我本在你之前，只是那次排名百晓生采用了短信投票系统，中国'花痴'人数过于庞大才让你得了第一。"<br>叶闲花的脸色一变，道："我更要提醒你，我的粉丝团叫'花粉 '，不叫'花痴'！"<br>秋细雨道："我最后要提醒你，你的那些'花粉'全都是花痴。还有，我们已经跑题了。"<br>叶闲花道："我们这样拼命厮杀，你难道不怕麻烦么？"<br>秋细雨道："你以后再也不用怕麻烦了，天下只有一种人永远不怕麻烦，死人！ "<br>叶闲花道："这么说你非逼我出手不可？"<br>秋细雨没有回答，他已不用回答。<br>秋细雨道："亮兵器！"<br>叶闲花道："我用刀。"<br>秋细雨道："你用刀？刀在何处？"<br>叶闲花道："我就是刀！"<br>叶闲花露出甜甜的笑容，忽然间褪下了自己的衣服，全身上下只剩下蕾丝比基尼和黑色丝袜。<br>叶闲花的脸美得让人窒息，再配上这样的身材，这样的服饰，充满了一种原始的诱惑力。<br>她的眼睛会说话，她的媚笑会说话，她的手，她的胸膛，她的腿……她身上每分每寸都会说话。<br>她知道，只要是个不瞎的男人，现在肯定会被她迷得神魂颠倒。<br>秋细雨是个男人，而且是个不瞎的男人。<br>可他现在却偏偏好像瞎了一样，完全无动于衷。<br>他知道，美丽的女人是一把刀，当你沉醉的时候，刀就会切进你的胸口。<br>秋细雨沉吟道："我只想问你一件事。"<br>叶闲花娇笑着：" 请讲。"<br>秋细雨道："大夏天的，穿这么少你丫不怕蚊子叮啊？"<br>叶闲花沉默了半晌，幽幽地道："你一定以为刚才我在喷香水，是不是？我告诉你，我喷的是六神花露水！"<br>叶闲花又道："不过这不是普通的六神，是我特别提炼的药水，无色无味无毒，不过却会慢慢扩散在空气中，闻到它的人会四肢麻痹不能动弹。"<br>秋细雨一惊，忽然觉得身体已经麻木不听使唤，不由得一身冷汗。<br>叶闲花又道："你以为我和你扯淡是因为我害怕，以为我脱掉衣服是想色诱你，其实这都是为了拖延时间让药水能扩散到你周围。"<br>秋细雨面上不动声色，道："难道你自己不怕药水的厉害？"<br>叶闲花得意地道： "一开始我涂的口红就是解药，所以我仍然可以自由行动。"<br>叶闲花逼视着秋细雨，问道："现在你还认为你能杀了我么？"<br>秋细雨道：" 我能。"<br>叶闲花道："你不能动而我能动，你却能杀了我，这不是很好笑么？ "<br>秋细雨道："是很好笑，但是你一定会被我杀死。"<br>叶闲花道："为什么我会被你杀死？"<br>秋细雨忽然反问道："飞刀能不能杀人？"<br>叶闲花道："好像能。"<br>秋细雨道："我有没有手？"<br>叶闲花道："的确有。"<br>秋细雨道："我手上有没有刀？ "<br>叶闲花道："你手上好像只有指甲刀。"<br>秋细雨道："足够了。"<br>叶闲花道："足够了？"<br>秋细雨道："我有手有刀，就能置人死地。"<br>叶闲花道："指甲刀也能杀人？实在可笑！"<br>秋细雨道："以前江湖中有七十三个人觉得我这把指甲刀很可笑。"<br>叶闲花道："现在呢？"<br>秋细雨道："现在人都已死了，死在这把刀下。"<br>叶闲花道："你的手还能动？"<br>秋细雨道："你要不要试试？"<br>叶闲花脸上的笑容渐渐凝固，忽然间，她已出手！<br>一招" 冒牌九阴白骨爪"直逼秋细雨天灵盖，这一招她已练过七年四个月零二十九天，她完全有把握相信没有任何人可以抵挡得了这一招。<br>可这一次她错了。<br>刀光一闪，"盗版小李飞刀"已插入她的咽喉。<br>她到死也不相信，一把指甲刀可以要了她的命！<br>闲花终于落地！<br>三个时辰后，药水的药效渐渐淡去，秋细雨终于可以动弹了。<br>望着叶闲花的尸体，秋细雨道："虽然你已经死了，但是我还要告诉你两件事。第一，我一直用甲刀修整着手指甲是为了调整手和刀之间的同步率，说白了就是找手感。第二，我杀你的真正目的不是为了钱或者名利。"<br>一边说，秋细雨一边从叶闲花衣服的口袋里搜出了刘翔的奥运会入场证。<br>秋细雨坚定地说："我爱北京，我要看奥运！"<br>从此，再也没有人见过秋细雨。</p><br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/gaokao-zuowen/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/change-trigger-setting-for-thold/">稍微深入了解了一下cacti的thold插件的邮件通知</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2007-06-28T00:00:00.000&#43;00:00' itemprop="datePublished">2007-06-28</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/cacti">cacti</a>

<a href="/tags/linux">linux</a>

<a href="/tags/other">other</a>

<a href="/tags/thold">thold</a>

<a href="/tags/trigger">trigger</a>


</div>
    </div>
        <p>通过cacti的thold插件，可以做到snmp抓取到的数值低于你规定的值的时候进行邮件通知，例如我用他来监控磁盘空间，当磁盘空间低于某个数的时候就会给指定的email发邮件。但是有一点郁闷的是，有时候，可能是由于网络原因，抓取会超时，这样就会导致触发trigger，给你发送邮件。5分钟抓取一次，我这里的情况是几乎每个小时总会有2，3封这种邮件，很烦人，而且根本没意义。早就想屏蔽掉这种情况了，看了代码挺复杂就懒得弄，今天实在受不了了，深入了解了一下。</p> <p>其实thold本身已经考虑到了这种情况，在 thold 的设置里面，就有一项 Default Trigger Count （Number of consecutive times the data source must be in breach of the threshold for an alert to be raised），就是连续触发几次才认为他真的低于 thold 了，才发送邮件。我尝试过修改这个设置，发现不管用。看了代码才了解，每个 <strong>Thresholds</strong>&nbsp;都有自己的 trigger 值，那个 default trigger count 只对新建的 thresholds 才有用。所以针对现有的，需要逐个去修改才行。如果不设置这个选项，那么使用的就是上面设置的那个默认的，所以没特殊需要，还是不要针对每个 thresholds 设置自己的 trigger 值比较好，这样方便修改。我通过修改数据库的方法，直接把这些都修改了。</p> <p><pre lang="sql">update thold_data set thold_fail_trigger = NULL;</pre><br />
<p>修改了之后还没有收到，这下应该清净了吧？</p><br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/change-trigger-setting-for-thold/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/resin-and-oracle/">为resin配置oracle连接池</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2007-06-27T00:00:00.000&#43;00:00' itemprop="datePublished">2007-06-27</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/linux">linux</a>

<a href="/tags/oracle">oracle</a>

<a href="/tags/other">other</a>

<a href="/tags/resin">resin</a>


</div>
    </div>
        <p>resin 2.x 的配置方法和 3.x 的方法有区别。按照<a href="http://www.caucho.com/resin-3.1/doc/db-thirdparty.xtp">官方文档</a>，做下面的配置。</p> <p><pre lang="txt"><database><br />
  <jndi-name>oraPool</jndi-name><br />
  <driver><br />
    <type>oracle.jdbc.pool.OracleConnectionPoolDataSource</type><br />
    <url>jdbc:oracle:thin:@localhost:1521:dbname</url><br />
    <user>username</user><br />
    <password>password</password><br />
  </driver><br />
#....<br />
</database></pre><br />
<p>&nbsp;在上面的 <font color="#ff0000">.... </font>这里还可以添加<a href="http://www.caucho.com/resin-3.1/doc/database-tags.xtp">其他的</a>配置信息。配置好之后启动resin，会发现提示类似下面的信息。</p><br />
<p><pre lang="txt">conf/resin.conf:218: java.lang.ClassNotFoundException: oracle.jdbc.pool.OracleConnectionPoolDataSource</pre><br />
<p>提示没有找到连接oracle数据库的jdbc驱动。这个驱动在oracle的安装目录里面有。比如我这里是在 /db/oracle/10.1.0/product/10g/jdbc/lib/ 。里面好多文件，具体都什么作用可以看<a href="http://www.oracle.com/technology/tech/java/sqlj_jdbc/htdocs/jdbc_faq.htm#02_07">这里</a>。</p><br />
<p>复制这个目录里面的 classes12.jar 和 nls_charset12.jar 到resin的 lib 目录下面，重新启动 resin 就可以了。本文完成过程中参考了<a href="http://dev.csdn.net/article/29/29762.shtm">这篇</a>文章。如何使用这个pool，官方文档也有<a href="http://www.caucho.com/resin-3.1/doc/config-database.xtp#usage/lookup">说明</a>。</p><br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/resin-and-oracle/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/such-hot-weather/">天气太热了</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2007-06-27T00:00:00.000&#43;00:00' itemprop="datePublished">2007-06-27</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/heart">heart</a>

<a href="/tags/weather">weather</a>


</div>
    </div>
        <p>最近两天天气有点变态了，闷热，北京的桑拿天又开始了。空调还没买上，晚上得整晚开风扇了。还好偶们家的风扇很强悍，风够大。早就说要把凉席弄上了，一直没时间，今天晚上回去看看。不知道周末天气如何，希望那两天能是个好天气。</p> <p>北京的交通是越来越让人郁闷了。前天早上有个超高的车在一个天桥那里卡住了，结果导致后面的车堵了得有几公里。平时十几分钟的路程走了1个小时。现在走在路上最怕的就是有事故。本来就2个车道（一个汽车道，一个自行车道，基本上自行车道都会被汽车占用，骑自行车的人都是在汽车中间穿梭），一旦发生事故，通常这条路就废了，这种路上也不时常安排几个交警，出现情况了，基本上就只能自己郁闷了，没几个小时解决不了问题。</p> <p>今天早上在车上还想，以前军训站排的时候，好像也没现在一早上站的时间长吧。从7点起来，洗脸刷牙穿衣服到车站，等车来了继续车上站着，换地铁还是站着，这一路下来也不少时间呢，现在站功也不得了了，呵呵。</p> <p>昨天和一个哥们一起喝酒，还在郁闷北京这种生活，但是郁闷归郁闷，生活还是得继续不是。</p><br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/such-hot-weather/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/howto-cc-an-email-to-others-in-sendmail/">sendmail 中自动抄送某个用户的邮件给别人</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2007-06-26T00:00:00.000&#43;00:00' itemprop="datePublished">2007-06-26</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/linux">linux</a>

<a href="/tags/mail">Mail</a>

<a href="/tags/sendmail">sendmail</a>

<a href="/tags/%E9%82%AE%E4%BB%B6%E8%BD%AC%E5%8F%91">邮件转发</a>


</div>
    </div>
        <p>sendmail有个 /etc/aliases 配置文件，在里面可以给某个帐号设置alias，这样给这个alias发的邮件，都会给设置好的用户转发过去。要知道sendmail的帐号是和系统帐号联系在一起的，添加mail帐号得给系统添加帐号（qmail可以实现虚拟用户，或许sendmail也可以，而我不知道罢了）。而这个alias帐号却不是必须有得有系统帐号的，只要设置了alias，就可以给alias用户发邮件，就好像系统真有这么一个帐号一样。</p> <p>关于 /etc/aliases 文件，<a href="http://www.feep.net/sendmail/tutorial/intro/aliases.html">这里</a>有个文章有说明。下面复制几个例子。</p> <p><pre lang="conf"># RFC 822 规定每个域名都需要有一个 "postmaster" <br />
postmaster      : root<br />

# 将 postmaster 的邮件都转发给 root 帐号，当然你下面还可以将root帐号的邮件在转发给别人。<br />

# 转发也可以转发到文件<br />
# 比如这个，都说了nobody了还给发邮件，邮件都丢掉<br />
nobody          : /dev/null<br />

# 也可以通过管道作为另一个程序的输入<br />
# 比如给procmail，它能实现的功能可就多了，比如可以根据邮件大小转发到不同的用户，或者调用spamassian、clamav来查垃圾邮件和病毒等<br />
# 一个自动的bug跟踪程序<br />
program-bugs: |/usr/local/bin/program-bug-tracker<br />

# 也可以转发到多个帐号，用逗号分隔就可以<br />
project-list: johndoe@host1.uiuc.edu,jsmith@host2.uiuc.edu,someone@host.purdue.edu<br />
</pre><br />
<p>可以看到功能还是很强悍的，尤其是可以 pipe 到程序，procmail、maildrop都是很不错的过滤程序，能实现很多其他的功能。</p><br />
<p>标题的要求是“抄送”某个帐号的邮件给别的用户，有点类似监控的意思。怎么实现呢？可能第一个想到的就是类似下面这种方法：</p><br />
<p><pre lang="conf">somebody:other1,other2,somebody</pre><br />
<p>这样是不是就能实现抄送呢？这样会造成死循环，呵呵。</p><br />
<p>看样子似乎只能通过pipe到程序实现了，看procmail、maildrop的文档还不够头疼的。其实还有个简单的方法，就是 <a href="http://www.feep.net/sendmail/tutorial/intro/forward.html">.forward</a> 文件。</p><br />
<p>.forward 文件位于用户的 home 下面，权限是 600 。他的功能和 /etc/aliases 文件类似，不过是 aliases 文件只能由root用户来修改，而 .forward 文件用户自己就可以修改。除了上面aliases能做到的事情外，他还多了一个功能，就是标题要求的功能。</p><br />
<p>按照标题的要求，只需要在 somebody 用户的 .forward 文件中放入下面的内容就可以了。</p><br />
<p><pre lang="conf">\\somebody<br />
other1<br />
other2</pre><br />
<p>要注意 somebody 前面的那个\，就是用来防止转发死循环的。加了\之后，给somebody转发的时候会忽略该用户的 .forward 文件。</p><br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/howto-cc-an-email-to-others-in-sendmail/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/slow-yupoo/">不得不说yupoo越来越慢了。。</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2007-06-26T00:00:00.000&#43;00:00' itemprop="datePublished">2007-06-26</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/flickr">flickr</a>

<a href="/tags/heart">heart</a>

<a href="/tags/yupoo">yupoo</a>

<a href="/tags/zooomr">zooomr</a>


</div>
    </div>
        <p>刚从 <a href="http://flickr.com">flickr</a> 迁移到 <a href="http://wdicc.yupoo.com">yupoo</a> 的时候，速度还挺快的，当时就担心越来越慢。现在的情况是，我blog上面引用的图片好多时候都显示不了，真郁闷啊。现在flickr被盾了，难道又得找新的地方了么？</p> <p>yupoo 还是不错的，又有桌面的上传工具，又有 fx 的扩展。还是国内的，也不用担心被盾。可是。。速度为啥就不能快点呢。。。</p> <p>似乎可以考虑下 <a href="http://beta.zooomr.com/">zooomr</a> ，不过是国外的，难说哪天又被盾了。真郁闷。</p> <p>我来看，<a href="http://yutube.com">yutube</a> 被盾是迟早的。</p> <p>zooomr 申请了一个帐号，贴个图看看先。这是kfc的优惠券，打印了就可以用，呵呵。</p><a title="Photo Sharing" href="http://www.zooomr.com/photos/wd/2552707/"><img height="500" alt="kfc" src="http://static.zooomr.com/images/2552707_f4edee8491.jpg" width="381"></a><br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/slow-yupoo/#disqus_thread">Comments</a></span>
    
</div>
</article>



  <nav id="pagenavi">
    
        <a href="/page/19/" class="prev">Prev</a>
    
    
        <a href="/page/21/" class="next">Next</a>
    
  <div class="center"><a href="/archives/index.html">Blog Archives</a></div>
  </nav>


    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2017
    
    wd
    . Powered by <a href="http://gohugo.io" target="_blank">Hugo</a> |
    Theme is <a href="https://github.com/wd/hugo-fabric">hugo-fabric</a>, fork from <a href="https://github.com/wd/hexo-fabric">hexo-fabric</a> by <a href="https://wdicc.com">me</a>
</div>

    </footer>
    <script src="/js/fabric.js"></script>


</div>
</div>
<script src="/js/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
 
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery);
 
</script>
</body>
</html>
