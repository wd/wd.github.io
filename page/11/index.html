<!DOCTYPE HTML>
<html>
<head>
	<meta name="generator" content="Hugo 0.19" />
	<meta charset="utf-8">
    
    
    <title>wd and cc</title>
    <meta name="author" content="wd">
    <meta name="description" content="">
    <meta name="keywords" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link href="https://wdicc.com/index.xml" rel="alternate" title="wd and cc" type="application/atom+xml">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/css/custom.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='//fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    

    <script type="text/javascript" src="/js/jquery-tapir.js"></script>

    

    <link rel="stylesheet" href="/css/hljs.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>


<body>
    <div id="wrapper">
        <header id="header" class="inner">
<h1 class="animated bounceInDown">
    <div id="headerbg">
        wd and cc
    </div>
</h1>

<span class="subtitle">happy every day</span>
<br>

<ul id="social-links" style="text-align:center; clear:both;">
    
    
    <li>
    <a href="https://github.com/wd" class="github" title="Github"></a>
    </li>
    
    
    
    
    
    <li>
    <a href="http://www.twitter.com/wd" class="twitter" title="Twitter"></a>
    </li>
    
    
    
    
    
</ul>


<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/archives/index.html">Archives</a></li>
	<li id="ajax"><a href="/tags/index.html">Tags</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    <li>
    <div id="dark">
        <form action="//www.google.com.hk/search" method="get" accept-charset="UTF-8" id="search">
            <input type="hidden" name="sitesearch" value="https://wdicc.com/" />
            <input type="text" name="q" results="0" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
</ul>

</header>

<div id="toload">

    <div id="content" class="inner">
        




    
    <script id="dsq-count-scr" src="//wdicc.disqus.com/count.js" async></script>
    




  <article class="post">
    <h2 class="title"> 
        <a href="/use-pdnsd-cache-you-dns-record/">使用 pdnsd 来缓存 dns</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2009-07-28T00:00:00.000&#43;00:00' itemprop="datePublished">2009-07-28</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/dns">dns</a>

<a href="/tags/linux">linux</a>

<a href="/tags/pdnsd">pdnsd</a>


</div>
    </div>
        如果你的网络实在很快，好像也没这个必要。当然我用他还有一个目的就是我的 dns 我做主，省的被劫持。<br />

打开一个网页有时候 dns 查询就占了一些时间，如果想把这个时间也节省下来，那可以试试看这个。类似的软件还有 dnsmasq，我觉得 dnsmasq 没 pdnsd 灵活一点，反正基本的缓存功能肯定是都有的。。。我这还有同事用 bind 做缓存，呵呵，选什么看各自喜好了。<br />

我用的 wicd, 他会修改 /etc/resolv.conf 这个文件，就算在他的设置里面设置了全局 dns 也没用。不过还好他提供了一个 /etc/resolv.conf.head 文件。这个文件里面的东西会被放到 /etc/resolv.conf 的开头。所以我在那里面写上了 nameserver 127.0.0.1。<br />

具体到 pdns 的设置，好像我也没改什么。<br />
<pre class="prettyprint lang-conf">
server {
	label = "opendns";
	ip = 202.181.224.2, 202.181.202.140;
	#ip = 208.67.222.222, 208.67.220.220;
#	reject = 208.69.32.0/24,  # You may need to add additional address ranges
#	         208.69.34.0/24,  # here if the addresses of their search engines
#	         208.67.219.0/24; # change.
	reject_policy = fail;     # If you do not provide any alternative server
	                          # sections, like the following root-server
	                          # example, "negate" may be more appropriate here.
	timeout = 4;
	uptest = ping;            # Test availability using ICMP echo requests.
   ping_timeout = 100;       # ping test will time out after 10 seconds.
	interval = 15m;           # Test every 15 minutes.
	preset = off;
	policy=included;
	exclude=".abc.com";
}

server {
	label = "yahoo";
	ip = 10.62.163.4, 10.62.163.9;
	timeout = 4;
	uptest = ping;
	ping_timeout = 100;
	interval = 15m;
}
</pre><br />

我设置两个 server。第一个解析除了 .abc.com 之外的，第二个解析 .abc.com 。这个 abc.com 实际上是我们内网的一个地址，只能在内网 dns 解析。<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/use-pdnsd-cache-you-dns-record/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/grub2-fbsplash-in-gentoo/">grub2 fbsplash in gentoo</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2009-07-25T00:00:00.000&#43;00:00' itemprop="datePublished">2009-07-25</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/fbsplash">fbsplash</a>

<a href="/tags/grub2">grub2</a>

<a href="/tags/hibernate">hibernate</a>

<a href="/tags/linux">linux</a>


</div>
    </div>
        http://v.youku.com/v_show/id_XMTA4MDAwMjI0.html<br />

<embed src="http://player.youku.com/player.php/sid/XMTA4MDAwMjI0/v.swf" quality="high" width="480" height="400" align="middle" allowScriptAccess="sameDomain" type="application/x-shockwave-flash"></embed><br />

具体方法参考下面的文章<br />
<li>1 <a href='http://wdicc.com/fbsplash-howto/'>给系统加上 fbsplash 支持</a></li><br />
<li>2 <a href='http://wdicc.com/how-to-use-grub2/'>使用 grub2</a></li><br />

视频最后从 休眠 启动后，提示了一个 xtrlock 的错误，应该是刚进桌面就休眠引起的，正常情况应该是启动后会锁定屏幕。<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/grub2-fbsplash-in-gentoo/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/fbsplash-howto/">给系统加上 fbsplash 支持</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2009-07-25T00:00:00.000&#43;00:00' itemprop="datePublished">2009-07-25</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/fbsplash">fbsplash</a>

<a href="/tags/linux">linux</a>


</div>
    </div>
        先贴几个参考文章。<br />
<li>1 <a href="http://forums.gentoo.org/viewtopic-t-728450-highlight-grub2.html">HOWTO: Fancy Grub and fbsplash on a machine with Intel graphic chipsets</a></li><br />
<li>2 <a href="http://www.gentoo-wiki.info/Fbsplash">Fbsplash</a></li><br />
<br />
这两个文章里面最重要是那些内核选项的支持，弄好了那些才有下面的内容。里面有个要注意的是 General Setup ---> Initial RAM filesystem and RAM disk (initramfs/initrd) support ---> Built-in initramfs compression mode 这个选项，好像是从 2.6.30 出来的。这个压缩模式选的是什么，关系到后面的工作。<br />

安装 splashutils[fbcondecor] 和 media-gfx/splash-themes-gentoo 或 media-gfx/splash-themes-livecd 这两个都是提供一些 theme，在 /etc/splash 目录下面。<br />

我的 kernel 没有 initrd 文件，是编译到内核的，所以这么做。<br />
<pre class="prettyprint lang-bash">
cd /usr/src/linux && make && make install # recompile kernel, this is my way
</pre><br />

然后就是设置内核参数，下面是我的。那个 quiet 会让 kernel 不显示信息，如果你不想，那就去掉。<br />
video=uvesafb:1024x768-32,mtrr:3,ywrap quiet splash=silent,theme:natural_gentoo console=tty1 fbcon=scrollback:64K<br />

如果用的是 tuxonice 内核，那还可以给 sys-apps/tuxonice-userui 加上 fbsplash use，装好后会提示你 ln 一个 splash theme 为 tuxonice ，照做就是了。另外还需要在内核里面 Power management and ACPI options ---> Enhanced Hibernation (TuxOnIce) ---> Default userui program location 设置为 /sbin/tuxoniceui_fbsplash ，重编内核。。。<br />

这么弄完之后会发现，休眠后再启动的时候会显示一个没找到 /sbin/tuoniceui_fbsplash 的错误，还有一些百分比，这些实际上不影响正常启动。不过好像有点影响美观。我琢磨了下，觉得那个错误可能是没有把那个文件弄到 initramfs 里面的缘故，弄进去之后果然没了，不过还是有那个百分比出来。<br />

先 cp 一份这个文件 /usr/src/linux/usr/initramfs_data.cpio[看压缩设置] 到临时目录，file 看看属性，我的是 gzip 压缩的，那就解压一下。然后用 cpio 看下里面的文件。<br />
<pre class="prettyprint lang-bash">
$ file initramfs_data.cpio 
initramfs_data.cpio: gzip compressed data, was "initramfs_data.cpio", from Unix, last modified: Sat Jul 25 19:26:29 2009
$ mv initramfs_data.cpio initramfs_data.cpio.gz
$ gzip -d initramfs_data.cpio.gz 
$ file initramfs_data.cpio 
initramfs_data.cpio: ASCII cpio archive (SVR4 with no CRC)
$ cpio --list < initramfs_data.cpio
.
lib
lib/splash
lib/splash/sys
lib/splash/proc
sbin
sbin/v86d
sbin/fbcondecor_helper
sbin/splash_helper
root
dev
dev/mem
dev/tty1
dev/fb
dev/tty0
dev/zero
dev/misc
dev/null
dev/vc
dev/console
etc
etc/splash
etc/splash/luxisri.ttf
etc/splash/natural_gentoo
etc/splash/natural_gentoo/1024x768.cfg
etc/splash/natural_gentoo/images
etc/splash/natural_gentoo/images/silent-1024x768.jpg
etc/splash/natural_gentoo/images/verbose-1024x768.jpg
xxx blocks
$ cat f
sbin/tuxoniceui_fbsplash
$ ls sbin
tuxoniceui_fbsplash
$ cpio -ov --format=newc -A -O initramfs_data.cpio < f
sbin/tuxoniceui_fbsplash
xxx blocks
$ gzip -c initramfs_data.cpio initramfs_data.cpio.gz
$ mv initramfs_data.cpio.gz /usr/src/linux/usr/initramfs_data.cpio
</pre><br />

ok， 这里你可以再看看文件里面的东西。没问题就可以复制过去了，要注意压缩格式。<br />

回头录一个视频放上来玩玩，呵呵。<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/fbsplash-howto/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/how-to-use-grub2/">使用 grub2</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2009-07-24T00:00:00.000&#43;00:00' itemprop="datePublished">2009-07-24</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/grub">grub</a>

<a href="/tags/linux">linux</a>


</div>
    </div>
        看到 ub 要默认用 grub2 了，看来这个东西够稳定了，就折腾了下。过程还有点头大，呵呵。这个东西最大的问题就是文档怎么那么少？。。。<br />

国内的大都是抄的 <a href='http://linuxtoy.org/archives/grub-2-installation-and-configuration.html'>这个</a> ，里面不知道为什么没有排版，那个样例用的是 debian，我用的 gentoo，有点小区别。<br />

gentoo 里面先 keyword unmask grub 1.96，然后安装他。<br />
<pre class="prettyprint lang-bash">echo "=sys-boot/grub-1.96 **">

安装之后，先重新生成 device.map。然后执行 update-grub 生成 grub 的一些配置文件，这个生成是根据的 /etc/grub.d 下面的文件，如果有兴趣可以去配置，我反正没配置，我手动修改的配置文件。
<pre class="prettyprint lang-bash">
sudo update-grub # 不是必须，可以手动生成配置文件</pre>

现在去看看 /boot/grub/grub.cfg 文件，里面应该会根据你的系统生成了一些东西。再改巴改巴，下面是我的。对了这个文件是只读的，改一下属性就好了。
<pre class="prettyprint lang-conf">
set default=0
set timeout=5
set root=(hd0,1)

insmod terminal
insmod gfxterm
insmod vbe
insmod font
insmod png

font /boot/grub/unifont.pff
set gfxmode=1024x768
terminal gfxterm

set menu_color_normal=white/black
set menu_color_highlight=white/dark-gray

#background_image /boot/grub/bg.tga
background_image /boot/grub/dev2.png


### END /etc/grub.d/00_header ###

### BEGIN /etc/grub.d/10_hurd ###
### END /etc/grub.d/10_hurd ###

### BEGIN /etc/grub.d/10_linux ###
menuentry "无敌Gentoo" {
	linux	/vmlinuz root=/dev/hda5 ro video=uvesafb:1024x768-32,mtrr:3,ywrap
}

menuentry "Gentoo (old kernel)" {
	linux /vmlinuz-old root=/dev/hda5 ro video=uvesafb:1024x768-32,mtrr:3,ywrap
}

menuentry "测试JPEG背景图片" {
  background_image /boot/grub/dev.tga
}


#title		Gentoo bootchartd
#root		(hd0,0)
#kernel		/vmlinuz root=/dev/hda5 video=uvesafb:1024x768-32,mtrr:3,ywrap init=/sbin/bootchartd
#savedefault
#
#
#title		Gentoo (rescue)
#root		(hd0,0)
#kernel		/vmlinuz root=/dev/hda5 init=/bin/bb
#savedefault
</pre><br />

注意后面两个注释，其实就是老的 grub 用的，对照一下就应该知道怎么改了。原来的 hd0,0 变成了 hd0,1 ，这个是需要注意的。<br />

那个背景图片是有要求的，我的用 file 查看是这样的 "dev.png: PNG image, 800 x 600, 8-bit/color RGBA, non-interlaced"，具体对 png jpg tga 的要求，还是去看 <a href="http://grub.enbug.org/FranklinPiat/grub.cfg.manpage">man</a> 吧。我试了 tga 文件，好像有点慢，我那个 png 速度还行。<br />

那个 font 是从 <a href="http://grub4dos.sourceforge.net/grub2/unifont.pff">这里</a> 下的，支持中文。<br />

配置好之后执行 sudo grub-install /dev/hda 就安装好了，没什么错误的话就可以重启看效果了。<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/how-to-use-grub2/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/best-way-to-fuck-gfw/">你在用什么方式翻墙？</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2009-07-20T00:00:00.000&#43;00:00' itemprop="datePublished">2009-07-20</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/firefox">firefox</a>

<a href="/tags/fuckgfw">fuckgfw</a>

<a href="/tags/gfw">gfw</a>

<a href="/tags/linux">linux</a>


</div>
    </div>
        翻墙估计应该是上网的必修课了，当然那些 90 后就别说了，他们大概只上 *qq.com 就好了。<br />

翻墙有不少方法，比如通过找公共的 vpn，用 tor，找一些 phpproxy 网站等。我这推荐一个比较好的方法，通过 <a href="http://www.sshgfw.com/">fuckgfw</a> 提供的 ssh proxy，速度比 tor 快的不是一点半点。<br />

我用的 linux，写了一个 expect 脚本来起代理服务，如下。里面的 USER 和  PWD 换成你申请到的用户名和密码。我把这个脚本命名叫 p, 放到了 ~/bin 下面，当然我的 ~/bin 是在 path 里面的，这样，执行一个 p 命令代理就自动起来了。用完的时候可以按 Ctrl-c 退出。<br />

<pre class="prettyprint lang-bash">
#!/bin/bash

expect -c '
spawn ssh -D 7070 -N USER@SERVER
expect {
	password { 
		send "PWD\r";
	}
}

interact {
	\001 exit;
}'
</pre><br />

当然，我用到的不只这个脚本了，要不也没什么好写的了。(本来觉得自己写了挺好的一个文章，最后还是就 expect 脚本 + autoproxy，唉，丢人。)<del datetime="2009-07-20T02:13:48+00:00">还用到了一个 proxy.pac ，自动使用代理的配置。如下，把这个文件存成 proxy.pac, 然后在 firefox 的 编辑->首选项->高级->网络->设置->自动代理配置URL 这个里面输入 "file:///home/wd/bin/proxy.pac" ，这样，你连接某个网站的时候，他会自动的去判断是不是要用代理。这个文件是 linuxsir 的 狱卒 给我的。:)<br />

<pre class="prettyprint lang-javascript">
function FindProxyForURL(url, host)
{
    url = url.toLowerCase();
    host = host.toLowerCase();
    if (dnsDomainIs(host,"twitter.com")
        || dnsDomainIs(host,"my.opera.com")
        || dnsDomainIs(host,"hk.yahoo.com")
        || dnsDomainIs(host,"tw.yahoo.com")
        || dnsDomainIs(host,"livejournal.com")
        || dnsDomainIs(host,"mitbbs.com")
        || dnsDomainIs(host,"friendfeed.com")
        || dnsDomainIs(host,"youtube.com")
        || dnsDomainIs(host,"sshgfw.com")
        )
        return "SOCKS 127.0.0.1:7070";
    else 
		return "DIRECT";
}
</pre><br />

这么做一个问题就是，如果你要新加某个网站进去，必须得重启 fx 才能生效。实际上 foxproxy 也可以配置使用 自动代理的，而且可以设置让他多长时间自动重载一下这个文件，算是智能一点了吧。不过我用 foxproxy 的时候发现，如果同时打开两个需要用到代理的网站，他会是一个一个打开的，不能同时，不知道是怎么回事。<br />

我现在用的是 multiproxy swith ，这个可以设置 pac 文件，不过是不会自动重载。当然，重启这个事情也不是什么大问题，装一个 quickrestart ext，然后在 toolbar 上面加一个，点一下就重启了，再加上 fx 会 restore session ，也就是等几秒，就生效了。</del><br />

再当然一个。如果觉得这个 pac 弄起来还是麻烦，那可以装一个 autoproxy，里面内置了一些列表，你只要设置一个 127.0.0.1:7070 的 socks 代理让他用就好了。哪个用 proxy 哪个不用是全自动的，不用你管。自己添加的列表也能即时生效。目前我用的这个，推荐一下哦。<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/best-way-to-fuck-gfw/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/auto-mount-smb-and/">写了一个用来 mount smb 和 u 盘之类的程序</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2009-07-20T00:00:00.000&#43;00:00' itemprop="datePublished">2009-07-20</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/autumount">autumount</a>

<a href="/tags/linux">linux</a>

<a href="/tags/smb">smb</a>


</div>
    </div>
        主要是不用 gnome 了，访问 smb 和 mount u盘有点不爽，无聊就写了一个。<br />

程序不是全自动的，是基于配置文件的。写好配置文件，然后执行这个程序。<br />

配置文件类似下面的<br />
<pre class="prettyprint lang-conf">
# type: u  | smb | cifs
#
#
-
 name: 匿名smb
 type: cifs
-
 name: cc
 type: cifs
 ip: 192.168.1.125
 opt: iocharset=utf8,codepage=cp936
-
 name: fileserver
 type: cifs
 ip: fileserver
 user: wd
 pwd: 1111
 opt: iocharset=utf8,codepage=cp936
-
 name: g1
 type: u
 partitions: /dev/sda1, /dev/sda2
-
 name: u 盘
 type: u
 partitions: /dev/sda1
</pre><br />

配置文件按 - 分段，这个文件是 yaml 格式的。这个程序得用到 dev-perl/yaml 。<br />

程序在<a href="http://github.com/wd/work/tree/91aa2432660a175ae486493e3a6f6edfb8ef787e/automount">这里</a>。<br />

本来之前在程序里面是有 umount 的，结果因为 umount 没成功，把我手机卡上面的东西都干掉了。。。所以还是保险一点，不加 umount 了，手动来吧。。。<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/auto-mount-smb-and/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/clever-cc/">聪明的老婆</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2009-07-20T00:00:00.000&#43;00:00' itemprop="datePublished">2009-07-20</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/heart">heart</a>


</div>
    </div>
        呃，今天好像疯牛病了，怎么一下更新了好几篇呢？。。。<br />

不得不说，老婆聪明没用在正道上。玩游戏那叫一个牛。昨天手机上面装了一个游戏，是一屏幕小球球，要消掉那种。我玩了会，弄出来一次把球全消了，260 多分，乐呵呵的给她看，让她玩玩，她要是玩不到，就可以取笑她了，嘿嘿。<br />

结果一会还给我了，人家弄了一个 600 多记录出来。。。。这还让不让人活了。。<br />

想起来之前用 palm 650 的时候，里面也有一个类似的游戏，排名前五都是他的名字，我都上不去那个榜。。。<br />

还有玩 qq 那个龙珠，其实就是类似 zuma 那个游戏。他居然学会了那个自己布局，然后一次全消掉那个方法。我反正是不会弄那个。。。<br />

好多次都是，我找到一个好玩的游戏，教给她怎么玩，然后过几天我就拍马也赶不上了。唉。。。可没劲了<br />

另外，不得不补充一下，其它地方她怎么总表现的那个猪呢？<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/clever-cc/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/clean-places-sqlite/">清理 firefox places.sqlite 来提速</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2009-07-18T00:00:00.000&#43;00:00' itemprop="datePublished">2009-07-18</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/firefox">firefox</a>

<a href="/tags/linux">linux</a>


</div>
    </div>
        来自这里 http://forum.moztw.org/viewtopic.php?t=26802<br />

使用前先备份，后悔了还能弄回去。<br />

<pre class="prettyprint lang-sql">
sqlite3 places.sqlite "DELETE FROM moz_historyvisits WHERE place_id IN (SELECT id FROM moz_places WHERE visit_count <=2 );"

sqlite3 places.sqlite "DELETE FROM moz_places WHERE (visit_count <=2 AND hidden <> 1 AND id NOT IN (SELECT place_id FROM moz_annos UNION SELECT fk FROM moz_bookmarks));"

sqlite3 places.sqlite "DELETE FROM moz_inputhistory WHERE place_id NOT IN (SELECT id FROM moz_places);"

sqlite3 places.sqlite "DELETE FROM moz_favicons WHERE id NOT IN (SELECT
favicon_id FROM moz_places);"

sqlite3 places.sqlite "VACUUM;"
</pre><br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/clean-places-sqlite/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/use-emacs-as-python-ide/">把 emacs 做为 python ide</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2009-07-13T00:00:00.000&#43;00:00' itemprop="datePublished">2009-07-13</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/emacs">emacs</a>

<a href="/tags/linux">linux</a>

<a href="/tags/python">python</a>


</div>
    </div>
        emacs 用的其实不是很多，不过他实在是个好东西，各种 mode，用熟了肯定能帮你提升不少工作速度。<br />

我用 emacs-cvs , ropemacs( dev 版， > 0.6 ）, rope ( > 0.9.2 ), company-mode ( > 0.4.2 ) 这几个软件在 gentoo  里面都还没有，我自己写了几个 ebuild。<br />

装好之后，基本就是 require 一下就好，我没做什么设置，效果如下。<br />

<a href="http://twitpic.com/a70je">here</a><br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/use-emacs-as-python-ide/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/modified-fetion-py/">改良的 fetion.py</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2009-07-06T00:00:00.000&#43;00:00' itemprop="datePublished">2009-07-06</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/feition">feition</a>

<a href="/tags/linux">linux</a>

<a href="/tags/python">python</a>


</div>
    </div>
        这个 fetion.py 来自 <a href="http://blog.lazytech.info/2008/11/05/python-fetion/">这里</a>。<br />

不修改的情况下，-t 可以是 sip, uid, mobile_no 这几个。<br />

我修改了下，不加 -t 参数会打印联系人列表。另外还能用 nickname 来发（没测试，我没几个好友，没好意思发）。<br />

在<a href="http://github.com/wd/work/tree/aa559b6b3ee1c15ccfcbf9ce45d1f7aa2208b953/fetion_py">这里</a>。<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/modified-fetion-py/#disqus_thread">Comments</a></span>
    
</div>
</article>



  <nav id="pagenavi">
    
        <a href="/page/10/" class="prev">Prev</a>
    
    
        <a href="/page/12/" class="next">Next</a>
    
  <div class="center"><a href="/archives/index.html">Blog Archives</a></div>
  </nav>


    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2017
    
    wd
    . Powered by <a href="http://gohugo.io" target="_blank">Hugo</a> |
    Theme is <a href="https://github.com/wd/hugo-fabric">hugo-fabric</a>, fork from <a href="https://github.com/wd/hexo-fabric">hexo-fabric</a> by <a href="https://wdicc.com">me</a>
</div>

    </footer>
    <script src="/js/fabric.js"></script>


</div>
</div>
<script src="/js/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
 
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery);
 
</script>
</body>
</html>
