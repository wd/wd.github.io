<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
    
	<title>wd and cc</title>
    <meta name="author" content="wd">
    
	<meta name="description" content="undefined"> <!-- TODO: truncate -->
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="atom.xml" rel="alternate" title="wd and cc" type="application/atom+xml">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/custom.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/hljs.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='//fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![}]-->

    <script type="text/javascript" src="/javascripts/jquery-tapir.js"></script>

    <!-- remove or comment it to disable ajaxification -->   
    <!-- <script src="/javascripts/ajaxify.js"></script> -->

    

    

</head>


<body>
    <div id="wrapper">
    <header id="header" class="inner"><!-- for more effects see _animate.scss -->
<h1 class="animated bounceInDown">
    <div id="headerbg">
        wd and cc
    </div>
</h1>
<span class="subtitle">happy everyday</span>
<br>

<ul id="social-links" style="text-align:center; clear:both;">
  
  <!-- GitHub -->
  <li>
  <a href="https://github.com/wd" class="github" title="Github"></a>
  </li>
  
  
  
  
  <!-- Twitter -->
  <li>
  <a href="http://www.twitter.com/wd" class="twitter" title="Twitter"></a>
  </li>
  
  
  
  
  
</ul>


<!-- use full url including 'index.html' for navigation bar if you are using ajax -->
<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/archives/index.html">Archives</a></li>
	<li id="ajax"><a href="/tags/index.html">Tags</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    
    <li>
    <div id="dark">
        <form action="//www.google.com.hk/search" method="get" accept-charset="UTF-8" id="search">
            <input type="hidden" name="sitesearch" value="https://wdicc.com" />
            <input type="text" name="q" results="0" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
        
</ul>




</header>

<div id="toload">
<!-- begin toload -->
    <div id="content" class="inner">
        

    
        <script id="dsq-count-scr" src="//wdicc.disqus.com/count.js" async></script>
    



  <article class="post">
	<h2 class="title">
		<a href="too-many-open-files/">weblogic的“Too many open files”错和apache的“CONNECTION_REFUSED”错</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2006-05-29T16:00:00.000Z" itemprop="datePublished">May 30, 2006</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/other/">other</a> <a href="/tags/weblogic/">weblogic</a> <a href="/tags/apache/">apache</a>
</div>
    </div>
      
        weblogic和apache桥接之后，访问量大的时候，遇到了weblogic报下面的错误：

<span style="color: rgb(255, 0, 0)">####<2006-5-30 ÏÂÎç12Ê±38·Ö19Ãë CST> <Notice> <WebLogicServer> <myapp.vivaful.com> <myserver> <ListenThread.Default> <<WLS Ke</span><br style="color: rgb(255, 0, 0)" /><span style="color: rgb(255, 0, 0)">rnel>> <> <BEA-000205> <After having failed to listen, the server is now listening on port 7001.> </span><br style="color: rgb(255, 0, 0)" /><span style="color: rgb(255, 0, 0)">####<2006-5-30 ÏÂÎç12Ê±38·Ö19Ãë CST> <Critical> <WebLogicServer> <myapp.vivaful.com> <myserver> <ListenThread.Default> <<WLS </span><br style="color: rgb(255, 0, 0)" /><span style="color: rgb(255, 0, 0)">Kernel>> <> <BEA-000204> <Failed to listen on port 7001, failure count: 1, failing for 0 seconds, java.net.SocketException: T</span><br style="color: rgb(255, 0, 0)" /><span style="color: rgb(255, 0, 0)">oo many open files> </span><br style="color: rgb(255, 0, 0)" /><span style="color: rgb(255, 0, 0)">####<2006-5-30 ÏÂÎç12Ê±38·Ö20Ãë CST> <Notice> <WebLogicServer> <myapp.vivaful.com> <myserver> <ListenThread.Default> <<WLS Ke</span><br style="color: rgb(255, 0, 0)" /><span style="color: rgb(255, 0, 0)">rnel>> <> <BEA-000205> <After having failed to listen, the server is now listening on port 7001.> </span><br style="color: rgb(255, 0, 0)" /><span style="color: rgb(255, 0, 0)">####<2006-5-30 ÏÂÎç12Ê±38·Ö20Ãë CST> <Critical> <WebLogicServer> <myapp.vivaful.com> <myserver> <ListenThread.Default> <<WLS </span><br style="color: rgb(255, 0, 0)" /><span style="color: rgb(255, 0, 0)">Kernel>> <> <BEA-000204> <Failed to listen on port 7001, failure count: 1, failing for 0 seconds, java.net.SocketException: T</span><br style="color: rgb(255, 0, 0)" /><span style="color: rgb(255, 0, 0)">oo many open files> </span>
<span style="color: rgb(255, 0, 0)"></span><span style="color: rgb(255, 0, 0)"></span>
weblogic产生这个错误以后，就会拒绝服务，这时通过IE已经访问不了了。所以接下来就会出现apache报下面的错误：

<span style="color: rgb(255, 0, 0)">[Tue May 30 13:00:57 2006] [error] CONNECTION_REFUSED [os error=0, line 1600 of ../nsapi/URL.cpp]: 218.206.70.193:7001 errno= 0
</span><br>
        
          <p class="more-link">
            <a href="too-many-open-files/#more">Read More</a>
          </p>
        
      
	</div>

<div class="meta">
	
		<span class="comments"><a href="https://wdicc.com/too-many-open-files/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="a-joke-6/">为什么硬盘总是从c盘开始</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2006-05-28T16:00:00.000Z" itemprop="datePublished">May 29, 2006</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/Joke/">Joke</a>
</div>
    </div>
      
        &nbsp;&nbsp; &nbsp;现代铁路的铁轨间距是4英尺8点5英寸，铁轨间距采用了电车轮距的标准，而电车轮距的标准则沿袭了马车的轮距标准。 
 &nbsp; &nbsp;马车的轮距为何是4英尺8点5英寸？原来，英国的马路辙迹的宽度是4英尺8点5英寸。如果马车改用其他尺寸的轮距，轮子很快就会在英国的老马路上撞坏。 
 &nbsp; &nbsp;英国马路的辙迹宽度又从何而来？这可以上溯到古罗马时期。整个欧洲(包括英国)的老路都是罗马人为其军队铺设的，4英尺8点5英寸正是罗马战车的宽度。 
 &nbsp; &nbsp;罗马战车的宽度又是怎么来的？答案很简单，它是牵引一辆战车的两匹马的屁股的总宽度。 
 &nbsp; &nbsp;段子到这里还没有结束。美国航天飞机的火箭助推器也摆脱不了马屁股的纠缠———火箭助推器造好之后要经过铁路运送，而铁路上必然有一些隧道，隧道的宽度又是根据铁轨的宽度而来。代表着尖端科技的火箭助推器的宽度，竟然被两匹马的屁股的总宽度决定了。

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="https://wdicc.com/a-joke-6/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="miranda-im-in-china/">miranda im中文社区正式上线</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2006-05-27T16:00:00.000Z" itemprop="datePublished">May 28, 2006</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/Miranda-IM/">Miranda IM</a> <a href="/tags/Miranda/">Miranda</a>
</div>
    </div>
      
        http://www.qiqiao.5gigs.com/?2006/5/22/4
<p>在国内，对MIM的介绍可以说少而又少，虽然有几篇介绍，但是主要以blog为住，相对来说不集中，因此导致国内学习MIM的新手苦于求助无门而放弃。</p><p><a href="http://miranda.lifevine.org/" target="_self">miranda im中文社区</a>，是由国内最早的miranda imQQ讨论群内的成员共同维护组建，由于近来学习MIM者居多，QQ群限制的人数已经不足以满足那么多的学习求助者，因此大家才建立这个社区，以方便使用MIM的网友在这里交流学习，</p><p>目前，也是国内唯一一个miranda im的中文社区，欢迎大家到那里交流学习！ 
</p>

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="https://wdicc.com/miranda-im-in-china/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="Tuning-Hardware-Operating-System-and-Network-Performance/">Tuning Hardware, Operating System, and Network Performance</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2006-05-22T16:00:00.000Z" itemprop="datePublished">May 23, 2006</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/other/">other</a>
</div>
    </div>
      
        http://e-docs.bea.com/wls/docs81/perform/HWTuning.html

http://www.bea.com.cn/support_pattern/Too_Many_Open_Files_Pattern.html

<h2 class="head2">Linux Tunin<a name="Linux_tuning"></a>g Parameters</h2><p><a name="1121229"></a>For Linux operating systems, the following settings are recommended for optimal performance.</p><p><a name="1121263"></a></p><div class="tblmargin"><p class="tabletitle"><a name="1121232"></a>Table 2-5   Suggested Linux Values</p>	<table bordercolorlight="#FFFFFF" bordercolordark="#000000" border="1" cellpadding="3" cellspacing="0"><tbody><tr bgcolor="#cccccc">		<th scope="col" align="left" valign="top">			<p class="cellheading"><a name="1121236"></a>Parameter</p>		</th>		<th scope="col" align="left" valign="top">			<p class="cellheading"><a name="1121238"></a>Suggested Value</p>		</th>	</tr>	<tr>		<td scope="row" align="left" valign="top">			<p class="table"><a name="1121240"></a><code style="font-family: courier">/sbin/ifconfig lo mtu</code></p>		</td>		<td scope="row" align="left" valign="top">			<p class="table"><a name="1121242"></a><code style="font-family: courier">1500</code></p>		</td>	</tr>	<tr>		<td scope="row" align="left" valign="top">			<p class="table"><a name="1121244"></a><code style="font-family: courier">kernel.msgmni</code></p>		</td>		<td scope="row" align="left" valign="top">			<p class="table"><a name="1121246"></a><code style="font-family: courier">1024</code></p>		</td>	</tr>	<tr>		<td scope="row" align="left" valign="top">			<p class="table"><a name="1121248"></a><code style="font-family: courier">kernel.sem</code></p>		</td>		<td scope="row" align="left" valign="top">			<p class="table"><a name="1121250"></a><code style="font-family: courier">1000 32000 32 512</code></p>		</td>	</tr>	<tr>		<td scope="row" align="left" valign="top">			<p class="table"><a name="1121252"></a><code style="font-family: courier">fs.file-max</code></p>		</td>		<td scope="row" align="left" valign="top">			<p class="table"><a name="1121254"></a><code style="font-family: courier">65535</code></p>		</td>	</tr>	<tr>		<td scope="row" align="left" valign="top">			<p class="table"><a name="1121256"></a><code style="font-family: courier">kernel.shmmax</code></p>		</td>		<td scope="row" align="left" valign="top">			<p class="table"><a name="1121258"></a><code style="font-family: courier">2147483648</code></p>		</td>	</tr>	<tr>		<td scope="row" align="left" valign="top">			<p class="table"><a name="1121260"></a><code style="font-family: courier">net.ipv4.tcp_max_syn_backlog</code></p>		</td>		<td scope="row" align="left" valign="top">			<p class="table"><a name="1121262"></a><code style="font-family: courier">8192</code></p></td></tr></tbody></table></div>

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="https://wdicc.com/Tuning-Hardware-Operating-System-and-Network-Performance/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="tips-for-ps/">ps 命令的小tip</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2006-05-22T16:00:00.000Z" itemprop="datePublished">May 23, 2006</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/other/">other</a> <a href="/tags/ps/">ps</a>
</div>
    </div>
      
        显示httpd进程的pid
#ps -C httpd -o pid=

杀死所有httpd进程
#for pid in $(ps -C httpd -o pid=);do kill -9 $pid;done

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="https://wdicc.com/tips-for-ps/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="split-and-cat/">用split分割备份文件，和用cat恢复备份</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2006-05-21T16:00:00.000Z" itemprop="datePublished">May 22, 2006</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/other/">other</a>
</div>
    </div>
      
        split命令的使用格式如下：
$split --help
Usage: split [OPTION] [INPUT [PREFIX]]
Output fixed-size pieces of INPUT to PREFIXaa, PREFIXab, ...; default
PREFIX is `x'.&nbsp; With no INPUT, or when INPUT is -, read standard input.

Mandatory arguments to long options are mandatory for short options too.
&nbsp; -a, --suffix-length=N &nbsp; use suffixes of length N (default 2)
&nbsp; -b, --bytes=SIZE &nbsp; &nbsp; &nbsp;&nbsp; put SIZE bytes per output file
&nbsp; -C, --line-bytes=SIZE &nbsp; put at most SIZE bytes of lines per output file
&nbsp; -d, --numeric-suffixes&nbsp; use numeric suffixes instead of alphabetic
&nbsp; -l, --lines=NUMBER &nbsp; &nbsp;&nbsp; put NUMBER lines per output file
 &nbsp; &nbsp;&nbsp; --verbose &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print a diagnostic to standard error just
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; before each output file is opened
 &nbsp; &nbsp;&nbsp; --help &nbsp; &nbsp; display this help and exit
 &nbsp; &nbsp;&nbsp; --version&nbsp; output version information and exit

SIZE may have a multiplier suffix: b for 512, k for 1K, m for 1 Meg.


通常使用的都是-b参数指定分割之后的文件的大小。

我们先建立一个测试文件。
#dd if=/dev/zero of=./test bs=1M count=512
就是以1M为单位，重复512次，也就是建立一个512M的文件。

$split -b 200m test test_back
执行这个命令之后，等执行完毕会看到目录下面多了几个文件
$ls
test test_backaa test_backab test_backac

这样就完成了文件的分割。如果对于文本文件，还可以使用split的-l参数针对行数进行分割。

这样分割传输之后，还需要重新合并才能使用，可以使用cat命令来完成。
$cat test_backa* &gt; test_back

执行完毕之后，可以看一下恢复的test_back文件和test文件的md5。
$md5sum test test_back
返回值应该是一样的。

使用tar备份的时候有时也需要对大的备份文件进行分割。
$tar czvf - /data | split -b 1024m - data


      
	</div>

<div class="meta">
	
		<span class="comments"><a href="https://wdicc.com/split-and-cat/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="weblogic-apache-bridge/">weblogic apache 桥接指南</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2006-05-21T16:00:00.000Z" itemprop="datePublished">May 22, 2006</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/other/">other</a> <a href="/tags/weblogic/">weblogic</a>
</div>
    </div>
      
        Using Web Server Plug-Ins with WebLogic Server

http://edocs.bea.com/wls/docs90/plugins/apache.html

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="https://wdicc.com/weblogic-apache-bridge/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="apache-weblogic-error/">Apache + weblogic 桥接的Connection_Refused错误</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2006-05-21T16:00:00.000Z" itemprop="datePublished">May 22, 2006</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/other/">other</a> <a href="/tags/weblogic/">weblogic</a>
</div>
    </div>
      
        http://edocs.bea.com/wls/docs81/plugins/apache.html#113649

主要是调整<code style="font-family: courier">weblogic的AcceptBackLog参数。</code>

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="https://wdicc.com/apache-weblogic-error/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="cacti-snmp/">使用cacti获取snmp发送的自定义信息</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2006-05-18T16:00:00.000Z" itemprop="datePublished">May 19, 2006</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/other/">other</a>
</div>
    </div>
      
        ★ 需求

服务器运行了weblogic和apache，可是有时weblogic进程会莫名crash，业务都在这上面，所以需要能监控程序的运行。我在服务器端写了一个脚本，使用curl检测这两个服务的状态，返回一个数字来确定是哪个服务down了，然后远程通过cacti采集数据画图。

<br>
        
          <p class="more-link">
            <a href="cacti-snmp/#more">Read More</a>
          </p>
        
      
	</div>

<div class="meta">
	
		<span class="comments"><a href="https://wdicc.com/cacti-snmp/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="a-file-root-cant-modify/">root用户无法修改的一个文件</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2006-05-14T16:00:00.000Z" itemprop="datePublished">May 15, 2006</time>
</div>
      <div class="tags">Tags: 

<a href="/tags/other/">other</a>
</div>
    </div>
      
        # ls -al xx
-rwxr-xr-x &nbsp; &nbsp;1 root &nbsp; &nbsp; root &nbsp; &nbsp; &nbsp; &nbsp; 2647 Dec &nbsp;8 16:47 xx

# stat -c %a startWebLogic.sh
755

# mv xx xx.ss
mv: cannot move `xx' to `xx.ss': Operation not permitted

这是怎么回事呢？上bbs问了一下才知道。

# lsattr xx
----i-------- xx

只需要执行如下命令即可
#chattr -i xx

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="https://wdicc.com/a-file-root-cant-modify/#disqus_thread">Comments</a></span>
	
</div>
</article>


  <nav id="pagenavi">
    
        <a href="/page/34/" class="prev">Prev</a>
    
    
        <a href="/page/36/" class="next">Next</a>
    
  <div class="center"><a href="/archives/index.html">Blog Archives</a></div>
  </nav>


    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2017

    wd
. Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> |
    Theme is <a href="https://github.com/wd/hexo-fabric">hexo-fabric</a>, fork from <a href="http://github.com/panks/fabric">fabric</a> by <a href="http://panks.me">Pankaj Kumar</a>
</div>


    </footer>
    <script src="/javascripts/fabric.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script>
 <!-- Delete or comment this line to disable Fancybox -->



<!-- end toload --> 
</div>
</div>
<script src="/javascripts/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
/*<![CDATA[*/
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery); 
/*]]>*/
</script><!-- remove it to remove the scroll to top button -->
</body>
</html>
