<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
    
	<title>wd and cc</title>
    <meta name="author" content="wd">
    
	<meta name="description" content="undefined"> <!-- TODO: truncate -->
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="atom.xml" rel="alternate" title="wd and cc" type="application/atom+xml">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/custom.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/hljs.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='//fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![}]-->

    <script type="text/javascript" src="/javascripts/jquery-tapir.js"></script>

    <!-- remove or comment it to disable ajaxification -->   
    <!-- <script src="/javascripts/ajaxify.js"></script> -->

    

    

</head>


<body>
    <div id="wrapper">
    <header id="header" class="inner"><!-- for more effects see _animate.scss -->
<h1 class="animated bounceInDown">
    <div id="headerbg">
        wd and cc
    </div>
</h1>
<span class="subtitle">happy everyday</span>
<br>

<ul id="social-links" style="text-align:center; clear:both;">
  
  <!-- GitHub -->
  <li>
  <a href="https://github.com/wd" class="github" title="Github"></a>
  </li>
  
  
  
  
  <!-- Twitter -->
  <li>
  <a href="http://www.twitter.com/wd" class="twitter" title="Twitter"></a>
  </li>
  
  
  
  
  
</ul>


<!-- use full url including 'index.html' for navigation bar if you are using ajax -->
<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/archives/index.html">Archives</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    
    <li>
    <div id="dark">
        <form method="get" action="/search.html" id="search">
            <input name="query" type="text" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
        
</ul>




</header>

<div id="toload">
<!-- begin toload -->
    <div id="content" class="inner">
        

    
        <script id="dsq-count-scr" src="//wdicc.disqus.com/count.js" async></script>
    



  <article class="post">
	<h2 class="title">
		<a href="move-blog-to-paangood/">Blog 做了一下迁移</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-07-27T16:00:00.000Z" itemprop="datePublished">Jul 28, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/heart/">heart</a> <a href="../tags/mysql/">mysql</a> <a href="../tags/blog/">blog</a> <a href="../tags/乱码/">乱码</a> <a href="../tags/cc/">cc</a> <a href="../tags/博邻/">博邻</a>
</div>
    </div>
      
        因为要从这边离职了，不能蹭公司的服务器了，所以得找个新的地方。看来看去，dreamhost肯定是很爽的，可是也太贵了，咱现在还没这个资本去买这个空间，后来还是买了盘古的空间了。150一年，100M空间。不过北京网通访问起来速度不是很快。凑合用了，反正也就100多块钱。而刚好我在<a href="http://blog.wdicc.com/wordpress/about-mycity/" target="_blank" rel="external">博邻</a>的奖金也是150.。。。这就给这边花了，呵呵。老婆还说奖金可以去吃好多顿火锅呢，看来没戏了，哈哈。

我原来的数据库用的是　mysql 4.1.x ，新的是 4.0.x ，版本看起来差别不大，可是变化挺大。4.1支持每个库，每个表设置  charset，4.0还没有。4.0导入4.1好多人都乱码了。我从4.1 导入 4.0 开始也乱码了。后来搜了一下，找到一个方法，4.1 的mysqldump  有个 compactable 选项，指定是 mysql40 就行了。现在 phpmyadmin 里面看，中文也正常了。

迁移的时候顺手就换了一个  theme，弄了一天才弄好。不太喜欢这种用ftp上传的方法，都习惯用vim直接编辑文件了，本地没有环境，只能修改一下上传一次。盘古的ftp发呆时间还比较短，隔一会就得重新连接一下。感觉好墨迹。

老婆这几天一定要我写写她，可是写什么呢，她一天到晚都呆在家里，我觉得都要发霉了，让她去晒晒太阳好茁壮成长都懒得去，没办法。不过前几天她突发奇想写了一首改编自《小白兔，白又白》那个儿歌的儿歌，我贴到水木上面，加了好多个x，还是被不可re了，就看到有人发了一个帖子说“我靠，那个儿歌太x了。。。”，不过此文也被立刻删掉啦。不能re了肯定上不了十大了，也挺郁闷的，呵呵。

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/move-blog-to-paangood/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="some-importent-files-in-linux/">涉及到linux系统安全的几个文件</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-07-23T16:00:00.000Z" itemprop="datePublished">Jul 24, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/other/">other</a> <a href="../tags/linux/">linux</a> <a href="../tags/secure/">secure</a>
</div>
    </div>
      
        <p>部分内容转自<a href="http://man.chinaunix.net/linux/debian/debian_learning/index.html" target="_blank">这里</a></p> <p><strong>1 cron.allow,cron.deny</strong></p> <blockquote> <p>If the cron.allow file exists, then you must be listed therein in order to  be  allowed  to  use  this  command.   If  the  cron.allow  file  does  not  exist but the cron.deny file does exist, then you must not be listed in the cron.deny file in order to use this command.  If neither of these files exists, only the super user will be allowed to use this command.</p></blockquote> <p>上面是引用 man crontab 里面的一段解释。如果 cron.allow 存在，那里面的用户可以使用crontab命令。如果cron.allow 不存在，而 cron.deny 存在，那么列在里面的用户不可以使用crontab命令。如果都不存在，那么只允许super用户来使用这个命令。 </p><p>安装rh的时候，默认就会存在一个 cron.deny 的空文件，所以普通用户也可以使用crontab。 </p><p><strong>2 at.allow,at.deny</strong> <blockquote> <p>The  superuser  may  use  these  commands  in  any case.  For other users, permission to use at is determined by the files<br>/etc/at.allow and /etc/at.deny. </p> <p>If the file /etc/at.allow exists, only usernames mentioned in it are allowed to use at. </p> <p>If /etc/at.allow does not exist, /etc/at.deny is checked, every username not mentioned in it is then allowed to use at.  </p><p>If neither exists, only the superuser is allowed use of at.  </p><p>An empty /etc/at.deny means that every user is allowed use these commands, this is the default configuration.</p></blockquote> </p><p>这个其实和上面那个是类似的。默认也是有个空的 at.deny 文件，允许所有用户使用at。 </p><p><strong>3 /etc/security/access.conf</strong> <blockquote> <p># Login access control table.<br># <br># When someone logs in, the table is scanned for the first entry that<br># matches the (user, host) combination, or, in case of non-networked<br># logins, the first entry that matches the (user, tty) combination.  The<br># permissions field of that table entry determines whether the login will <br># be accepted or refused.</p></blockquote> </p><p>login 权限控制表。可以控制允许登陆的ip，登陆的tty等信息。 <blockquote> <p># Disallow console logins to all but a few accounts.<br>#<br>#-:ALL EXCEPT wheel shutdown sync:LOCAL</p></blockquote> </p><p>比如可以设置只允许某些用户从本地登陆。建议设置root用户不能从本地登陆。 </p><p><strong>4 /etc/securetty</strong> </p><p>该文件可控制根用户登录的设备，该文件里记录的是可以作为根用户登录的设备名，如tty1、tty2等。用户是不能从不存在于该文件里的设备登录为根用户的。这种情况用户只能以普通用户登录进来，再用su命令转为根用户。/etc/securetty文件的格式如下：<pre># /etc/securetty: list of terminals on which root is allowed to login.
# See securetty(5) and login(1).
console

# for people with serial port consoles
ttyS0

# for devfs
tts/0

# Standard consoles
tty1
tty2
tty3
...
</pre>
</p><p>如果/etc/securetty是一个空文件，则根用户就不能从任务的设备登录系统。只能以普通用户登录，再用su命令转成根用户。如果/etc/securetty文件不存在，那么根用户可以从任何地方登录。这样会引发安全问题，所以/etc/securetty文件在系统中是一定要存在的。
</p><p><strong>5  /etc/login.defs</strong></p>
<p>login.defs是设置用户帐号限制的文件，在这里我们可配置密码的最大过期天数，密码的最大长度约束等内容。该文件里的配置对root用户无效。如果/etc/shadow文件里有相同的选项，则以/etc/shadow里的设置为准，也就是说/etc/shadow的配置优先级高于 /etc/login.defs。下面内容是该文件的节选：<pre>...
#
# Password aging controls:
#
#       PASS_MAX_DAYS   Maximum number of days a password may be used.
#       PASS_MIN_DAYS   Minimum number of days allowed between password change.
#       PASS_WARN_AGE   Number of days warning given before a password expires.
#
PASS_MAX_DAYS 99999
PASS_MIN_DAYS 0
PASS_WARN_AGE 7
...
#
# Number of significant characters in the password for crypt().
# Default is 8, don't change unless your crypt() is better.
# If using MD5 in your PAM configuration, set this higher.
#
PASS_MAX_LEN            8
...
</pre>
</p><p><strong>6 /etc/pam.d/su</strong></p>
<p>通过pam来限制su命令的使用。比如可以设置哪些组，哪些用户才能使用。</p>
<p>#auth       sufficient   /lib/security/$ISA/pam_wheel.so trust use_uid<br># Uncomment the following line to require a user to be in the "wheel" group.<br>auth       required     /lib/security/$ISA/pam_wheel.so group=admin</p>

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/some-importent-files-in-linux/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="some-pics/">帖一些相片，嘿嘿</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-07-12T16:00:00.000Z" itemprop="datePublished">Jul 13, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/heart/">heart</a> <a href="../tags/cc/">cc</a> <a href="../tags/婚纱照/">婚纱照</a>
</div>
    </div>
      
        <p><img src="http://static.zooomr.com/images/2679936_ffb63a009d_m.jpg"> <img src="http://static.zooomr.com/images/2679932_45d14a4f03_m.jpg"> </p> <p><img src="http://static.zooomr.com/images/2679930_b51c3fbfd2_m.jpg"> <img src="http://static.zooomr.com/images/2679928_ee9dafa8fe_m.jpg"> </p> <p><img src="http://static.zooomr.com/images/2667181_f939e0ac36.jpg?r=360"> </p> <p><img src="http://static.zooomr.com/images/2666817_de6ea1fc4e.jpg?r=360"></p>

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/some-pics/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="utorrent-is-the-best-bittorrent-client/">非常不错的 utorrent</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-07-09T16:00:00.000Z" itemprop="datePublished">Jul 10, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/web/">web</a> <a href="../tags/utorrent/">utorrent</a>
</div>
    </div>
      
        <p>最早发现bt这玩意的时候，还是2003年。那会上 btchina 找新资源是一种乐趣。那会用的是官方的那个下载软件，就一个界面，下载几个开几个窗口，下载速度不能控制。后来慢慢有了能控制速度的版本，但是界面还基本都那么单一。再后来就用上了 bitsprit，bitcomet这些。bitcomet用了很长时间，内网速度很好，占资源又少。但是自从 0.7（好像是这个版本）之后，就没用过了，下载速度不见长，还往下掉，运行也越来越慢。那会我就开始用bitsprite了，虽然也不怎么样，但是下载还是有速度的。。。</p> <p>今天无聊试了下utorrent，发现速度还是上不去，就几k，这真没办法用。翻了一下utorrent 的论坛，<font color="#008080">取消了“upnp映射”这个选项</font>的选择后，发现速度上去了！现在长时间都是 100多k，还是比较爽的。还用上了 utorrent 的webui，类似 mldonkey 了现在，可以远程操纵 utorrent。感觉良好，呵呵。</p> <p>webui 地址： <a href="http://forum.utorrent.com/viewtopic.php?id=14565" target="_blank">这里</a>，最新的 utorrent 1.7 beta 可以用。看看 webui的readme就知道怎么安装了。</p> <p>另外还有一个 fx 的扩展： <a href="http://forum.utorrent.com/viewtopic.php?id=15619" target="_blank">这里</a></p> <p><a href="http://www.zooomr.com/photos/wd/2660430/" target="_blank" atomicselection="true"><img src="http://static.zooomr.com/images/2660430_10aa0a1b1e.jpg?r=360"></a></p>

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/utorrent-is-the-best-bittorrent-client/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="smsd-and-chinese/">smsd 发送中文短信乱码</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-07-04T16:00:00.000Z" itemprop="datePublished">Jul 5, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/other/">other</a> <a href="../tags/linux/">linux</a> <a href="../tags/gnokii/">gnokii</a> <a href="../tags/smsd/">smsd</a>
</div>
    </div>
      
        <p>smsd是使用mysql数据库的，所以这个乱码很容易把人搞晕。我之前<a href="http://blog.wdicc.com/wordpress/gnokii_howto_chinese_sms/" target="_blank" rel="external">写过</a>gnokii发送短信是和locale有关系的，只要在utf8的locale下面就可以正常发送中文短信了。而smsd也和这个类似，也需要utf8的locale。但是还需要注意的一点就是mysql也是有编码设置的。所以可能会认为，文本插入数据库之前是不是也需要对数据库做utf8的设置呢？其实是不需要的，这么做反而会造成乱码。</p> <p>smsd连接mysql用的是mysql默认的字符集，那么我们插入文本的时候，也同样需要使用这个字符集，需要注意的是，这个文本也需要是utf8编码的。mysql默认的字符集通常是 “default-character-set&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; latin1”。</p> <p>我写的一个python的用来插入数据库要发送的信息的程序。</p> <p><pre lang="python">#!/usr/bin/env python2.3
#coding=utf-8
import sys
import MySQLdb

#  inbox
#+------------+------------------+------+-----+---------------------+----------------+
#| Field      | Type             | Null | Key | Default             | Extra          |
#+------------+------------------+------+-----+---------------------+----------------+
#| id         | int(10) unsigned |      | PRI | NULL                | auto_increment |
#| number     | varchar(20)      |      |     |                     |                |
#| smsdate    | datetime         |      |     | 0000-00-00 00:00:00 |                |
#| insertdate | timestamp        | YES  |     | CURRENT_TIMESTAMP   |                |
#| text       | varchar(160)     | YES  |     | NULL                |                |
#| phone      | tinyint(4)       | YES  |     | NULL                |                |
#| processed  | tinyint(4)       |      |     | 0                   |                |
#+------------+------------------+------+-----+---------------------+----------------+

#  outbox
#+----------------+------------------+------+-----+---------------------+----------------+
#| Field          | Type             | Null | Key | Default             | Extra          |
#+----------------+------------------+------+-----+---------------------+----------------+
#| id             | int(10) unsigned |      | PRI | NULL                | auto_increment |
#| number         | varchar(20)      |      |     |                     |                |
#| processed_date | timestamp        | YES  |     | CURRENT_TIMESTAMP   |                |
#| insertdate     | timestamp        | YES  |     | 0000-00-00 00:00:00 |                |
#| text           | varchar(160)     | YES  |     | NULL                |                |
#| phone          | tinyint(4)       | YES  |     | NULL                |                |
#| processed      | tinyint(4)       |      |     | 0                   |                |
#| error          | tinyint(4)       |      |     | -1                  |                |
#| dreport        | tinyint(4)       |      |     | 0                   |                |
#| not_before     | time             |      |     | 00:00:00            |                |
#| not_after      | time             |      |     | 23:59:59            |                |
#+----------------+------------------+------+-----+---------------------+----------------+

class Mydb:
        def __init__(self):
                try:
                        self.db=MySQLdb.Connection(host="localhost",user="gnokii",
                                passwd="gnokii",db="gnokii")

                except MySQLdb.OperationalError, message:
                        errorMessage = "Error %d:\n%s" % (message[ 0 ], message[ 1 ] )
                        print errorMessage
                        sys.exit(1)
                else:   
                        self.cursor = self.db.cursor()
#                       self.cursor.execute("SET NAMES 'utf8'")
                        return
                        
        def insert(self,sql):
                self.cursor.execute(sql)
        
        def showdata(self,sql):
                self.cursor.execute(sql)
                return self.cursor.fetchall()
                
        def __del__(self):
                self.cursor.close
                self.db.close

text = sys.stdin.read()
db = Mydb()

if len(sys.argv) &gt; 1 and len(text):
        number = sys.argv[1]
        sql = 'insert into outbox (number,text) VALUES ("' + number + '","' + text + '")'
        
        db.insert(sql)

else:   
        print 
        print "    ********** outbox ********** "
        for rs in db.showdata("select * from outbox"):
                print rs[0],rs[1],rs[2],rs[-7],rs[-5]
        
        print "    ********** inbox *********"
        for rs2 in db.showdata("select * from inbox"):
                print rs2[0],rs2[1],rs2[-3]</pre>
</p>
      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/smsd-and-chinese/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="happy-birthday-to-cc-2/">今天是老婆生日</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-07-01T16:00:00.000Z" itemprop="datePublished">Jul 2, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/heart/">heart</a> <a href="../tags/老婆/">老婆</a> <a href="../tags/生日/">生日</a>
</div>
    </div>
      
        <p><img src="http://static.zooomr.com/images/2610988_289076f6e9_m.jpg"> </p> <p><img src="http://static.zooomr.com/images/2610528_a2783d34d0_m.jpg"> </p> <p><img src="http://static.zooomr.com/images/2610438_046cef82a2_m.jpg"> </p> <p>这是老婆过生日她同学送的花篮，呵呵。zoomr传了半天失败了n次才把这个图片传上去，真郁闷。</p> <p>老婆又生日了，和我认识的第4个了。2004年5月份认识，也就是在她的生日前后在一起的。在一个桑拿天去了嘉年华，那汗把我一件新T恤上面的图案都洗了，北京的天气真bt，不过也可能是我的T恤的问题。。。。</p> <p>刚想起来和老婆在一起后的一个小故事，呵呵。有天早上我走的时候，顺手从冰箱里面拿出来一袋牛奶，本来想自己带的，结果放桌子上面忘记了。老婆后起来的，看到那个牛奶还挺感动，以为是我怕牛奶太凉早上喝不合适，提前给她拿出来的，哈哈呵呵嘿嘿。。。</p> <p>老婆<font color="#008000" size="4">生日快乐</font>哦。</p>

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/happy-birthday-to-cc-2/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="oracle-jobs/">oracle 的 job 又遇到问题了</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-06-28T16:00:00.000Z" itemprop="datePublished">Jun 29, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/other/">other</a> <a href="../tags/linux/">linux</a> <a href="../tags/oracle/">oracle</a> <a href="../tags/job/">job</a> <a href="../tags/高级复制/">高级复制</a>
</div>
    </div>
      
        <p>还是高级复制的问题，这次可能是因为job执行过程中，对方机器刚好重启导致的。反正job是卡在那里了，都10多天了。</p> <p>查看 dba_jobs_running 表，可以看到卡住的job的 job_id 和 sid 。查看 dba_jobs 表，可以看到相应 job 的信息，this_date 如果有数据的话，表示的是 job 开始执行的时间，next_date 是下次执行 job 的时间，如果 job 正常执行完毕，那么 this_date 应该是空的。根据 sid 还可以查看 v$session_wait 和 v$session 里面的这个 job 的一些状态。</p> <p>尝试了下面的方法来重新运行job，当时好像不好用，不过今天来看的时候，job是执行了。现在也不清楚是不是我这个操作起作用了，真晕。</p> <p><pre lang="txt">SQL&gt; exec dbms_job.broken(109,true);

PL/SQL procedure successfully completed.

SQL&gt; commit;

Commit complete.

SQL&gt; select job,sid from dba_jobs_running;

       JOB        SID
---------- ----------
       109        656

SQL&gt; select saddr,sid,serial#,paddr,username,status from v$session where username = 'REPADMIN';

SADDR           SID    SERIAL# PADDR    USERNAME                       STATUS
-------- ---------- ---------- -------- ------------------------------ --------
973CF8C4        626         27 98F96BB8 REPADMIN                       ACTIVE
973D2E7C        629         10 98F88670 REPADMIN                       ACTIVE
973F11F4        656         10 98F88174 REPADMIN                       ACTIVE

SQL&gt; alter system kill session '656,10';

System altered.

SQL&gt; select saddr,sid,serial#,paddr,username,status from v$session where username = 'REPADMIN';

no rows selected

SQL&gt; select job,sid from dba_jobs_running;

no rows selected

SQL&gt; select job,log_user,last_date,next_date from dba_jobs where log_user='REPADMIN';

       JOB LOG_USER                       LAST_DATE
---------- ------------------------------ -------------------
NEXT_DATE
-------------------
       106 REPADMIN                       2007-06-28 16:25:43
2007-06-28 16:35:43

       109 REPADMIN                       2007-06-28 16:07:38
4000-01-01 00:00:00

       110 REPADMIN                       2007-06-28 16:25:43
2007-06-28 16:35:43


SQL&gt; exec dbms_job.broken(109,false,sysdate);

PL/SQL procedure successfully completed.

SQL&gt; commit;

Commit complete.

SQL&gt; select job,log_user,last_date,next_date from dba_jobs where log_user='REPADMIN';

       JOB LOG_USER                       LAST_DATE
---------- ------------------------------ -------------------
NEXT_DATE
-------------------
       106 REPADMIN                       2007-06-28 16:25:43
2007-06-28 16:35:43

       109 REPADMIN                       2007-06-28 16:07:38
2007-06-28 16:28:40

       110 REPADMIN                       2007-06-28 16:25:43
2007-06-28 16:35:43
</pre>
</p><p>此后就我所知道的，就只能等着了。dbms_job.run(job_id) 也可以让 job 立即执行。关键是看 this_date ，他的值就是开始执行 job 的时间，job 如果执行时间太长，而下次执行又太快的话，可能也会导致问题。所以还可以尝试手动执行 job 看看。 dba_jobs 的 waht 字段就是对于的语句。</p>

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/oracle-jobs/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="funny-words-of-child/">爆笑幼儿园（转载）</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-06-28T16:00:00.000Z" itemprop="datePublished">Jun 29, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Joke/">Joke</a> <a href="../tags/童言无忌/">童言无忌</a>
</div>
    </div>
      
        <p>转自<a href="http://www.leehare.cn/read.php?3560">这里</a>。</p> <p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1号幼儿园 <br></strong>问题一：如果有一天大海里没有水了，鱼怎么办呢？ <br>　　小朋友A：鱼到小河里去呗。（想了想，继续）哦，不行，那鲸鱼怎么办？太大了，进不去。（真体贴啊） <br>　　小朋友B：变化石呗。（鱼们狂吐血……） <br>问题二：牛奶是从哪里来的？ <br>　　小朋友A：奶牛肚子下面有几个嘴，从那里流出来的。（你真的确定那是嘴吗？） <br>　　继续问：那椰奶怎么来的？ <br>　　小朋友B：椰奶是羊奶吧。（扯太远了吧，兄弟） <br>　　继续问到底：羊奶是什么？ <br>　　小朋友B：羊奶就是酸奶吧，我们家不喝的，我们家订的是光明牛奶。（好可怕的逻辑） <br>问题三：小朋友的脸是干吗用的？ <br>　　小朋友A：给妈妈亲的。 <br>　　追问：那给不给爸爸亲？ <br>　　小朋友A：给爸爸亲。 <br>　　继续追问：那你的脸到底是给谁亲的？ <br>　　小朋友A：给妈妈亲的。（爸爸泪流满面） <br>　　小朋友B：贴纸头用的。（你的脸难道是布告栏？） <br>问题四：为什么小孩子是从妈妈肚子里出来的，不是从爸爸肚子里出来的？ <br>　　小朋友A：女孩子是从妈妈肚子里出来的，男孩子是从爸爸肚子里出来的。（真会蒙人） <br>　　小男孩B：因为男生可爱！（小女孩们一起叫：男生不可爱！） <br>问题五：小朋友的头发有什么用？ <br>　　小女孩A：用来梳头发的。 <br>　　提问小男孩B：那你的头发不能扎辫子，有什么用呢？ <br>　　小朋友B：用来给理发店剃头的。（可贵的奉献精神） </p>
        
          <p class="more-link">
            <a href="funny-words-of-child/#more">Read More</a>
          </p>
        
      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/funny-words-of-child/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="gaokao-zuowen/">2007年高考语文北京作文一篇（转载）</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-06-27T16:00:00.000Z" itemprop="datePublished">Jun 28, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Joke/">Joke</a> <a href="../tags/搞笑作文/">搞笑作文</a>
</div>
    </div>
      
        <p>转载自<a href="http://www.leehare.cn/read.php?3544">这里</a>。</p> <blockquote> <p>" 细雨湿衣看不见，闲花落地听无声"是唐朝诗人刘长卿在《别严士元》中的诗句。<br>曾经有人这样理解这句诗：1、这是歌颂春天的美好意境。 2、闲花、细雨表达了不为人知的寂寞。3、看不见、听不见不等于无所作为，是一种恬淡的处世之道。4 、这种意境已经不适合当今的世界……根据你的看法写一篇作文。题目自拟，体裁不限。字数800以上。</p></blockquote> <p>盛夏，夜，深夜。<br>景山山颠。<br>山上有人，两个人，一男一女。<br>这两人就是当今武林名声最响的两位杀手，男的名秋细雨，女的叫叶闲花，江湖人称"细雨闲花"。<br>诗人刘长卿曾用"细雨湿衣看不见，闲花落地听无声"来描述这两个可怕的杀手。细雨湿衣，湿衣的是鲜血；闲花落地，落地的是人头。这两人杀人来无影去无踪，如果他们想杀你，当你还没看到他们人影没听到他们声音的时候，你就已经死了。<br>秋细雨三天前接到一份帖子，指名要杀叶闲花。事成之后，不但有三百万两冥币，更可以让他在" 红楼梦中人"选秀节目中担任曹雪芹的角色！<br>但是杀死叶闲花比杀死比尔还要困难得多。<br>江湖中没有一个人清楚叶闲花的武功来历，性格脾气，但是每个人都知道叶闲花的故事。<br>叶闲花有一双迷人的大眼睛，据说她曾一动不动地瞪死过赵薇和高圆圆，而那一年她才十七岁。<br>叶闲花声音有如黄莺般幽婉醉人，传说听过她说话后林志玲身体酥麻了整整一年，你说要不要命？<br>叶闲花轻功独步武林，踏雪无痕，落地无声，号称超过当年青翼蝠王韦一笑。有人见她上星期在高速公路上偷了刘翔奥运会入场证，刘翔追出一万公里最后被活活累倒。</p>
        
          <p class="more-link">
            <a href="gaokao-zuowen/#more">Read More</a>
          </p>
        
      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/gaokao-zuowen/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="change-trigger-setting-for-thold/">稍微深入了解了一下cacti的thold插件的邮件通知</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2007-06-27T16:00:00.000Z" itemprop="datePublished">Jun 28, 2007</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/other/">other</a> <a href="../tags/linux/">linux</a> <a href="../tags/cacti/">cacti</a> <a href="../tags/thold/">thold</a> <a href="../tags/trigger/">trigger</a>
</div>
    </div>
      
        <p>通过cacti的thold插件，可以做到snmp抓取到的数值低于你规定的值的时候进行邮件通知，例如我用他来监控磁盘空间，当磁盘空间低于某个数的时候就会给指定的email发邮件。但是有一点郁闷的是，有时候，可能是由于网络原因，抓取会超时，这样就会导致触发trigger，给你发送邮件。5分钟抓取一次，我这里的情况是几乎每个小时总会有2，3封这种邮件，很烦人，而且根本没意义。早就想屏蔽掉这种情况了，看了代码挺复杂就懒得弄，今天实在受不了了，深入了解了一下。</p> <p>其实thold本身已经考虑到了这种情况，在 thold 的设置里面，就有一项 Default Trigger Count （Number of consecutive times the data source must be in breach of the threshold for an alert to be raised），就是连续触发几次才认为他真的低于 thold 了，才发送邮件。我尝试过修改这个设置，发现不管用。看了代码才了解，每个 <strong>Thresholds</strong>&nbsp;都有自己的 trigger 值，那个 default trigger count 只对新建的 thresholds 才有用。所以针对现有的，需要逐个去修改才行。如果不设置这个选项，那么使用的就是上面设置的那个默认的，所以没特殊需要，还是不要针对每个 thresholds 设置自己的 trigger 值比较好，这样方便修改。我通过修改数据库的方法，直接把这些都修改了。</p> <p><pre lang="sql">update thold_data set thold_fail_trigger = NULL;</pre>
</p><p>修改了之后还没有收到，这下应该清净了吧？</p>

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/change-trigger-setting-for-thold/#disqus_thread">Comments</a></span>
	
</div>
</article>


  <nav id="pagenavi">
    
        <a href="/page/17/" class="prev">Prev</a>
    
    
        <a href="/page/19/" class="next">Next</a>
    
  <div class="center"><a href="/archives/index.html">Blog Archives</a></div>
  </nav>


    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2016

    wd
. Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> |
    Theme is <a href="https://github.com/wd/hexo-fabric">hexo-fabric</a>, fork from <a href="http://github.com/panks/fabric">fabric</a> by <a href="http://panks.me">Pankaj Kumar</a>
</div>


    </footer>
    <script src="/javascripts/fabric.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script>
 <!-- Delete or comment this line to disable Fancybox -->



<!-- end toload --> 
</div>
</div>
<script src="/javascripts/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
/*<![CDATA[*/
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery); 
/*]]>*/
</script><!-- remove it to remove the scroll to top button -->
</body>
</html>
