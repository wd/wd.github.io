<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
    
	<title>wd and cc</title>
    <meta name="author" content="wd">
    
	<meta name="description" content="undefined"> <!-- TODO: truncate -->
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="atom.xml" rel="alternate" title="wd and cc" type="application/atom+xml">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/custom.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/hljs.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='//fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![}]-->

    <script type="text/javascript" src="/javascripts/jquery-tapir.js"></script>

    <!-- remove or comment it to disable ajaxification -->   
    <!-- <script src="/javascripts/ajaxify.js"></script> -->

    

    

</head>


<body>
    <div id="wrapper">
    <header id="header" class="inner"><!-- for more effects see _animate.scss -->
<h1 class="animated bounceInDown">
    <div id="headerbg">
        wd and cc
    </div>
</h1>
<span class="subtitle">happy everyday</span>
<br>

<ul id="social-links" style="text-align:center; clear:both;">
  
  <!-- GitHub -->
  <li>
  <a href="https://github.com/wd" class="github" title="Github"></a>
  </li>
  
  
  
  
  <!-- Twitter -->
  <li>
  <a href="http://www.twitter.com/wd" class="twitter" title="Twitter"></a>
  </li>
  
  
  
  
  
</ul>


<!-- use full url including 'index.html' for navigation bar if you are using ajax -->
<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/archives/index.html">Archives</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    
    <li>
    <div id="dark">
        <form method="get" action="/search.html" id="search">
            <input name="query" type="text" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
        
</ul>




</header>

<div id="toload">
<!-- begin toload -->
    <div id="content" class="inner">
        

    
        <script id="dsq-count-scr" src="//wdicc.disqus.com/count.js" async></script>
    



  <article class="post">
	<h2 class="title">
		<a href="send-mail-with-attachment/">命令行发送有附件的邮件</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2008-11-30T16:00:00.000Z" itemprop="datePublished">Dec 1, 2008</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Mail/">Mail</a> <a href="../tags/sendmail/">sendmail</a>
</div>
    </div>
      
        命令行下面发送邮件比较简单，恐怕都会使用。

<pre class="prettyprint lang-bash">
$ echo "hello .. " | mail -s subject xxx@abc.com
$ cat /path/to/file | mail -s subject xxx@abc.com
$ mail -s subject xxx@abc.com << EOF
hi
the end..
EOF
</pre>

上面这些方法都可以发送邮件。还有一种方法。

<pre class="prettyprint lang-bash">
$ cat a.txt
Subject: test
From: xxx@abc.com
To: xxx@abc.com

hi
sdfsdfsdf
the end.
$ cat a.txt | sendmail -t
</pre>

这样可以把邮件头信息写到文件里面的，你也可以用 php，perl 来打印类似的信息给 sendmail -t ，让他来发。

那么如果有附件应该怎么办？可以使用 uuencode。

<pre class="prettyprint lang-bash">
$ uuencode a.txt a.txt | mail -s test xxx@abc.com
$ (cat a.txt; uuencode b.txt b.txt; cat c.txt) |sendmail -t
</pre>

应该说的很明白了吧？

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/send-mail-with-attachment/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="lyx-unicode-howto/">lyx 的中文化</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2008-11-26T16:00:00.000Z" itemprop="datePublished">Nov 27, 2008</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Linux/">Linux</a> <a href="../tags/latex/">latex</a> <a href="../tags/lyx/">lyx</a> <a href="../tags/pdf/">pdf</a>
</div>
    </div>
      
        lyx 可以认为是一个 latex 的所见即所得的编辑工具。

先来搞定 latex 的中文。latex 的中文配置是千奇百怪的，怎么配的都有。看到那些帖子真的很头疼，不知道从哪里下手好。最近从 linuxsir gentoo 的论坛上面看到了一个简单的配置方法，总算我也可以使用 latex 生成支持中英文混排的 pdf 文件了。

首先需要安装 dev-tex/zhspacing(gentoo-china-overlay) 和 dev-texlive/texlive-fontsrecommended 这两个包，会依赖安装一些别的包。

此后就可以使用 xelatex 命令来编译 tex 文件了。如果没有 simsun simhei 那些字体，就还需要下面的操作。
<pre class="prettyprint lang-latex">
\usepackage{fontspec}
\newfontfamily\zhfont[BoldFont=Microsoft YaHei]{Microsoft YaHei} %设置中文
\newfontfamily\zhpunctfont{Microsoft YaHei} % 设置中文
%\makeglossary

\setmainfont{Consolas}           %这里设置英文衬线字体
\setmonofont{Consolas}                     %英文等宽字体
\setsansfont{Consolas}               %英文无衬线字体

\usepackage{zhspacing}
\zhspacing
\begin{document}
中Eng文混排，“标点压缩”，间 距 调 整 ……
\end{document}</pre>
里面那几行有注释的，就是用来设置字体的。设置为 fc-list 列表里面的一个或者几个字体，然后使用 xelatex xx.tex 命令来编译你的 tex 文件，是不是生成了相应的 pdf？可以去看看里面的中文英文是不是都正常显示了。

接下来配置 lyx。我参考了<a href="http://blog.bs2.to/post/EdwardLee/8545" target="_blank" rel="external">这个</a>文章，新建一个文档，设置几个地方。

文档-&gt; 首选项-&gt; 语言 使用 utf8。

文档-&gt; 首选项-&gt; latex序 添加下面的内容。
<pre class="prettyprint lang-latex">
\newfontfamily\zhfont[BoldFont=Microsoft YaHei]{Microsoft YaHei} %设置中文
\newfontfamily\zhpunctfont{Microsoft YaHei} % 设置中文
%\makeglossary

\setmainfont{Consolas}           %这里设置英文衬线字体
\setmonofont{Consolas}                     %英文等宽字体
\setsansfont{Consolas}               %英文无衬线字体

\usepackage{zhspacing}
\zhspacing</pre>
我还设置了保存为文档缺省设置，这样新编辑的文件就不用设置了，当然也可以保存成模板，这样每次加载这个模板就可以了。

还需要设置

lyx 可以认为是一个 latex 的所见即所得的编辑工具。

先来搞定 latex 的中文。latex 的中文配置是千奇百怪的，怎么配的都有。看到那些帖子真的很头疼，不知道从哪里下手好。最近从 linuxsir gentoo 的论坛上面看到了一个简单的配置方法，总算我也可以使用 latex 生成支持中英文混排的 pdf 文件了。

首先需要安装 dev-tex/zhspacing(gentoo-china-overlay) 和 dev-texlive/texlive-fontsrecommended 这两个包，会依赖安装一些别的包。

此后就可以使用 xelatex 命令来编译 tex 文件了。如果没有 simsun simhei 那些字体，就还需要下面的操作。
<pre class="prettyprint lang-latex">
\usepackage{fontspec}
\newfontfamily\zhfont[BoldFont=Microsoft YaHei]{Microsoft YaHei} %设置中文
\newfontfamily\zhpunctfont{Microsoft YaHei} % 设置中文
%\makeglossary

\setmainfont{Consolas}           %这里设置英文衬线字体
\setmonofont{Consolas}                     %英文等宽字体
\setsansfont{Consolas}               %英文无衬线字体

\usepackage{zhspacing}
\zhspacing
\begin{document}
中Eng文混排，“标点压缩”，间 距 调 整 ……
\end{document}</pre>
里面那几行有注释的，就是用来设置字体的。设置为 fc-list 列表里面的一个或者几个字体，然后使用 xelatex xx.tex 命令来编译你的 tex 文件，是不是生成了相应的 pdf？可以去看看里面的中文英文是不是都正常显示了。

接下来配置 lyx。我参考了<a href="http://blog.bs2.to/post/EdwardLee/8545" target="_blank" rel="external">这个</a>文章，新建一个文档，设置几个地方。

文档-&gt; 首选项-&gt; 语言 使用 utf8。

文档-&gt; 首选项-&gt; latex序 添加下面的内容。
<pre class="prettyprint lang-latex">
\newfontfamily\zhfont[BoldFont=Microsoft YaHei]{Microsoft YaHei} %设置中文
\newfontfamily\zhpunctfont{Microsoft YaHei} % 设置中文
%\makeglossary

\setmainfont{Consolas}           %这里设置英文衬线字体
\setmonofont{Consolas}                     %英文等宽字体
\setsansfont{Consolas}               %英文无衬线字体

\usepackage{zhspacing}
\zhspacing</pre>
我还设置了保存为文档缺省设置，这样新编辑的文件就不用设置了，当然也可以保存成模板，这样每次加载这个模板就可以了。

还需要设置 工具-&gt;首选项-&gt;file handling-&gt;转换器 这里的 latex(pdflatex)-&gt;PDF(pdflatex) 这项，然后设置 转换器 为 xelatex $$i 。点击那个修改按钮，保存，应用。

这样，以后写好文件，点那个 pdf 的图标就可以直接预览到 pdf 文件啦。

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/lyx-unicode-howto/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="vpnc-howto/">说说 vpn</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2008-11-16T16:00:00.000Z" itemprop="datePublished">Nov 17, 2008</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Linux/">Linux</a> <a href="../tags/cisco/">cisco</a> <a href="../tags/vpn/">vpn</a> <a href="../tags/vpnc/">vpnc</a>
</div>
    </div>
      
        好久没更新了，最近改了改 vpnc 的设置，就发一个吧。

有些公司启用了 vpn 来让员工可以访问到公司内网的一些信息，或者让员工访问公司服务器的时候更加安全。一般可以用 cisco 的硬件 vpn 来搞定，也可以用 linux 下面的 openvpn 之类软件来构建一个 vpn server。

构建 vpn server 咱没搞过，我们公司用的是 cisco 的产品。连接 vpn server 的 client 有 vpnc 和 openvpn 什么的。

我使用的是 vpnc。networkmanager 还有他的插件（当然，也有 openvpn 的），就是说你可以做到点点鼠标就连接上你的 vpn。不过我这里没用他，因为他缺少一些 vpnc 配置文件支持的配置项，曾经还修改过 net-misc/networkmanager-vpnc 0.6.4 的源代码，来做到支持我的 vpn server，后来发现图形界面的不可靠，有时候连不上，一些错误信息还看不到。升级到了 0.7 之后，也一直懒得改源代码，字符界面的用起来也不错。图形界面一定要改，因为我不能让他记住密码我们的密码是一个 pin 码 + token 生成的，token 是变化的。而有个 group 密码是必须要记住的，因为这个又长又没有规律。图形界面没办法实现这个组合，只能修改源代码硬写到代码里面。

vpnc 的配置文件在 /etc/vpnc/ 下面。这里面有个 default.conf，当然你也可以写自己的 xxx.conf。如果执行 sudo vpnc xxx，那么用到的就是 xxx.conf，如果没有参数，那么使用 default.conf。
<pre class="prettyprint lang-conf">
# example vpnc configuration file
# see vpnc --long-help for details

#Interface name tun0
#IKE DH Group dh2
#Perfect Forward Secrecy nopfs

# You may replace this script with something better
Script /etc/vpnc/custom-script

IPSec gateway vpn.xxx.com
IPSec ID General
IPSec secret xxxxxx
Xauth username wd
NAT Traversal Mode cisco-udp
#Xauth password</pre>
gateway 就是你的 vpn server 的地址，IPSec secret 就是我说的 group pwd，Xauth password 是你的密码。还可以加上 debug level xxx 来显示 debug 信息，xxx 是一个数字，越大信息越多。

注意里面有个 script 行，这个就是最近修改的一个参数。有时候使用 vpn 可能只是需要连接一下公司的服务器而已，我可不想让他作为我的默认路由，比如我在开 bt 下载的时候如果用了 vpn 作%

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/vpnc-howto/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="palm-in-linux/">linux 下面同步 palm 手机</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2008-10-06T16:00:00.000Z" itemprop="datePublished">Oct 7, 2008</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Linux/">Linux</a> <a href="../tags/handspring/">handspring</a> <a href="../tags/hotsync/">hotsync</a> <a href="../tags/jpilot/">jpilot</a> <a href="../tags/plam/">plam</a> <a href="../tags/visor/">visor</a>
</div>
    </div>
      
        plam 是万能的，呵呵。

主要参考了 gentoo wiki 上面的<a href="http://gentoo-wiki.com/Category:Palm" target="_blank">几篇文章</a>。编译好内核，然后 modprobe visor ，接着按hotsync同步按钮。此时可以看到 dmesg 的输出。

<pre class="prettyprint lang-txt">
usb 2-2: new full speed USB device using uhci_hcd and address 6
usb 2-2: configuration #1 chosen from 1 choice
visor 2-2:1.0: Handspring Visor / Palm OS converter detected
usb 2-2: Handspring Visor / Palm OS converter now attached to ttyUSB0
usb 2-2: Handspring Visor / Palm OS converter now attached to ttyUSB1</pre>

然后还需要建立一个 udev 的 rule。

<pre class="prettyprint lang-txt">
$ cat /etc/udev/rules.d/10-palm.rules 
# PalmOne Tungsten T3
BUS=="usb",SYSFS{serial}=="PalmSN12345678", KNERNEL="ttyUSB*",OWNER="root",GROUP="plugdev",MODE="0666",SYMLINK="pilot", RUN="/bin/su - wd -c '/usr/bin/jpilot -s'"
#BUS="usb", SYSFS{product}="Palm Handheld*", KERNEL="ttyUSB*", MODE="666", SYMLINK="pilot", RUN="/bin/su - wd -c '/usr/bin/jpilot -s'"
</pre>

注意里面那个 serial，如果你不知道你的，或许可以用下面的那个 product。其实也可以查看 /proc/bus/usb/devices 来获取上面那些 serial 或者 product 信息的。仔细找找。另外还需要修改那个 wd 为你自己的用户名。

然后还需要装一个 jpilot 这个软件。需要先设置一下首选项，设置设备是 /dev/ttyUSB1 。以后同步的时候，只需要先启动 jpilot，然后按那个hotsync同步按钮就行了。还可以装软件，呵呵，不过似乎没办法选择装卡上还是手机上，估计都是手机上面了。

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/palm-in-linux/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="kill-session-in-oracle/">oracle 里面 kill session</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2008-10-06T16:00:00.000Z" itemprop="datePublished">Oct 7, 2008</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Linux/">Linux</a> <a href="../tags/oracle/">oracle</a> <a href="../tags/session/">session</a>
</div>
    </div>
      
        eygle <a href="http://www.eygle.com/faq/Kill_Session.htm" target="_blank">有篇文章</a>讲了这个，之前也看过。昨天实际操作了一下。

因为如 eygle 所讲，kill 了 session 之后，操作系统里面的进程资源有时候不一定会立即释放，所以最好在 kill 之前就找到系统的进程 id，这样，如果不释放的时候，可以直接kill。省的之后找起来麻烦。

昨天操作的时候有这么几个步骤
<ol>
	<li>select * from v$session where username like 'UP' --先找到这个用户的 session。</li>
	<li>select * from v$sql a, v$session b where b.username = 'UP' and a.sql_id = b.sql_id --找出来这个用户这些 session 对应的 sql 语句，好确认 session 的 id。</li>
	<li>select * from v$process a, v$session b where a.addr = b.paddr and b.username like 'UP' and b.sid = xxx --找出来他的系统进程id，就是那个 spid。</li>
	<li>ALTER SYSTEM KILL SESSION 'sid, serial#' --可以实施kill了，可能会提示你marked for kill，有必要的话，在os级别kill前面找出来的 spid。</li>
</ol>

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/kill-session-in-oracle/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="wdicc-com-is-return/">域名终于搞回来了</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2008-09-21T16:00:00.000Z" itemprop="datePublished">Sep 22, 2008</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Heart/">Heart</a>
</div>
    </div>
      
        历经周折，总算把域名弄回来了。我还是喜欢 wdicc.com 多过 wdicc.cn。呵呵。顺便鄙视一下 xh 这头猪，差点把我的域名弄丢。

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/wdicc-com-is-return/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="compare-search-engines/">搜索引擎比较</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2008-09-18T16:00:00.000Z" itemprop="datePublished">Sep 19, 2008</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Heart/">Heart</a> <a href="../tags/搜索引擎/">搜索引擎</a>
</div>
    </div>
      
        前两天wii的放电视上面那个红外发射器的线断了，就搜索了一下看能不能修好。结果在 google.cn 搜到一条相关结果。今天看到 youdao.com 上线的消息，就兴起把各个搜索引擎都测试了一下。抓图如下。

百度的结果似乎和“断了”没有关系，这也敢号称最懂中文？三个关键字就sb了，垃圾一个。

<a href="http://pic.yupoo.com/wdicc/321736367295/8lb7ro0u.jpg" target="_blank" rel="external"><img class="alignnone" title="百度的结果" src="http://pic.yupoo.com/wdicc/321736367295/8lb7ro0u.jpg" alt="" width="1009" height="1551"></a>

yahoo.cn 的结果也不是我想要的，不过至少“断了”这个关键字出来了。。。

<a href="http://pic.yupoo.com/wdicc/297556367294/9roy8wm3.jpg" target="_blank" rel="external"><img class="alignnone" title="yahoo.cn的结果" src="http://pic.yupoo.com/wdicc/297556367294/9roy8wm3.jpg" alt="" width="548" height="1024"></a>

youdao 的结果比较来说好像是最好的了，里面我需要的不少。

<a href="http://pic.yupoo.com/wdicc/115486367294/eadyj9iz.jpg" target="_blank" rel="external"><img class="alignnone" title="有道搜索的结果" src="http://pic.yupoo.com/wdicc/115486367294/eadyj9iz.jpg" alt="" width="1009" height="1663"></a>

google.cn 的结果第一条很符合我的要求，不过后面的。。怎么还出来psp了？。。。

<a href="http://pic.yupoo.com/wdicc/477506367294/slrxdfz8.jpg" target="_blank" rel="external"><img class="alignnone" title="google.cn 的结果" src="http://pic.yupoo.com/wdicc/477506367294/slrxdfz8.jpg" alt="" width="1009" height="1259"></a>

不完全测试，仅作为消遣用，呵呵。

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/compare-search-engines/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="supper-rtorrent/">超强的rtorrent</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2008-09-12T16:00:00.000Z" itemprop="datePublished">Sep 13, 2008</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Linux/">Linux</a> <a href="../tags/rtorrent/">rtorrent</a>
</div>
    </div>
      
        越狱又开始了，没周末总要下一个看看。之前用 delug，速度还行，用起来感觉不错。可是自从 1.0rc 的某个版本之后，下载的时候时不时出现 CPU 100% 的情况。就装了 transmisstion，他不支持 dht，国内的下载速度很慢，去下国外的好像还行。

今天又试了一下 rtorrent，之前也用过，不过速度总上不来让人很郁闷。rtorrent 从某个版本就开始支持 dht 了，我之前使用的时候不知道从哪里去看这个支持，速度很慢，基本就不用了。今天总算发现了问题在哪里。

rtorrent 的配置文件是 ~/.rtorrent.rc ，例如我的。
<pre class="prettyprint lang-ini">
# ~/.rtorrent.rc and enable/modify the options as needed. Remember to
# uncomment the options you wish to enable.

# Maximum and minimum number of peers to connect to per torrent.
min_peers = 40
max_peers = 200

# Same as above but for seeding completed torrents (-1 = same as downloading)
#min_peers_seed = 10
#max_peers_seed = 50

# Maximum number of simultanious uploads per torrent.
#max_uploads = 15

# Global upload and download rate in KiB. "0" for unlimited.
#download_rate = 0
upload_rate = 30

# Default directory to save the downloaded torrents.
directory = /movie/download

# Default session directory. Make sure you don't run multiple instance
# of rtorrent using the same session directory. Perhaps using a
# relative path?
session = ./rtorrent-session

# Watch a directory for new torrents, and stop those that have been
# deleted.
#schedule = watch_directory,5,5,load_start=./watch/*.torrent
#schedule = untied_directory,5,5,stop_untied=

# Close torrents when diskspace is low.
#schedule = low_diskspace,5,60,close_low_diskspace=100M

# Stop torrents when reaching upload ratio in percent,
# when also reaching total upload in bytes, or when
# reaching final upload ratio in percent.
# example: stop at ratio 2.0 with at least 200 MB uploaded, or else ratio 20.0
#schedule = ratio,60,60,"stop_on_ratio=200,200M,2000"

# The ip address reported to the tracker.
#ip = 127.0.0.1
#ip = rakshasa.no

# The ip address the listening socket and outgoing connections is
# bound to.
#bind = 127.0.0.1
#bind = rakshasa.no

# Port range to use for listening.
port_range = 18204-19203

# Start opening ports at a random position within the port range.
#port_random = yes

# Check hash for finished torrents. Might be usefull until the bug is
# fixed that causes lack of diskspace not to be properly reported.
#check_hash = no

# Set whetever the client should try to connect to UDP trackers.
use_udp_trackers = yes

# Alternative calls to bind and ip that should handle dynamic ip's.
#schedule = ip_tick,0,1800,ip=rakshasa
#schedule = bind_tick,0,1800,bind=rakshasa

# Encryption options, set to none (default) or any combination of the following:
# allow_incoming, try_outgoing, require, require_RC4, enable_retry, prefer_plaintext
#
# The example value allows incoming encrypted connections, starts unencrypted
# outgoing connections but retries with encryption if they fail, preferring
# plaintext to RC4 encryption after the encrypted handshake
#
encryption = allow_incoming,enable_retry,prefer_plaintext

# Enable DHT support for trackerless torrents or when all trackers are down.
# May be set to "disable" (completely disable DHT), "off" (do not start DHT),
# "auto" (start and stop DHT as needed), or "on" (start DHT immediately).
# The default is "off". For DHT to work, a session directory must be defined.
#
dht = on

# UDP port to use for DHT.
#
dht_port = 18203

# Enable peer exchange (for torrents not marked private)
#
peer_exchange = yes

#
# Do not modify the following parameters unless you know what you're doing.
#

# Hash read-ahead controls how many MB to request the kernel to read
# ahead. If the value is too low the disk may not be fully utilized,
# while if too high the kernel might not be able to keep the read
# pages in memory thus end up trashing.
#hash_read_ahead = 10

# Interval between attempts to check the hash, in milliseconds.
#hash_interval = 100

# Number of attempts to check the hash while using the mincore status,
# before forcing. Overworked systems might need lower values to get a
# decent hash checking rate.
#hash_max_tries = 10

encoding_list = UTF-8</pre>
里面最主要的是 dht=on 和 session，这两个同时启用，才能让 dht 生效，因为 dht 需要保存 dht table 到这个路径下面。配置好之后，去 tracker list 里面看，应该多了一个 dht:// ，这就o了，还有些其他信息，可以自己琢磨琢磨。

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/supper-rtorrent/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="ati-dual-head/">ATI 显卡双头显示配置</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2008-09-07T16:00:00.000Z" itemprop="datePublished">Sep 8, 2008</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Linux/">Linux</a> <a href="../tags/bigdesktop/">bigdesktop</a> <a href="../tags/dual-head/">dual-head</a> <a href="../tags/twinview/">twinview</a> <a href="../tags/双头/">双头</a>
</div>
    </div>
      
        参考自<a href="http://gentoo-wiki.com/HOWTO_Dual_Monitors#ATI" target="_blank">这里</a> 。

双头就是接第二个显示器，或者接投影仪什么的，ati 里面叫做 bigdesktop，nvidia 叫做 twinview ，intel 的不太清楚，我记得好像也有个自己的名字。

Nvidia 的官方驱动有 twinview 的支持，图形界面下面配置起来似乎也不是很难。 ATI 的官方驱动支持的是 bigdesktop ，也有图形界面，不过那个界面很恶心，经常出现问题，不过可以试着删除 <a href="http://wdicc.cn/howto-reset-ati-fglrx-settings/" target="_blank">/etc/ati/amdpcsdb</a> 文件试试看。

下面是一个 bigdesktop 的 xorg.conf 文件。
<pre class="prettyprint lang-conf">Section "ServerLayout">
	Identifier     "Default Layout"
	Screen         "Default Screen" 0 0
	InputDevice    "Generic Keyboard"
	InputDevice    "Configured Mouse"
	InputDevice    "Synaptics Touchpad"
EndSection

Section "ServerFlags"
	Option	    "AIGLX" "off"
	#Option	    "AIGLX" "true"
EndSection

Section "Module"
	load "dbe"
EndSection

Section "InputDevice"
	Identifier  "Generic Keyboard"
	Driver      "kbd"
	Option	    "CoreKeyboard"
	Option	    "XkbRules" "xorg"
	Option	    "XkbModel" "pc104"
	Option	    "XkbLayout" "us"
	#Option "XkbOptions" "ctrl:nocaps"
EndSection

Section "InputDevice"
	Identifier  "Configured Mouse"
	Driver      "mouse"
	Option	    "CorePointer"
	Option	    "Device" "/dev/input/mice"
	Option	    "Protocol" "ImPS/2"
	Option	    "Emulate3Buttons" "true"
EndSection

Section "InputDevice"
	Identifier  "Synaptics Touchpad"
	Driver      "synaptics"
	Option	    "SendCoreEvents" "true"
	Option	    "Device" "/dev/psaux"
#	Option	    "Protocol" "auto-dev"
	Option	    "HorizScrollDelta" "0"
EndSection

Section "Monitor"
	Identifier   "Generic Monitor"
	HorizSync    28.0 - 51.0
	VertRefresh  43.0 - 60.0
	Option	    "DPMS"
EndSection

Section "Device"
	Option	    "DesktopSetup" "horizontal" #Enable Big Desktop
	Option	    "Mode2" "1280x1024" #Resolution for second monitor
	Option	    "VideoOverlay" "on"
	Option	    "OpenGLOverlay" "off"
	Identifier  "Generic Video Card"
	Option "XAANoOffscreenPixmaps" "true"
	Driver      "fglrx"
	Option		"DRI" "true"
EndSection

Section "Screen"
	Identifier "Default Screen"
	Device     "Generic Video Card"
	Monitor    "Generic Monitor"
	DefaultDepth     24
	SubSection "Display"
		Modes    "1024x768"
	EndSubSection
EndSection

Section "Extensions"
	Option	    "Composite" "Disable"
	#Option	    "Composite" "enable"
EndSection

Section "DRI"
	Group 0
	Mode 0666
EndSection</pre>
比较简单，只需要在 device 里面设置好就行了。

用 ati 的开源驱动，也可以双头显示。用下面的 xorg.conf 。
<pre class="prettyprint lang-conf">Section "ServerLayout">
	Identifier     "Default Layout"
	Screen         "Default Screen"
	InputDevice    "Generic Keyboard"
	InputDevice    "Configured Mouse"
	InputDevice    "Synaptics Touchpad"
EndSection

Section "ServerFlags"
	Option	    "AIGLX" "off"
	#Option	    "AIGLX" "true"
EndSection

Section "Module"
	load "dbe"
EndSection

Section "InputDevice"
	Identifier  "Generic Keyboard"
	Driver      "kbd"
	Option	    "CoreKeyboard"
	Option	    "XkbRules" "xorg"
	Option	    "XkbModel" "pc104"
	Option	    "XkbLayout" "us"
	#Option "XkbOptions" "ctrl:nocaps"
EndSection

Section "InputDevice"
	Identifier  "Configured Mouse"
	Driver      "mouse"
	Option	    "CorePointer"
	Option	    "Device" "/dev/input/mice"
	Option	    "Protocol" "ImPS/2"
	Option	    "Emulate3Buttons" "true"
EndSection

Section "InputDevice"
	Identifier  "Synaptics Touchpad"
	Driver      "synaptics"
	Option	    "SendCoreEvents" "true"
	Option	    "Device" "/dev/psaux"
#	Option	    "Protocol" "auto-dev"
	Option	    "HorizScrollDelta" "0"
EndSection

Section "Monitor"
    	Identifier      "Integrated LCD"
	 Option      "DPMS"
EndSection

Section "Monitor"
	Identifier      "External VGA"
	Option "RightOf" "Integrated LCD"
	 Option      "DPMS"
EndSection

Section "Device"
	Identifier  "Generic Video Card"
	Driver		"radeon"
#	# accelration
	Option          "AGPMode" "4"
	Option          "EnablePageFlip" "on"
	Option          "RenderAccel" "on"
	Option          "AccelMethod"   "EXA" # or XXA
	Option          "DynamicClocks" "on"
	Option		"DRI" "true"
        # Color Tiling
        Option          "ColorTiling"   "on"
    Option          "Monitor-VGA-0" "External VGA"
    Option          "Monitor-LVDS"  "Integrated LCD"
    # Option "XAANoOffscreenPixmaps" "true" # for composit
EndSection

Section "Screen"
	Identifier "Default Screen"
	Device     "Generic Video Card"
	Monitor    "Integrated LCD"
	DefaultDepth     24
	SubSection "Display"
		Modes    "1280x1024" "1024x768"
		Virtual 2304 1024
	EndSubSection
EndSection

Section "Extensions"
	Option	    "Composite" "Disable"
	#Option	    "Composite" "enable"
EndSection

Section "DRI"
	Group 0
	Mode 0666
EndSection</pre>
可以看到改动也不是很大，主要增加了两个显示器，device里面增加了这两个显示器的设置。另外 screen 里面增加了那个 virtual，这个的参数就是将来两个显示器总共的屏幕大小，我的是 1024+1280 x 1024 ，横向相加，竖向的取最大的。

ok，这样就可以了。注意这里没有用到最上面那个链接里面说的 MergedFB。似乎最新的 xorg 用 xrandr 实现了这个，所以 MergedFB 就不需要了。这有个好处，可以随时调整分辨率什么的。例如 xrandr --output VGA --off ，去掉第二个显示器。 xrandr --output VGA --right-of LVDS ，设置 bigdesktop等等。xrandr 的方法还可以参考<a href="http://wiki.debian.org/XStrikeForce/HowToRandR12" target="_blank">这里</a>。

升级到 xorg 1.5.3 以后，鼠标键盘的设置可以不在这里了，所以更加简单。
<pre class="prettyprint lang-text">

# xorg.conf (xorg X Window System server configuration file)
#
# This file was generated by dexconf, the Debian X Configuration tool, using
# values from the debconf database.
#
# Edit this file with caution, and see the xorg.conf manual page.
# (Type "man xorg.conf" at the shell prompt.)
#
# This file is automatically updated on xserver-xorg package upgrades *only*
# if it has not been modified since the last upgrade of the xserver-xorg
# package.
#
# If you have edited this file but would like it to be automatically updated
# again, run the following command:
#   sudo dpkg-reconfigure -phigh xserver-xorg

Section "ServerFlags"
	#Option	    "AIGLX" "off"
	Option	    "AIGLX" "true"
EndSection

Section "Module"
	load "dri"
EndSection

Section "Monitor"
    	Identifier      "Integrated LCD"
	Option      "DPMS"
EndSection

Section "Monitor"
	Identifier      "External VGA"
	Option "RightOf" "Integrated LCD"
	Option      "DPMS"
EndSection

Section "Device"
	Identifier  "Generic Video Card"
	Driver		"radeon"
#	# accelration
	Option          "AGPMode" "8"
	Option          "EnablePageFlip" "on"
	Option          "RenderAccel" "on"
	Option          "AccelMethod"   "EXA" # or XXA
	Option          "DynamicClocks" "on"
	Option		"DRI" "true"
        # Color Tiling
        Option          "ColorTiling"   "on"
    Option          "Monitor-VGA-0" "External VGA"
    Option          "Monitor-LVDS"  "Integrated LCD"
EndSection

Section "Screen"
	Identifier "Default Screen"
	Device     "Generic Video Card"
	Monitor    "Integrated LCD"
	DefaultDepth     24
	SubSection "Display"
		Modes    "1280x1024" "1024x768"
		#Modes    "1024x768"
		Virtual 2048 1024
		Virtual 2304 1024
	EndSubSection
EndSection

Section "Extensions"
	#Option	    "Composite" "Disable"
	Option	    "Composite" "enable"
EndSection

Section "DRI"
	Group 0
	Mode 0666
EndSection</pre>

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/ati-dual-head/#disqus_thread">Comments</a></span>
	
</div>
</article>

  <article class="post">
	<h2 class="title">
		<a href="ora-00257-and-ora-19815/">ORA-00257 和 ORA-19815</a>
	</h2>
    <div class="entry-content">
    <div class="meta">
      <div class="date">Published on: <time datetime="2008-09-05T16:00:00.000Z" itemprop="datePublished">Sep 6, 2008</time>
</div>
      <div class="tags">Tags: 

<a href="../tags/Mail/">Mail</a> <a href="../tags/oracle/">oracle</a>
</div>
    </div>
      
        这几天遇到了这两个错误，记录一下。

使用 perl 的 DBI 连接的时候，会提示 ora-00257 错误，这个用 三qlplus 估计也是一样的错误，注意时远程连接才出错。

<pre class="prettyprint lang-txt">
CRITICAL : Can't connect "db8.sds.cnb.yahoo.com"</pre>

同时，数据库的alert 里面有下面的信息

<pre class="prettyprint lang-txt">
ORA-19815: WARNING: db_recovery_file_dest_size of 268435456000 bytes is 100.00% used, and has 0 remaining bytes available.
************************************************************************
You have following choices to free up space from flash recovery area:
1. Consider changing RMAN RETENTION POLICY. If you are using Data Guard,
   then consider changing RMAN ARCHIVELOG DELETION POLICY.
2. Back up files to tertiary device such as tape using RMAN
   BACKUP RECOVERY AREA command.
3. Add disk space and increase db_recovery_file_dest_size parameter to
   reflect the new space.
4. Delete unnecessary files using RMAN DELETE command. If an operating
   system command was used to delete files, then use RMAN CROSSCHECK and
   DELETE EXPIRED commands.
************************************************************************
ARCH: Archival stopped, error occurred. Will continue retrying
ORACLE Instance nirv3 - Archival Error</pre>

登陆上数据库看看

<pre class="prettyprint lang-txt">

NAME                                 TYPE                   VALUE
------------------------------------ ---------------------- ------------------------------
archive_lag_target                   integer                0
log_archive_config                   string                 dg_config=(stb1)
log_archive_dest                     string
log_archive_dest_1                   string                 location="USE_DB_RECOVERY_FILE
log_archive_dest_10                  string
log_archive_dest_2                   string
log_archive_dest_3                   string
log_archive_dest_4                   string
log_archive_dest_5                   string
log_archive_dest_6                   string
log_archive_dest_7                   string

NAME                                 TYPE                   VALUE
------------------------------------ ---------------------- ------------------------------
log_archive_dest_8                   string
log_archive_dest_9                   string
log_archive_dest_state_1             string                 ENABLE
log_archive_dest_state_10            string                 enable
log_archive_dest_state_2             string                 ENABLE
log_archive_dest_state_3             string                 enable
log_archive_dest_state_4             string                 enable
log_archive_dest_state_5             string                 enable
log_archive_dest_state_6             string                 enable
log_archive_dest_state_7             string                 enable
log_archive_dest_state_8             string                 enable

NAME                                 TYPE                   VALUE
------------------------------------ ---------------------- ------------------------------
log_archive_dest_state_9             string                 enable
log_archive_duplex_dest              string
log_archive_format                   string                 %s_%t_%r_%a.arc
log_archive_local_first              boolean                TRUE
log_archive_max_processes            integer                4
log_archive_min_succeed_dest         integer                1
log_archive_start                    boolean                FALSE
log_archive_trace                    integer                0
standby_archive_dest                 string                 ?/dbs/arch

SQL&gt; select * from v$log;

    GROUP#    THREAD#  SEQUENCE#      BYTES    MEMBERS ARCHIV STATUS                           FIRST_CHANGE# FIRST_TIME
---------- ---------- ---------- ---------- ---------- ------ -------------------------------- ------------- ------------
         1          1     221250   52428800          1 YES    INACTIVE                            5082709437 05-SEP-08
         2          1     221252   52428800          1 NO     INACTIVE                            5082713458 05-SEP-08
         3          2     270972   52428800          1 YES    INACTIVE                            5082699510 05-SEP-08
         4          2     270975   52428800          1 NO     CURRENT                             5082713581 05-SEP-08
         9          1     221251   52428800          1 NO     INACTIVE                            5082712943 05-SEP-08
        10          2     270973   52428800          1 YES    INACTIVE                            5082705151 05-SEP-08
        11          1     221253   52428800          1 NO     CURRENT                             5082713765 05-SEP-08
        12          2     270974   52428800          1 NO     INACTIVE                            5082711887 05-SEP-08
        13          3     275581   52428800          1 NO     INACTIVE                            5082712519 05-SEP-08
        14          3     275582   52428800          1 NO     CURRENT                             5082713078 05-SEP-08
        15          3     275579   52428800          1 NO     INACTIVE                            5082710114 05-SEP-08

    GROUP#    THREAD#  SEQUENCE#      BYTES    MEMBERS ARCHIV STATUS                           FIRST_CHANGE# FIRST_TIME
---------- ---------- ---------- ---------- ---------- ------ -------------------------------- ------------- ------------
        16          3     275580   52428800          1 NO     INACTIVE                            5082711321 05-SEP-08

12 rows selected.

SQL&gt; ????select value from v$diag_info where name ='Diag Trace';

VALUE
------------------------------------------------------------------------------------------------------------------------------------------------------
/home/oracle/app/diag/rdbms/nirv/nirv3/trace

SQL&gt; select * from V$FLASH_RECOVERY_AREA_USAGE;

FILE_TYPE                                PERCENT_SPACE_USED PERCENT_SPACE_RECLAIMABLE NUMBER_OF_FILES
---------------------------------------- ------------------ ------------------------- ---------------
CONTROL FILE                                              0                         0               0
REDO LOG                                                  0                         0               0
ARCHIVED LOG                                            100                         0           13109
BACKUP PIECE                                              0                         0               0
IMAGE COPY                                                0                         0               0
FLASHBACK LOG                                             0                         0               0
FOREIGN ARCHIVED LOG                                      0                         0               0

7 rows selected.

SQL&gt; show parameter db_recovery_file_dest_size

NAME                                 TYPE                   VALUE
------------------------------------ ---------------------- ------------------------------
db_recovery_file_dest_size           big integer            250G
SQL&gt; show parameter DB_RECOVERY_FILE_DEST

NAME                                 TYPE                   VALUE
------------------------------------ ---------------------- ------------------------------
db_recovery_file_dest                string                 /sds/oradata
db_recovery_file_dest_size           big integer            250G
SQL&gt; alter system set db_recovery_file_dest_size=300G;  

System altered.

SQL&gt; show parameter DB_RECOVERY_FILE_DEST

NAME                                 TYPE                   VALUE
------------------------------------ ---------------------- ------------------------------
db_recovery_file_dest                string                 /sds/oradata
db_recovery_file_dest_size           big integer            300G
SQL&gt; select * from V$FLASH_RECOVERY_AREA_USAGE;

FILE_TYPE                                PERCENT_SPACE_USED PERCENT_SPACE_RECLAIMABLE NUMBER_OF_FILES
---------------------------------------- ------------------ ------------------------- ---------------
CONTROL FILE                                              0                         0               0
REDO LOG                                                  0                         0               0
ARCHIVED LOG                                          83.41                         0           13115
BACKUP PIECE                                              0                         0               0
IMAGE COPY                                                0                         0               0
FLASHBACK LOG                                             0                         0               0
FOREIGN ARCHIVED LOG                                      0                         0               0

7 rows selected.</pre>

可以看到空间是 83% 了，数据库应该就好了。不过这个是治标不治本的操作，需要把archive log删掉才行，具体怎么搞我也不会。。。汗。。

      
	</div>

<div class="meta">
	
		<span class="comments"><a href="http://wdicc.com/ora-00257-and-ora-19815/#disqus_thread">Comments</a></span>
	
</div>
</article>


  <nav id="pagenavi">
    
        <a href="/page/11/" class="prev">Prev</a>
    
    
        <a href="/page/13/" class="next">Next</a>
    
  <div class="center"><a href="/archives/index.html">Blog Archives</a></div>
  </nav>


    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2016

    wd
. Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> |
    Theme is <a href="https://github.com/wd/hexo-fabric">hexo-fabric</a>, fork from <a href="http://github.com/panks/fabric">fabric</a> by <a href="http://panks.me">Pankaj Kumar</a>
</div>


    </footer>
    <script src="/javascripts/fabric.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script>
 <!-- Delete or comment this line to disable Fancybox -->



<!-- end toload --> 
</div>
</div>
<script src="/javascripts/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
/*<![CDATA[*/
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery); 
/*]]>*/
</script><!-- remove it to remove the scroll to top button -->
</body>
</html>
