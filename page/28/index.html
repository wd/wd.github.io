<!DOCTYPE HTML>
<html>
<head>
	<meta name="generator" content="Hugo 0.19" />
	<meta charset="utf-8">
    
    
    <title>wd and cc</title>
    <meta name="author" content="wd">
    <meta name="description" content="">
    <meta name="keywords" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link href="https://wdicc.com/index.xml" rel="alternate" title="wd and cc" type="application/atom+xml">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/css/custom.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='//fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    

    <script type="text/javascript" src="/js/jquery-tapir.js"></script>

    

    <link rel="stylesheet" href="/css/hljs.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>


<body>
    <div id="wrapper">
        <header id="header" class="inner">
<h1 class="animated bounceInDown">
    <div id="headerbg">
        wd and cc
    </div>
</h1>

<span class="subtitle">happy every day</span>
<br>

<ul id="social-links" style="text-align:center; clear:both;">
    
    
    <li>
    <a href="https://github.com/wd" class="github" title="Github"></a>
    </li>
    
    
    
    
    
    <li>
    <a href="http://www.twitter.com/wd" class="twitter" title="Twitter"></a>
    </li>
    
    
    
    
    
</ul>


<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/archives/index.html">Archives</a></li>
	<li id="ajax"><a href="/tags/index.html">Tags</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    <li>
    <div id="dark">
        <form action="//www.google.com.hk/search" method="get" accept-charset="UTF-8" id="search">
            <input type="hidden" name="sitesearch" value="https://wdicc.com/" />
            <input type="text" name="q" results="0" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
</ul>

</header>

<div id="toload">

    <div id="content" class="inner">
        




    
    <script id="dsq-count-scr" src="//wdicc.disqus.com/count.js" async></script>
    




  <article class="post">
    <h2 class="title"> 
        <a href="/my-lilina/">咱也玩玩lilina</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2006-12-01T00:00:00.000&#43;00:00' itemprop="datePublished">2006-12-01</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/gfw">gfw</a>

<a href="/tags/lilina">lilina</a>

<a href="/tags/rss">rss</a>

<a href="/tags/web">web</a>


</div>
    </div>
        好像不知道从什么时候开始流行起了lilina，自己捣鼓捣鼓也装了一个，<a href="http://blog.wdicc.com/lilina/index.html">我的lilina</a>。其实google reader挺好的，不过就是google有时候会被GFW干掉，这样reader也不能访问了。最近这种情况好像还出现很频繁，真是头痛，其实google reader挺好用的，不过现在就试试看lilina了。<br />

今天也看到一些关于干掉GFW的文章<a href="http://yesure.blogspot.com/2006/11/ssh-tunnelfuck-gfw.html">[1]</a><a href="http://blog.cathayan.org/item/1508">[2]</a>，但是需要国外的ssh服务器，偶没有。。不过这个ssh tunnel倒是个不错的东西，比装代理服务器简单，嗯。<br />

用了lilina之后，发现sina的rss好像总是在最前面，而实际上他们更新却是以前的事情了，肯定是他们的rss输出有问题，感觉这样很无耻。<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/my-lilina/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/wp-keyword-plugin/">给wp的一个关键字插件做了一下修改</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2006-11-30T00:00:00.000&#43;00:00' itemprop="datePublished">2006-11-30</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/web">web</a>

<a href="/tags/%E5%85%B3%E9%94%AE%E5%AD%97">关键字</a>

<a href="/tags/%E6%8F%92%E4%BB%B6">插件</a>


</div>
    </div>
        参考<a title="访问插件主页" href="http://adsense-wordpress-plugin.ayanev.com/">AdSense Earnings Reports</a>插件将wp的一个关键字插件<a title="访问插件主页" href="http://blog.tassoman.com/wordpress-plugins/tradedoubler-filter">Trade Doubler Filter</a>修改了一下，之前只能通过修改源代码来添加关键字，现在可以在后台添加了。<br />

附件是修改之后的文件。<br />

http://blog.wdicc.com/wordpress/wp-content/uploads/2006/11/keyword.jpg<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/wp-keyword-plugin/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/lunch-and-supper/">午饭和晚饭</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2006-11-29T00:00:00.000&#43;00:00' itemprop="datePublished">2006-11-29</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/heart">heart</a>

<a href="/tags/%E5%87%8F%E8%82%A5">减肥</a>

<a href="/tags/%E5%8D%88%E9%A4%90">午餐</a>


</div>
    </div>
        在公司吃了半年多公司饭之后，也装模作样开始带饭了，呵呵。<br />

刚开始来公司的时候，是和其他几个同事一起去附近的饭馆拼桌，要几个炒菜一起吃，然后AA。后来一个比较老的同事离职之后，我和另外一个和我差不多新的同事就没了主意，后来就开始吃大厦的食堂。后来大厦里面的有个广东餐馆竞争，也开始提供自助餐。这样，吃到现在，这些地方都吃腻了。所以开始带饭。<br />

中午吃完满满一盒饭菜，就发现撑的荒，呵呵。 等到下午3，4点的时候，好像还觉得有点饱，这样晚上就完全不用吃饭了。就像今天，估计晚上又省了。。。这样也不错，还有利于减肥。。。<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/lunch-and-supper/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/chaffy-dish-weekend/">周末在家吃火锅</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2006-11-27T00:00:00.000&#43;00:00' itemprop="datePublished">2006-11-27</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/heart">heart</a>

<a href="/tags/%E5%91%A8%E6%9C%AB">周末</a>

<a href="/tags/%E5%91%B7%E5%93%BA">呷哺</a>

<a href="/tags/%E7%81%AB%E9%94%85">火锅</a>


</div>
    </div>
        上个周末过得比较腐败，没有了其它安排，周六下午睡到了9点，起来玩了会游戏，又继续睡，睡的头都晕了……。周日cc的同学过来，考虑到最简单的吃法，就是吃火锅了。<br />

去超市没有买到小肥羊的锅底，用了一个什么重庆的，挺辣的。想起来上次去双安吃的那个重庆火锅了，吃了半天除了辣就没有别的味道了，真是很没意思。不过我们昨天吃的除了辣还有一个味道，就是咸。刚开始吃还不觉得，后来 cc 说了咸之后，大家才醒悟，开始一直注意辣了，没想到这玩意确实挺咸的。后来想想，可能是因为我们锅比较小的缘故吧。<br />

四个人吃，锅底小料加菜总共花了得有100左右，想想看吧， cc 同学走了之后，就发现剩下的东西还够四个人吃两顿的……，真晕。这几天看样子还得吃一个火锅了。<br />

不过这次火锅比较好的结果就是， cc 对这个的味道感觉还行，当然她一如既往吃的是鸡肉，这样的话，就不用老跑去呷哺吃了，在家解决。 :)<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/chaffy-dish-weekend/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/add-some-feature-to-blog/">给blog的后台发文章添了一点功能</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2006-11-22T00:00:00.000&#43;00:00' itemprop="datePublished">2006-11-22</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/web">web</a>


</div>
    </div>
        给blog加了一个插件 <a href="http://trac.labnotes.org/cgi-bin/trac.cgi/wiki/WPPlugin/AdvancedWysiwyg">Advanced WYSIWYG Editor</a> ，可以打开wp使用的tinymce编辑器的一些功能。例如他网站上面列出来的那些：<br />
<ul><br />
	<li>Format selection: paragraph, formatted, headers, etc.</li><br />
	<li>Underline.</li><br />
	<li>Full justification.</li><br />
	<li>Anchor.</li><br />
	<li>Horizontal line.</li><br />
	<li>Copy, cut, paste.</li><br />
	<li>Insert table.</li><br />
	<li>Subscript, superscript.</li><br />
	<li>Foreground color, background color.</li><br />
	<li>Character map.</li><br />
	<li>Full screen editing.</li><br />
</ul><br />
<!--more-->吸引我的功能是那个insert table。按照其它插件的安装方法，激活之后，再看发表文章的编辑器，发现确实多了很多按钮。不过多了太多了，工具栏一行都显示不下啦，怎么分行呢？wp还是很牛的，好像就已经预料到这种问题了，直接修改<font color="#ff00ff">advanced-wysiwyg.php</font>就可以了。例如我的：<br />
<pre class="prettyprint lang-php">
return array(
"formatselect", "bold", "italic", "underline", "strikethrough", "separator",
"bullist", "numlist", "indent", "outdent", "separator",
"justifyleft", "justifycenter", "justifyright", "justifyfull","separator",
"link", "unlink", "anchor", "image", "hr");
}function extended_editor_mce_buttons_2($buttons) {
// Add buttons on the second toolbar line
//    return $buttons;
return array(
"cut", "copy", "paste", "undo", "redo", "separator",
"sub", "sup", "forecolor", "backcolor", "charmap", "separator",
"code", "fullscreen", "wordpress", "wphelp","separator","tablecontrols");
}</pre>
这样就分两行了，当然还可以编辑<font color="#ff00ff">extended_editor_mce_buttons_3</font>函数让他出来第三行。

好了，看着是不是挺爽的？可是发现我要的insert table功能怎么没出来？再仔细看作者的网页，有个提示”需要去tinymce的网站上面下载关于table等的plugin，默认的wp 2.0版本没有包括这些“。这样去下载了，将其中的plugin里面的东西放出来，找到table和fullscreen文件夹，放到服务器的tinymce的plugin下面，再访问一下发帖页面，是不是发现工具栏都变巨丑的按钮了？呵呵。

用Firefox的话，打开错误控制台，可以看到刚加的tinymce的plugin出错了。提示是：

tinyMCE.addPlugin is not a function

找到plugin里面的js文件看看，和其它比较一下，确实是多了这么一个函数调用。删掉之后工具栏能出来了，可是还是没有这个按钮，是啥问题呢？上作者<a href="http://blog.labnotes.org">blog</a>看了一下，原来是tinymce的版本太高了。
<blockquote>eduo Says: March 19th, 2006 at 5:08 pm

To all having issues with the rich editor disappearing:
Yes, the version of TinyMCE changed. I’ve been checking the versions and it’s possible to download the latest one that works with this plug-in (which in reality just extends the stock WP-included TinyMCE, itself a very good thing) from the “older versions” page of the TinyMCE SF site included as part of the 2.02 files:
<a href="http://sourceforge.net/project/showfiles.php?group_id=103281&package_id=11143">http://sourceforge.net/project/showfiles.php?group_id=103281&package_id=11143</a>0

The page for direct download is: <a href="http://prdownloads.sourceforge.net/tinymce/tinymce_1_45.tgz?download">http://prdownloads.sourceforge.net/tinymce/tinymce_1_45.tgz?download</a>

Using the “table” and “fullscreen” from this file is all that’s needed. Other plug-ins from this same package should work as well.</blockquote>
除了使用上面的版本，还可以使用一个<a href="http://prdownloads.sourceforge.net/tinymce/tinymce_2_0RC4.tgz">2.0 RC4</a>这个版本。
<blockquote>PS: The table controls and full screen editing rely on additional TinyMCE plugins. So if you want these two features as well, you’ll have to download TinyMCE plugins and install those separately. For WordPress 2.0.4 users, try the TinyMCE 2.0 RC4 plugins. Or check the comments to find out what works for other people.</blockquote>
这个版本的table功能更加高级一点，推荐使用这个。

    </div>

<div class="meta">
    
    <span class="comments"><a href="/add-some-feature-to-blog/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/filesystems-comparison/">Filesystems (ext3, reiser, xfs, jfs) comparison on Debian Etch（翻译）</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2006-11-20T00:00:00.000&#43;00:00' itemprop="datePublished">2006-11-20</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/other">other</a>


</div>
    </div>
        粗略翻译了一下 <a target="_blank" href="http://www.debian-administration.org/articles/388">Filesystems (ext3, reiser, xfs, jfs) comparison on Debian Etch</a> 这篇文章。<br />

有很多的关于linux文件系统比较的文章，但是他们大部分都是anecdotal的，都是基于人为的一些任务或者都是在老的内核下面完成的。这篇评论是基于11项真实存在于一台硬件比较老（奔腾 II/III ，EIDE硬盘）的文件服务器上的任务。<br />

<strong>为什么会有另外一个测试？</strong><br />

我发现两个quantitative和reproductible（可重现的？）的测试，在使用2.6.x内核的时候（参见参考文章）。Benoit（2003)在一台有512M内存的奔腾II 500的服务器上使用大文件（超过1GB）进行了12次测试。这些测试非常有用，但是结果已经太老了（2.6.0内核），并且他们都是应用于操作专有大文件的（比如多媒体、科学、数据库）。<br />

Piszcz（2006)进行了21项测试，在一台有768M内存，400G EIDE133硬盘的奔腾III 500的机器上模拟了一个变化的文件操作。到目前为止，这些测试似乎是在2.6内核上面最全面的了。然而，因为很多测试都是“人为”的（例如，复制和删除10000空的目录，创建10000文件，递归的分割文件），所以这些或许很难为现实世界带来什么结论。<br />

所以，这个测试的目标就是完成Piszcz（2006)的一些结论，通过在小型商务文件系统服务器（参考测试描述）上面的实际操作。<br />

<!--more--><strong>测试设置</strong><br />

* 处理器 : Intel Celeron 533<br />
* 内存 : 512MB RAM PC100<br />
* 主板 : ASUS P2B<br />
* 硬盘 : WD Caviar SE 160GB (EIDE 100, 7200 RPM, 8MB Cache)<br />
* 控制器 : ATA/133 PCI (Silicon Image)<br />

* 操作系统 Debian Etch (kernel 2.6.15), distribution upgraded on April 18, 2006<br />
* 其它不需要的服务都关掉了 (cron,ssh,saMBa,etc.)<br />

* 文件系统 Ext3 (e2fsprogs 1.38)<br />
* ReiserFS (reiserfsprogs 1.3.6.19)<br />
* JFS (jfsutils 1.1.8)<br />
* XFS (xfsprogs 2.7.14)<br />

<strong>对于选择的测试的描述</strong><br />

<strong><em>操作大文件（ISO文件，700M）</em></strong><br />
* 将ISO文件从第二块硬盘复制到测试硬盘上面。<br />
* 在测试硬盘上面重新复制ISO文件。<br />
* 删除两个复制的ISO。<br />

<strong><em>操作一个目录树（7500个文件，900个目录，1.9G）</em></strong><br />
* 将目录树从第二块硬盘复制到测试硬盘上面。<br />
* 在测试硬盘上面重新复制目录树。<br />
* 删除两个复制的目录树。<br />

<strong><em> 在目录树中操作</em></strong><br />
* 用递归方式列出目录树中的所有内容，并且保存到测试硬盘上面。<br />
* 在目录树中查找匹配指定通配符的文件。<br />

<em><strong>关于文件系统的操作</strong></em><br />
* 创建文件系统(mkfs)(所有文件系统都使用默认设置创建)。<br />
* 挂载文件系统。<br />
* 卸载文件系统。<br />

11项测试（从创建文件系统到卸载文件系统）的顺序是按照一个Bash脚本来运行的，总共运行三次（会报告平均时间）。每个序列大概需要7分钟。完成测试的时间，cpu占用百分比等都是通过GNU time utility（1.7版本）来计算的。<br />

<strong>测试结果</strong><br />

<strong><em>分区容量</em></strong><br />
初始的（在创建文件系统之后）和剩余的（在删除所有文件之后）分区容量是使用可使用的blocks除以整个分区的blocks计算出来的。EXT3的初始分区容量最差，其它的都几乎可以使用最大的分区容量。有趣的是，Ext3和ReiserFS剩余分区容量和初始分区容量是一样的，JFS、XFS损失了0.02%的分区容量，(建议这些文件系统可以动态增长，但是不要在删除文件之后完全恢复他们的初始状态（和大小）。)<br />
<table width="234" border="0" style="height: 118px"><br />
<tr><br />
<td>&nbsp;</td><br />
<td>初始分区容量</td><br />
<td>损失</td><br />
</tr><br />
<tr><br />
<td>Ext3</td><br />
<td>92.77%</td><br />
<td>0</td><br />
</tr><br />
<tr><br />
<td>ReiserFS</td><br />
<td>99.83%</td><br />
<td>0</td><br />
</tr><br />
<tr><br />
<td>JFS</td><br />
<td>99.82%</td><br />
<td>0.02%</td><br />
</tr><br />
<tr><br />
<td>XFS</td><br />
<td><font color="#990000">99.95%</font></td><br />
<td>0.02%</td><br />
</tr><br />
</table><br />
结论：想要使用分区的最大容量，请选择ReiserFS、JFS、XFS。<br />

<strong><em>文件系统的创建，挂载和卸载</em></strong><br />

为20G的分区创建文件系统。<br />
<table width="553" border="0" style="height: 122px"><br />
<tr><br />
<td>&nbsp;</td><br />
<td>创建时间</td><br />
<td>挂载时间</td><br />
<td>卸载时间</td><br />
<td>创建时CPU占用</td><br />
<td>挂载时CPU占用</td><br />
<td>卸载时CPU占用</td><br />
</tr><br />
<tr><br />
<td>Ext3</td><br />
<td><font color="#990000">14.7s</font></td><br />
<td>0.2s</td><br />
<td>0.2s</td><br />
<td>|</td><br />
<td>6-9%</td><br />
<td>37%</td><br />
</tr><br />
<tr><br />
<td>ReiserFS</td><br />
<td>2.2s</td><br />
<td><font color="#990000">2.3s</font></td><br />
<td>0.4s</td><br />
<td>59%(Lo)</td><br />
<td>|</td><br />
<td>14%</td><br />
</tr><br />
<tr><br />
<td>JFS</td><br />
<td>1.3s</td><br />
<td>0.2s</td><br />
<td>0.2s</td><br />
<td>74%(Hi)</td><br />
<td>|</td><br />
<td>27%</td><br />
</tr><br />
<tr><br />
<td>XFS</td><br />
<td>0.7s</td><br />
<td>0.5s</td><br />
<td><font color="#990000">0.5s</font></td><br />
<td>|</td><br />
<td>|</td><br />
<td>45%</td><br />
</tr><br />
</table><br />
结论：为了快速创建、挂载和卸载文件系统，请使用JFS或者XFS。<br />

<strong><em>操作大文件（ISO文件，700M）</em></strong><br />
<table width="599" border="0" style="height: 118px"><br />
<tr><br />
<td></td><br />
<td>第一次复制</td><br />
<td>第二次复制</td><br />
<td>删除文件</td><br />
<td>第一次复制CPU占用</td><br />
<td>第二次复制CPU占用</td><br />
<td>删除时CPU占用</td><br />
<td>minor page faults</td><br />
</tr><br />
<tr><br />
<td>Ext3</td><br />
<td>38.2s</td><br />
<td>37.3s</td><br />
<td>2.5s</td><br />
<td>46-51%</td><br />
<td>38-50%</td><br />
<td>10%</td><br />
<td>|</td><br />
</tr><br />
<tr><br />
<td>ReiserFS</td><br />
<td>41.8s</td><br />
<td>43.9s</td><br />
<td>1.5s</td><br />
<td>|</td><br />
<td>|</td><br />
<td>49%</td><br />
<td>661</td><br />
</tr><br />
<tr><br />
<td>JFS</td><br />
<td>35.1s</td><br />
<td>39.4s</td><br />
<td>0.02s</td><br />
<td>|</td><br />
<td>|</td><br />
<td>10%</td><br />
<td>|</td><br />
</tr><br />
<tr><br />
<td>XFS</td><br />
<td>34.8s</td><br />
<td>33.1s</td><br />
<td>0.02s</td><br />
<td>|</td><br />
<td>|</td><br />
<td>10%</td><br />
<td>600</td><br />
</tr><br />
</table><br />
结论：为了快速操作大文件，请使用JFS或者XFS。如果你需要最小的cpu占用，请使用JFS。<br />

<strong><em>操作目录树（7500个文件，900个目录，1.9G）</em></strong><br />
<table width="607" border="0" style="height: 124px"><br />
<tr><br />
<td></td><br />
<td>第一次复制</td><br />
<td>第二次复制</td><br />
<td>删除</td><br />
<td>第一次复制CPU占用</td><br />
<td>第二次复制CPU占用</td><br />
<td>删除时CPU占用</td><br />
<td>minor page faults</td><br />
</tr><br />
<tr><br />
<td>Ext3</td><br />
<td>158.3s</td><br />
<td>120s</td><br />
<td>22s</td><br />
<td>27-36%</td><br />
<td>|</td><br />
<td>15%</td><br />
<td>14000-1490</td><br />
</tr><br />
<tr><br />
<td>ReiserFS</td><br />
<td>172.1s</td><br />
<td>136.9s</td><br />
<td>8.2s</td><br />
<td>|</td><br />
<td>45%(Hi)</td><br />
<td>86%</td><br />
<td>5843</td><br />
</tr><br />
<tr><br />
<td>JFS</td><br />
<td>180.1s</td><br />
<td>151s</td><br />
<td>12.5s</td><br />
<td>|</td><br />
<td>29%(Lo)</td><br />
<td>15%</td><br />
<td>14000-1490</td><br />
</tr><br />
<tr><br />
<td>XFS</td><br />
<td>166.1s</td><br />
<td>135.2s</td><br />
<td>10.5s</td><br />
<td>|</td><br />
<td>|</td><br />
<td>65%</td><br />
<td>14000-1490</td><br />
</tr><br />
</table><br />
结论：为了快速操作大文件树，请选择Ext3或者XFS。其它作者的测试中显示，ReiserFS对于大量的小文件有优势。然而结果显示，操作包含上千的大小变化的文件（10K到5M）时建议使用Ext3或者XFS，他们或许更适合实际使用。JFS有最下的CPU占用，但是需要指出的是在操作大量文件的时候他也有值得注意的较高的延迟。<br />

<strong><em>在之前的目录树中列表目录和文件查找</em></strong><br />
<table width="564" border="0" style="height: 107px"><br />
<tr><br />
<td></td><br />
<td>列表目录</td><br />
<td>文件查找</td><br />
<td>列表目录CPU占用</td><br />
<td>文件查找CPU占用</td><br />
<td>minor page faults</td><br />
</tr><br />
<tr><br />
<td>Ext3</td><br />
<td>2.5s</td><br />
<td>4.6s</td><br />
<td>35%</td><br />
<td>6%</td><br />
<td>704-712</td><br />
</tr><br />
<tr><br />
<td>ReiserFS</td><br />
<td>1.4s</td><br />
<td>0.8s</td><br />
<td>71%</td><br />
<td>36%</td><br />
<td>1991</td><br />
</tr><br />
<tr><br />
<td>JFS</td><br />
<td>3.1s</td><br />
<td>5.0s</td><br />
<td>35%</td><br />
<td>6%</td><br />
<td>704-712</td><br />
</tr><br />
<tr><br />
<td>XFS</td><br />
<td>1.8s</td><br />
<td>2.8s</td><br />
<td>70%</td><br />
<td>10%</td><br />
<td>704-712</td><br />
</tr><br />
</table><br />
结论：根据这些测试，ReiserFS和XFS操作速度快，但是有比较多的CPU占用，Ext3和JFS操作速度慢，但是有较少的CPU占用。XFS似乎是最好的选择，他有相对比较快的查找速度，中等的cpu占用，以及可以接受的page faults比率。<br />

<strong>综合结论</strong><br />

这些结果重现了Piszcz(2006)关于Ext3是最少的可用分区容量的系统，ReiserFS是最长挂载时间的系统，Ext3创建时间最长的系统。此外，和这份报告中的内容一样，都发现JFS是CPU占用最少的系统。最后，这份报告是第一个显示ReiserFS在通常的文件操作中有较高的page faults。<br />

认识到各个文件系统的优缺点之后，每个 分区/磁盘 只可以安装一个文件系统。基于上面的测试，XFS似乎是最适合于家用文件服务器或者小型商务服务器使用：<br />

* 他可以最大限度的使用你的硬盘。<br />
* 他是创建、挂载、卸载速度最快的文件系统。<br />
* 他是操作大文件（>500M）速度最快的文件系统。<br />
* 他对于大量的中小文件和目录的操作是第二快的。<br />
* 在大的目录树列表和查找操作中，他在操作时间和CPU占用间找到了很好的平衡。<br />
* 他不是占用资源最少的文件系统，但是他在比较老的硬件上面的资源占用还可以接受。<br />

Piszcz(2006)没有明确的推荐XFS，他总结说“个人认为，我会因为性能和可靠性而选择XFS”。我支持他的结论。<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/filesystems-comparison/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/google-adsense/">申请了google adsense</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2006-11-20T00:00:00.000&#43;00:00' itemprop="datePublished">2006-11-20</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/adsense">adsense</a>

<a href="/tags/web">web</a>


</div>
    </div>
        以前好像申请过，不过没有通过。这次试试看又申请了一次，通过了，呵呵。尝试在网页上面添加了一下东东，不知道管用不管用，试试看了。google的那个公益广告其实有点意思，“你知道xxx吗？”我觉得挺吸引人的，我也选择了没关键字的时候显示公益广告了，可是看了半天好像也没显示公益广告。<br />

前几天maillist看到有人说通过adsense一个月可以收入450$，这个吓了一跳，真不少呢。不过我只希望他能给我把域名的钱赚回来就好了，如果还有富余，就去买块国外的空间，呵呵。<br />

adsense让一些小网站有了希望，至少，开一个网站不赔钱，或许应该没问题吧。现在域名加一小块空间，好像也不是很贵，所以指望adsense还是可以的。<br />

adsense同时也鼓励这些小网站能作出内容来，有内容，才会有人来访问，才有可能赚点钱。其实这样挺好的。<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/google-adsense/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/cpufreq-turning/">Linux下面动态调整cpu频率</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2006-11-14T00:00:00.000&#43;00:00' itemprop="datePublished">2006-11-14</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/cpufreqd">cpufreqd</a>

<a href="/tags/other">other</a>

<a href="/tags/%E9%99%8D%E9%A2%91">降频</a>


</div>
    </div>
        笔记本的cpu的频率是可调整的，一般用电池的时候，就会降频使用，延长电池使用时间。上周末忘记把笔记本的电源带回来了，用电池在linux下工作，发现降频真是个好东东，用了一个小时，电池显示还能用3个多小时，并且cpu温度从20多度才涨到40来度。为了让本本更凉一点，就看了看cpufreqd的工作原理。<br />

cpufreqd采用的是打分制，每条rule的总分是100分，比如有个rule里面有4条规则，如果满足了其中3条，那么总分就是75分，以此类推 。使用分数最多的规则，如果两条规则的分数相同，使用当前正在使用的规则，或者使用位置靠前的规则。下面来说说看这个东西怎么玩。<br />

比如按照我的工作情况，我有下面的需求：<br />
1 如果使用了mplayer,gcc等，那么用最高频率。<br />
2 如果使用了firefox，那么用中间频率。<br />
3 如果没有满足上面两条，那么用最低频率。<br />

这样就相当于设置了三个运行级别，你可以按照自己的需求来定义运行的程序。<br />

从上面的需求可以看出来，我们设置1这种情况下分数为100，那么没有mplayer的时候，1的分数应该是50。这样其他的两个要至少在50以上才行。而且3还得是在2匹配和不匹配的分数的中间。我的设置如下：<br />

[Rule]<br />
name=firefox<br />
ac=on<br />
programs=firefox-bin<br />
programs=sss<br />
acpi_temperature=0-60<br />
profile=Performance Low<br />
[/Rule]<br />

[Rule]<br />
name=Movie Watcher<br />
ac=on<br />
programs=xine,mplayer,gmplayer,wdmplayer,gcc<br />
profile=Performance High<br />
[/Rule]<br />

[Rule]<br />
name=AC Rule<br />
ac=on                    # (on/off)<br />
programs=aaa<br />
acpi_temperature=0-60<br />
profile=On Demand Low<br />
[/Rule]<br />

这样，基本可以实现我上面的需求。条目是可以多次出现的，所以比如可以多加几条programs=gcc，让gcc在使用的时候和不在使用的时 候得分差很多，这样方便安排其他的情况。<br />

windows下面可没这么灵活的设置亚，呵呵。<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/cpufreq-turning/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/nice-weekend/">悠闲的周末</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2006-11-13T00:00:00.000&#43;00:00' itemprop="datePublished">2006-11-13</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/heart">heart</a>

<a href="/tags/%E5%91%A8%E6%9C%AB">周末</a>


</div>
    </div>
        自从买了鞋柜和茶几之后，要买的大件物品总算是买完了。所以，上个周末就难得的有了自己的空闲时间。周六早上去超市买了一些东西，回来和物业商讨了橱柜的事情，就等着厂家把鞋柜送过来了。送来之后发现和样品不符，这下可找着机会让我把之前的一口恶气出一下了。之后厂家把鞋柜拉走了，晚上给我们打电话，又痛骂了一次那个销售，说好2周内给我从新做一个送过来。<br />

加上茶几之后，屋子里面就差不多就这样了，拍了一些相片放在了<a target="_blank" href="http://wdicc.yupoo.com/">网上</a>。<br />

本来之前说一些同学周日过来一起吃饭， 可是后来都没有过来。不过来拉倒，和老婆两个人去吃了好吃的，买了羽毛球，回来打了半个多小时羽毛球，感觉还真不错，呵呵。晚上又看了会电视。看了两天电视就发现，实在没有好看的，停留时间最长的就是苏版《倚天》和那个《男才女貌》。电视实在是越做越差。<br />

这个周末怎么安排呢？ 嗯。<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/nice-weekend/#disqus_thread">Comments</a></span>
    
</div>
</article>

  <article class="post">
    <h2 class="title"> 
        <a href="/oracle-backup-and-recover/">昨天操作了好多次oracle的备份和恢复</a>
    </h2>
    <div class="entry-content">
    <div class="meta">
        <div class="date">Published on: <time datetime='2006-11-09T00:00:00.000&#43;00:00' itemprop="datePublished">2006-11-09</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/oracle">oracle</a>

<a href="/tags/other">other</a>

<a href="/tags/%E5%A4%87%E4%BB%BD">备份</a>

<a href="/tags/%E6%81%A2%E5%A4%8D">恢复</a>


</div>
    </div>
        oracle的数据库文件一旦建立就会一直占用磁盘空间，表空间用尽的时候，就需要为表空间添加数据文件。可是，从表里面删除数据的时候，表空间却不会释放，所以磁盘空间占用只会越来越大。前段时间一个数据库的表空间不足了，放数据的分区也磁盘空间不足了，必须得想办法释放一下空间才行，操作说起来其实也简单，就是倒腾。<br />

操作值钱咱先给现在的表空间做一个备份。然后新建一个用户，给这个用户建立表空间，按照备份的大小添加数据文件。然后将备份导入新的表空间，切换应用使用的用户。删除之前用户的表空间，删除数据文件。然后给他重新建立表空间数据文件，切换回来。然后将新的用户里面的数据导出，导入到旧的用户下面。这样就操作完了。<br />

导出导入的时候可以按照exp和imp帮助里面的那个例子，row=n表示不倒数据，只导结构。这样导出似乎也会有些问题，什么seq不会倒出来，需要重新弄，不太明白这个。<br />

    </div>

<div class="meta">
    
    <span class="comments"><a href="/oracle-backup-and-recover/#disqus_thread">Comments</a></span>
    
</div>
</article>



  <nav id="pagenavi">
    
        <a href="/page/27/" class="prev">Prev</a>
    
    
        <a href="/page/29/" class="next">Next</a>
    
  <div class="center"><a href="/archives/index.html">Blog Archives</a></div>
  </nav>


    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2017
    
    wd
    . Powered by <a href="http://gohugo.io" target="_blank">Hugo</a> |
    Theme is <a href="https://github.com/wd/hugo-fabric">hugo-fabric</a>, fork from <a href="https://github.com/wd/hexo-fabric">hexo-fabric</a> by <a href="https://wdicc.com">me</a>
</div>

    </footer>
    <script src="/js/fabric.js"></script>


</div>
</div>
<script src="/js/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
 
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery);
 
</script>
</body>
</html>
