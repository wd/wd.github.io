<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Linux下面动态调整cpu频率 - wd and cc</title><link rel=icon type=image/png href=/favicon.ico><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:title" content="Linux下面动态调整cpu频率"><meta property="og:description" content="笔记本的cpu的频率是可调整的，一般用电池的时候，就会降频使用，延长电池使用时间。上周末忘记把笔记本"><meta property="og:type" content="article"><meta property="og:url" content="https://wdicc.com/cpufreq-turning/"><meta property="article:published_time" content="2006-11-14T00:00:00+00:00"><meta property="article:modified_time" content="2006-11-14T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Linux下面动态调整cpu频率"><meta name=twitter:description content="笔记本的cpu的频率是可调整的，一般用电池的时候，就会降频使用，延长电池使用时间。上周末忘记把笔记本"><link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://wdicc.com/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://wdicc.com/css/main.css><link rel=stylesheet type=text/css href=https://wdicc.com//light-syntax.css media="(prefers-color-scheme: light)"><link rel=stylesheet type=text/css href=https://wdicc.com/css/dark.css media="(prefers-color-scheme: dark)"><link rel=stylesheet type=text/css href=https://wdicc.com//dark-syntax.css media="(prefers-color-scheme: dark)"><script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script><script src=https://wdicc.com/js/main.js></script></head><body><div class="container wrapper post"><div class=header><base href=https://wdicc.com/><h1 class=site-title><a href=https://wdicc.com/>wd and cc</a></h1><div class=site-description><h2>&mdash; Happy every day</h2><nav class="nav social"><ul class=flat><a href=https://github.com/wd title=Github><i data-feather=github></i></a><a href=https://twitter.com/wd title=Twitter><i data-feather=twitter></i></a></ul></nav></div><nav class=nav><ul class=flat><li><a href=/>Home</a></li><li><a href=/post>All posts</a></li><li><a href=/tags>Tags</a></li><li><a href="https://www.google.com.hk/search?sitesearch=https%3A%2F%2Fwdicc.com%2F&q=">Search</a></li><li><a href=/atom.xml>Subscribe</a></li></ul></nav></div><div class=post-header><h1 class=title>Linux下面动态调整cpu频率</h1><div class=meta>Posted at &mdash; Nov 14, 2006</div></div><div class=post-header></div><div class=markdown>笔记本的cpu的频率是可调整的，一般用电池的时候，就会降频使用，延长电池使用时间。上周末忘记把笔记本的电源带回来了，用电池在linux下工作，发现降频真是个好东东，用了一个小时，电池显示还能用3个多小时，并且cpu温度从20多度才涨到40来度。为了让本本更凉一点，就看了看cpufreqd的工作原理。<br>cpufreqd采用的是打分制，每条rule的总分是100分，比如有个rule里面有4条规则，如果满足了其中3条，那么总分就是75分，以此类推 。使用分数最多的规则，如果两条规则的分数相同，使用当前正在使用的规则，或者使用位置靠前的规则。下面来说说看这个东西怎么玩。<br>比如按照我的工作情况，我有下面的需求：<br>1 如果使用了mplayer,gcc等，那么用最高频率。<br>2 如果使用了firefox，那么用中间频率。<br>3 如果没有满足上面两条，那么用最低频率。<br>这样就相当于设置了三个运行级别，你可以按照自己的需求来定义运行的程序。<br>从上面的需求可以看出来，我们设置1这种情况下分数为100，那么没有mplayer的时候，1的分数应该是50。这样其他的两个要至少在50以上才行。而且3还得是在2匹配和不匹配的分数的中间。我的设置如下：<br>[Rule]<br>name=firefox<br>ac=on<br>programs=firefox-bin<br>programs=sss<br>acpi_temperature=0-60<br>profile=Performance Low<br>[/Rule]<br>[Rule]<br>name=Movie Watcher<br>ac=on<br>programs=xine,mplayer,gmplayer,wdmplayer,gcc<br>profile=Performance High<br>[/Rule]<br>[Rule]<br>name=AC Rule<br>ac=on # (on/off)<br>programs=aaa<br>acpi_temperature=0-60<br>profile=On Demand Low<br>[/Rule]<br>这样，基本可以实现我上面的需求。条目是可以多次出现的，所以比如可以多加几条programs=gcc，让gcc在使用的时候和不在使用的时 候得分差很多，这样方便安排其他的情况。<br>windows下面可没这么灵活的设置亚，呵呵。<br></div><div class=post-tags><nav class="nav tags"><ul class=flat><li><a href=/tags/cpufreqd>cpufreqd</a></li><li><a href=/tags/other>other</a></li><li><a href=/tags/%E9%99%8D%E9%A2%91>降频</a></li></ul></nav></div><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")
return;var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;var disqus_shortname='wdicc';dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by
Disqus.</a></noscript><a href=http://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><div class="footer wrapper"><nav class=nav><div>Copyright © 2020 wd. All Rights Reserved | <a href=https://github.com/vividvilla/ezhil>Ezhil theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></nav></div><script>feather.replace()</script></body></html>