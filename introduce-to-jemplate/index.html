<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,viewport-fit=cover,initial-scale=1"><title>Jemplate 的简单介绍 | wd and cc</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><header><nav><ul><li class=pull-left><a href=https://wdicc.com/>/home/wd and cc</a></li><li class=pull-left><a href=/tags/>~/tags</a></li><li class=pull-left><a href="https://www.google.com.hk/search?sitesearch=https%3A%2F%2Fwdicc.com%2F&q=">~/search</a></li><li class=pull-right><a href=/atom.xml>~/subscribe</a></li></ul></nav></header></head><body><br><div class=article-meta><h1><span class=title>Jemplate 的简单介绍</span></h1><h2 class=date>2010/02/27</h2><p class=terms>Tags: <a href=/tags/jemplate>jemplate</a> <a href=/tags/js>js</a> <a href=/tags/linux>linux</a> <a href=/tags/php>php</a></p></div><div id=TOC></div><main>如果你还在用 php 写 web，那么你 out 了，呵呵。现在流行的是 rest + js。当然，rest 层可能还是 php 写的，不过还有用 perl 写的 openresty 1.0 和完全用 c 写的 openresty 2.0。openresty 是个很不错的东西，本来想细说一下，发现不知道怎么说好。去 cpan 上面搜吧。openresty 2.0 是基于 nginx 的，agentzh 在他上面加了好多的模块，让 nginx 直接和数据库通信，都不用 php 了。前端完全用 js 来搞定，以后应该都是 js 工程师了。<br>smarty 写 php 的人应该都知道吧，Jemplate 是很类似的一个东西，是方便你写 js 的一个工具。我这写了一个非常简单的例子。<br>下面这个是 Jemplate 的一个模板，保存为 test.tt。<br><pre class=prettyprint>
<div>[% test %]</div>
<p>
[% FILTER html %]
    asdff < sdf > sdfsdf
[% END %]
</p>
</pre><br>然后用 Jemplate 编译一下<br><pre class=prettyprint>
jemplate --runtime > a.js
jemplate --compile test.tt >> a.js
</pre><br>这之后就和 test.tt 没关系了，除非你改了他，那就需要重新生成这个 a.js。<br>再看我们的页面。里面 jquery-1.4.2.min.js 是为了方便操作页面使用的，jquery 决对是个好东西，写 js 应该使用他。那个 jquery.b.js 是我们自己写的，真正把数据添加到页面的代码。<br><pre class=prettyprint>
<html>
<head>
    <meta charset=utf-8>
    <title>test</title>
    <script src=jquery-1.4.2.min.js type=text/javascript></script>
    <script src=a.js type=text/javascript></script>
    <script src=jquery.b.js type=text/javascript></script>
</head>
<body>
<div id=main></div>    
</body>
</html>
</pre><br>在这个 jquery.b.js 里面，我们让 jemplate 处理了一下 test.tt，给他里面的 test 变量赋值 ffffff，然后把设置到 #main 的 html 里面。<br><pre class=prettyprint>
$(function() {
    var html= Jemplate.process(
        'test.tt', { test: 'ffffff' }
    );

    $('#main').html(html);
});
</pre><br>这样这个页面就完事了，简单么，呵呵。你可以用 jemplate 和 js 强大的语法来实现更多的功能的。<br></main><section id=comment><h2 class=title>Comments</h2><div id=disqus_thread aria-live=polite><noscript>Please enable JavaScript to view the <a href=//disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></section><script type=text/javascript>var disqus_config=function(){this.page.url='';this.page.identifier='';};(function(){var d=document,s=d.createElement('script');s.src='//wdicc.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><footer style=clear:both><hr>Theme from <a href=https://github.com/wd/hugo-classic>hugo-classic</a> fork from <a href=https://github.com/goodroot/hugo-classic>Github</a></footer></body></html>