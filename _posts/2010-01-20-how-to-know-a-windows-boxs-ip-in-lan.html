---
layout: post
title: 怎么能知道旁边的一台没有显示器的 windows 的 ip 呢？
tags:
- heart
status: publish
type: post
published: true
comments: true
---
<p>我旁边有个 windows，是 dhcp 获取 ip 的，ip 总变，很恶心。这机器还没有显示器，我都是通过 rdesktop 连上去用的，这样必须知道 ip 才行。那不接显示器，怎么能知道 ip 呢？</p><p>方法一，写一个脚本定时把 ipconfig 的结果通过 scp 或 ftp 发到某个有固定 ip 的机器。这样 ip 变了我至少过那么久的间隔就能知道他目前的 ip 了。时间设的长短可能就是你等的时间了。</p><p>方法二，扫描一下局域网结果存到 a，给那个机器断网，再扫一下存到 b，diff 比较那个状态有变化的。我用的就是这个方法。</p><p># nmap -PN 10.32.20.0/24 -p 3389 --open &gt; a</p><p>要用 root 执行，此外还有别的方法没？呵呵</p>
