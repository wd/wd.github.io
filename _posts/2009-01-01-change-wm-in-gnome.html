---
layout: post
title: 在 gnome 中替换 wm
tags:
- gnome
- Linux
- openbox
status: publish
type: post
published: true
comments: true
---
gnome 中的 window manger (wm) 是 metacity，有时候可能会用的不爽，换成 openbox ，或着 xfwm4 之类。

gnome 提供了简单的方法，就是设置 WINDOW_MANAGER 这个变量。如果用的是 dm，例如 gdm ，那么在 .profile 里面放上下面一句就可以了。startx 的话，放在 .xinitrc 里面。

export WINDOW_MANAGER="/usr/bin/openbox"

用 gdm 的话，还可以在启动的时候选择 openbox-gnome-session 这个来使用 openbox 做为 wm，那个命令是个 shell 脚本，可以看看。

如果设置了不管用，可以看看 gconf 里面的 desktop/gnome/session/required_components/windowmanager 的值。/usr/bin/gnome-wm 这个程序可能会用这个，具体好像和 gnome 的版本有关，这个文件是 gnome-base/gnome-session 这个包里面的。

gdm 启动的时候，会运行 /etc/X11/gdm/Xsession 这个程序。可以试试看在这里面小小的 debug 一下。

最后郁闷一下，openbox 在 gnome 的 dual head 里面好像有个 <a href="http://bugzilla.icculus.org/show_bug.cgi?id=3922" target="_blank">bug</a>，提交给了 openbox，还没回复，只能继续 metacity 了。
