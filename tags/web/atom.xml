<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Web on wd and cc</title><link>https://wdicc.com/tags/web/</link><description>Recent content in Web on wd and cc</description><generator>Hugo</generator><language>en</language><copyright>wd © 2025</copyright><lastBuildDate>Wed, 12 Jun 2013 21:45:00 +0800</lastBuildDate><atom:link href="https://wdicc.com/tags/web/atom.xml" rel="self" type="application/rss+xml"/><item><title>octopress and jeklly 1.0.1</title><link>https://wdicc.com/octopress-and-jeklly-1-dot-0-1/</link><pubDate>Wed, 12 Jun 2013 21:45:00 +0800</pubDate><guid>https://wdicc.com/octopress-and-jeklly-1-dot-0-1/</guid><description>&lt;p>自从 jeklly 1.0.x 发布之后，我的 octopress 站点就在 github，gitcafe 上面更新不了了，写了新帖子然后 push 之后，会收到个邮件，说 generate site faild。&lt;/p>
&lt;p>等等。。这个不是静态站点吗？generate 你妹阿！！然后就找阿找阿找解决办法，尝试过下面这些&lt;/p></description></item><item><title>Some tips for bash scripting</title><link>https://wdicc.com/some-tips-on-bash-scripting/</link><pubDate>Sun, 02 Dec 2012 19:43:00 +0800</pubDate><guid>https://wdicc.com/some-tips-on-bash-scripting/</guid><description>&lt;p>最近几天写了一些 bash 脚本，又有些心得，记录一下。&lt;/p>
&lt;h2 id="获取当前路径的绝对路径">获取当前路径的绝对路径&lt;/h2>
&lt;p>比较常见的需求可能是获取相对路径，这样方便程序复制到其他目录也可以运行。使用 &lt;code>$(dirname $0)&lt;/code> 就可以获取相对路径，不过这里说的是绝对路径。&lt;/p>
&lt;p>其实也简单，相对路径加上当前目录，那不就是绝对路径么。不过是，有时候 &lt;code>$(dirname $0)&lt;/code> 取到的也可能是绝对路径（一般期望相对路径的程序也能跑通，所以不大关心）。&lt;/p></description></item><item><title>介绍下 openresty</title><link>https://wdicc.com/intro-openresty/</link><pubDate>Sun, 23 Oct 2011 00:00:00 +0000</pubDate><guid>https://wdicc.com/intro-openresty/</guid><description>一直没有时间使用 ngx_lua，上周算是真正使用了下，总结下，也算是帮忙推广下 openresty。&lt;br />
&lt;div id="outline-container-1" class="outline-2">&lt;br />
&lt;h2 id="sec-1">什么是 openresty&lt;/h2>&lt;br />
&lt;div id="text-1" class="outline-text-2">&lt;br />

openresty 的主力作者是 &lt;a href="http://weibo.com/agentzh">@agentzh&lt;/a> 它的网页在 &lt;a href="http://openresty.org">这里&lt;/a>，上面有介绍。按我的理解，他是介于客户端浏览器 js 和数据库之间的一层。&lt;br />

在 ajex 还没有盛行的时代，数据库的数据需要展现在浏览器的时候，一般都是使用 php/jsp 之类读取数据，然后拼表格/图表这些。在客户端机器越来越牛逼之后，把部分运算放在浏览器里面开始盛行，ajex 也越来越流行。这个时候通常还需要有个服务器端的程序来配合从数据库获取并提供数据，应该也有不少类似的程序来提供这个数据。&lt;br />

老版本的 openresty 是基于 perl 做的，可以上 cpan 上面 &lt;a href="http://search.cpan.org/~agent/OpenResty-0.5.12/lib/OpenResty/Spec/REST_cn.pod">搜到&lt;/a> (不知道为啥这页面我打不开了)。agentzh 还专门为他写了一个 admin site，纯 js + oprensty 来实现的，可以直接在上面配置接口，很方便。目前老版本应该没人用了。&lt;br />

新版本的 openresty 基本上等于是 nginx 和一些 nginx 模块的集合，大部分模块都是 agentzh 和 &lt;a href="https://github.com/chaoslawful">chaoslawful&lt;/a> 完成的，目前 agentzh 离职在家全职开发 openresty 相关，chaoslawful 还在淘宝 &lt;a href="http://linezing.com">量子统计&lt;/a> 。&lt;br />

这大概就是我了解的 openresty 的起源和目前的情况。写的比较简单，里面的曲折就不多说了，可以找上面提到的大牛聊天。&lt;br />

&lt;/div>&lt;br />
&lt;/div>&lt;br />
&lt;div id="outline-container-2" class="outline-2">&lt;br />
&lt;h2 id="sec-2">怎么使用 openresty&lt;/h2>&lt;br />
&lt;div id="text-2" class="outline-text-2">&lt;br />

我下面用一个简单的例子来描述下，我是怎么使用 openresty 的，从中应该能看出来 openresty 能干啥，怎么用。&lt;br />

&lt;/div>&lt;br />
&lt;div id="outline-container-2-1" class="outline-3">&lt;br />
&lt;h3 id="sec-2-1">需求&lt;/h3>&lt;br />
&lt;div id="text-2-1" class="outline-text-3">&lt;br />

在 postgresql 数据库有张网站日访问流量表，包含两个字段 thedate 和 pv。需要把里面的数据展现出来，画出来流量曲线。&lt;br />

&lt;dl>&lt;dt>注意&lt;/dt>&lt;dd>下面的代码大都从现有程序里面扒出来的，所以不一定直接就能用，只是个示意而已。&lt;/dd>&lt;/dl>&lt;/div>&lt;br />
&lt;/div>&lt;br />
&lt;div id="outline-container-2-2" class="outline-3">&lt;br />
&lt;h3 id="sec-2-2">安装 openresty&lt;/h3>&lt;br />
&lt;div id="text-2-2" class="outline-text-3">&lt;br />

首先需要安装 openresty。从 &lt;a href="http://openresty.org">openresty.org&lt;/a> 下载当前的 stable 版本 ngx_openresty-1.0.6.22.tar.gz。&lt;br />
&lt;pre class="prettyprint lang-bash">
$ cd ngx_openresty-1.0.6.22
$ ./configure --with-http_drizzle_module --with-http_postgres_module --with-pg_config=/opt/pg90/bin/pg_config --prefix=/usr/local/openresty --with-libdrizzle=/usr/local/libdrizzle/ --with-luajit --with-http_iconv_module # 这是我用到的参数，按照需要加减
$ make
# make install&lt;/pre>
configure 的时候 postgres_module 是必须的，其他的 drizzle_module 是用来支持从 mysql 获取数据的，iconv_module 是用来做编码转换的，luajit 据说可以提升不少性能。

不出问题的话，在 /usr/local/openresty 目录下面就安装好了。其实更合理的方式应该是提供一个 rpm 或者 deb 包的。

&lt;/div>
&lt;/div>
&lt;div id="outline-container-2-3" class="outline-3">
&lt;h3 id="sec-2-3">启动 nginx&lt;/h3>
&lt;div id="text-2-3" class="outline-text-3">

openresty 给提供了简单可用的 nginx.conf，所以现在可以先尝试启动下 /usr/local/openresty/nginx/sbin/nginx 了，如果启动没问题，那就 ok 了。

配置文件在 /usr/local/openresty/nginx/conf/nginx.conf。

&lt;/div>
&lt;/div>
&lt;div id="outline-container-2-4" class="outline-3">
&lt;h3 id="sec-2-4">配置 nginx&lt;/h3>
&lt;div id="text-2-4" class="outline-text-3">

主要就是配置 /usr/local/openresty/nginx/conf/nginx.conf，以后很多事情都会在这里面来完成，说是 nginx.conf 编程也不为过，呵呵。

增加下面的配置
&lt;pre class="prettyprint lang-conf">

 upstream pgsql {
 postgres_server server_ip:5432 dbname=test password=123 user=test;
 #postgres_keepalive max=2 mode=single overflow=reject;
 postgres_keepalive off;
 }

# server 里面增加一个 location

 location /=/pv {
 postgres_query 'select thedate, pv from pv';
 postgres_pass pgsql;

 rds_json on;
 rds_json_format compact;

 xss_get on;
 xss_callback_arg '_c';
 }&lt;/pre>
&lt;ol>
	&lt;li>其中关于 upstream postgres 用来定义需要连接的数据库信息，和发送 sql 到数据库，可以参考 &lt;a href="https://github.com/FRiCKLE/ngx_postgres/">这里&lt;/a>。&lt;/li>
	&lt;li>rds_json 用来将数据库的输出变成 json 格式，可以参考 &lt;a href="https://github.com/agentzh/rds-json-nginx-module">这里&lt;/a> 。&lt;/li>
	&lt;li>xss_get 用来支持跨域，jquery 默认使用的 callback 参数是 _c，可以参考 &lt;a href="https://github.com/agentzh/xss-nginx-module">这里&lt;/a>。&lt;/li>
&lt;/ol>
这样配置好之后，重启下。结果应该很清晰了，请求 &lt;a href="http://your_ip/=/pv">http://your\_ip/=/pv&lt;/a> 应该就可以得到数据库里面的数据了，可以使用 curl 看看结果，应该类似下面的
&lt;pre class="prettyprint lang-json">
&lt;/div>
&lt;/div>
&lt;div id="outline-container-2-5" class="outline-3">
&lt;h3 id="sec-2-5">js 画图&lt;/h3>
&lt;div id="text-2-5" class="outline-text-3">

挑一个画图程序，比如我用过的 &lt;a href="http://highcharts.com">highcharts&lt;/a>, &lt;a href="http://www.amcharts.com/">amcharts&lt;/a> 这些都不错，amcharts 是使用 flash 画图，兼容各种浏览器，highcharts 号称也支持，不过我弄出来的图在 chrome/firefox 下面没问题，ie 不支持，他用的是 svg 标签。

就写几行代码来示意下吧
&lt;pre class="prettyprint lang-javascript">
 $.ajax({
 url : 'http://your_ip/=/pv',
 success: function (data) {
 renderPvCharts(data);
 }
 });

 function renderPvCharts(data) {
 $('body').append('&lt;/pre>
&lt;pre class="prettyprint lang-javascript">
 var result = Utils.getSplineChartSeries( data ); # 将 nginx 返回的 json 格式数据转化为 highcharts 需要的格式
 var options = {
			chart: {
 zoomType: 'xy',
				renderTo: 'pv', # div 的 id
				defaultSeriesType: 'spline'
			},
			title: {
 text: '每日 pv'
 },
			xAxis: {
 type: 'datetime'
			},
			tooltip: {
				formatter: function() {
			 return '&lt;strong>'+ this.series.name +'&lt;/strong>
'+
						Highcharts.dateFormat('%e. %b', this.x) +': '+ this.y;
				}
			},
			legend: {
				layout: 'vertical',
				align: 'right',
				verticalAlign: 'top',
				x: -10,
				y: 100,
				borderWidth: 0
			},
 series : result.y
 };

 var chart = new Highcharts.Chart( options );
 };

} );&lt;/pre>
简单解释下
&lt;ol>
	&lt;li>在页面 readay 的时候，使用 ajex 设置回调函数并请求接口。&lt;/li>
	&lt;li>回调函数里面使用 Utils.getSplineChartSeries 转换一下数据，方便直接给 options 里面数据赋值，具体需要的数据格式，看 highcharts 的 spline 的 demo 就可以。&lt;/li>
	&lt;li>回调函数里面显示图表。&lt;/li>
&lt;/ol>
这样就完事了，数据就展现出来了。

&lt;/div>
&lt;/div>
&lt;div id="outline-container-2-6" class="outline-3">
&lt;h3 id="sec-2-6">其他&lt;/h3>
&lt;div id="text-2-6" class="outline-text-3">

从上面可以看到整个数据流是怎么回事。openresty 可以做的事情远比上面描述的复杂，上面只是个最简单的应用了。
&lt;ol>
	&lt;li>比如使用 &lt;a href="https://github.com/agentzh/rds-csv-nginx-module">rds_csv&lt;/a> 来直接得到 csv 格式的数据提供给用户，而不是 json。&lt;/li>
	&lt;li>可以使用 &lt;a href="https://github.com/chaoslawful/lua-nginx-module">ngx_lua&lt;/a> 在 nginx.conf 里面使用 lua 来在服务器端对数据做一些处理再丢给浏览器。
大家都知道 js 处理的数据太大的时候，会导致浏览器卡死，所以如果不方便通过 sql 控制输出的时候，可以使用 lua 来处理下。当然 这只是其中一个应用，使用 ngx_lua 你可以干很多事情，比如上面那个使用 js 来生成 spline 数据的函数就可以用 lua 来实现，lua 还可以和 c 结合来做一些事情。对于 location 的参数，在 ngx_lua 里面也是可以访问的，比如 ngx.var.arg_c 这样。具体还是看 wiki 吧，写不完的。
&lt;ol>
	&lt;li>openresty 还能直接访问 redis 和 memcached。&lt;/li>
&lt;/ol>
本篇只能算是一个入门而已，openresty 在淘宝量子统计的应用非常广泛。另外在 &lt;a href="http://qunar.com">去哪网&lt;/a> 也有不少应用，比如我知道的安全过滤模块，和一些数据报表，都是基于 openresty 的。

附一个 highcarts 画的图

&lt;img class="alignnone" title="流量情况" src="http://wdicc.com/images/2011-10-24-171245_1100x312_scrot.png" alt="" width="1100" height="312" />&lt;/li>
&lt;/ol>
&lt;/div>
&lt;/div>
&lt;/div></description></item><item><title>yahoo 全能搜索</title><link>https://wdicc.com/yahoo-search/</link><pubDate>Sat, 01 Sep 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/yahoo-search/</guid><description>&lt;p>yahoo新推出的全能搜索感觉很新颖，尤其那个人物关系图，国内好像还没有别家做，呵呵。不过不知道这个图是怎么维护的，如果是人工，那还是很费事的，也不知道这玩意怎么做到智能，我估计还是得人工设置关键字之间的关系。&lt;/p></description></item><item><title>难道我的广告卖出去了？</title><link>https://wdicc.com/my-alimama-ad-sold/</link><pubDate>Sat, 25 Aug 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/my-alimama-ad-sold/</guid><description>&lt;p>今天总算可以上会网了，看看阿里妈妈上面，发现广告卖出去了？状态是投放中，可是blog应该显示广告的地方显示的是一片空白？很怪异，我也不知道咋回事了。&lt;/p> &lt;p>发现alimama上面很多大网站也开始上了，alimama 的成功值日可待啊，呵呵。投放广告之前就可以广告可能的展示次数，还是不错的，可以广告的投放客户很透明的知道这个网站的pv，不过是如果这个网站不想要透露这个信息的话，也是比较麻烦的一个问题。google的adsense广告的话，网站自己可以知道广告的pv，投放广告的就不清楚能不能知道了。不过至少第三方是不清楚这个信息的。他们之间的交易是如何的，可能只有google知道了。alimama 的透明、诚信还是有他的道理的。&lt;/p></description></item><item><title>阿里妈妈来了</title><link>https://wdicc.com/alimama-is-coming/</link><pubDate>Sat, 11 Aug 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/alimama-is-coming/</guid><description>&lt;p>不知道什么是&lt;a href="http://www.alimama.com/">阿里妈妈&lt;/a>？那你老土了，哈哈。第一次听说的时候，大家都在问，那有阿里爷爷，阿里儿子没？呵呵。&lt;a title="http://www.alimama.com/" href="http://www.alimama.com/">http://www.alimama.com/&lt;/a>&amp;nbsp;是阿里妈妈的网址，这两天刚上线。&lt;/p> &lt;p>alimama 是一个广告的c2c平台。什么是c2c？c2c=Consumer To Consumer，b2b=Business to Business。你可以把你网站的广告位放到这个平台上面去卖，我看了一下，有卖50元/一周的，也有卖0.5元/一周的，呵呵，就看你网站的pv，uv了。&lt;/p></description></item><item><title>测试看看还乱码不</title><link>https://wdicc.com/test-live-writer-3/</link><pubDate>Sun, 29 Jul 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/test-live-writer-3/</guid><description>&lt;p>迁移了一下之后，live writer 发布的时候总乱码，不知道咋回事。再测试看看。&lt;/p> &lt;p>在&lt;a href="http://e-spacy.com/blog/1894.html">这里&lt;/a>找到一个乱码问题的解决方法，测试看看。&lt;/p> &lt;p>下面这个图是空调车。。。&lt;/p> &lt;p>&lt;img src="http://photo8.yupoo.com/20070717/091948_1908862546.jpg">&lt;/p>&lt;br /></description></item><item><title>非常不错的 utorrent</title><link>https://wdicc.com/utorrent-is-the-best-bittorrent-client/</link><pubDate>Tue, 10 Jul 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/utorrent-is-the-best-bittorrent-client/</guid><description>&lt;p>最早发现bt这玩意的时候，还是2003年。那会上 btchina 找新资源是一种乐趣。那会用的是官方的那个下载软件，就一个界面，下载几个开几个窗口，下载速度不能控制。后来慢慢有了能控制速度的版本，但是界面还基本都那么单一。再后来就用上了 bitsprit，bitcomet这些。bitcomet用了很长时间，内网速度很好，占资源又少。但是自从 0.7（好像是这个版本）之后，就没用过了，下载速度不见长，还往下掉，运行也越来越慢。那会我就开始用bitsprite了，虽然也不怎么样，但是下载还是有速度的。。。&lt;/p></description></item><item><title>tmp下面有好多的sess_文件</title><link>https://wdicc.com/lots-sess_-files/</link><pubDate>Wed, 20 Jun 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/lots-sess_-files/</guid><description>&lt;p>之前以为是有个&lt;a href="http://blog.wdicc.com/wordpress/update-blog-to-2-2/">did_you_path_math插件&lt;/a>的问题，可是停止这个插件后，发现还是会有这些文件出来。&lt;/p> &lt;p>&lt;pre lang="txt">-rw------- 1 nobody 4294967295 0 Jun 20 16:01 sess_l12chvh9bjik2a7ms152ggnu36&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 16:00 sess_r6gml3pbcfaribnctamiq9rk53&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 16:00 sess_lnvhsb928701qq1kgf1fiiuem5&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 16:00 sess_bhlk360m7jqh1c8khku000gte4&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:58 sess_uuflltlj4c81pk116qtegr15q2&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:57 sess_6fbdvd4fmq49pp9kvi0g68ihr5&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:55 sess_s4o0c5untrfj2rpdqemp06lk65&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:51 sess_9cir4ug259se527d01pcgr63j0&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:50 sess_kj973ei5sudldg3n9bfq0cgb23&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:49 sess_7j8h39red2jak1upe1k80c1tt7&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:45 sess_tnhhikhc2hgui3e9ugh835i0s0&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:44 sess_mgpr813dtuil5m6u765kbov503&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:41 sess_8vcse5004pvd2icntct9jgt5m4&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:39 sess_g2r1hkg2u4o9v0c919nem61724&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:39 sess_60qoqf65giur2ulj01ce2snal0&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:38 sess_vier69ckh0dmp9613k0gfm05m3&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:38 sess_m57eveg1oarv2hheem2nkv45i4&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:38 sess_hgtktf6eeeghdfm1e7blb1v4a7&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:38 sess_qko77d166lmadk3gcn4lop7qe1&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:36 sess_en9v49gnlbmtma56s8tkqpqbc5&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:32 sess_aeu3nad39iljqr6kahaq7ceih5&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:31 sess_ulboab1mt4ov930fkllrc6rlt3&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:31 sess_47on5eflfdfnupdov6a59soui3&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:31 sess_o98ss7kbp31jce5d2jt133n183&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:31 sess_p97q0t0qlmtalkbpism7aa7gb6&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:30 sess_le35e8bodjrlp4ufk33c2k6h62&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:29 sess_9dlskkqqas3nu7t2asu4ok8ec2&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:29 sess_a56sha53hr1737nt9rahh2nn02&lt;br />
-rw------- 1 nobody 4294967295 0 Jun 20 15:29 sess_2g2r8j02h4al5rmbb0mnpuu865&lt;/pre>&lt;br />
&lt;p>&lt;/p></description></item><item><title>继续测试 live writer 的 post-slug 功能</title><link>https://wdicc.com/test-live-writer-post-slug/</link><pubDate>Sat, 09 Jun 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/test-live-writer-post-slug/</guid><description>&lt;p>居然没有提示就装好了，搞得我重装了好几次，下载了好几个版本。&lt;/p> &lt;p>这次看看post-slug好用不好用。&lt;/p> &lt;p>&amp;nbsp;&lt;/p> &lt;p>&lt;pre lang="bash">grep -r "shit" GFW&lt;/pre>&lt;br /></description></item><item><title>升级了一下blog，顺便换了一个spam插件</title><link>https://wdicc.com/update-blog-to-2-2/</link><pubDate>Thu, 07 Jun 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/update-blog-to-2-2/</guid><description>wordpress 早就升级到 2.2 了，一直懒得弄，今天升级了一下。&lt;br />

最近发现有spam了，那个 Did You Pass Math 插件居然没挡住？spam还会计算这个？真晕了。因为这个插件老搞出来很多session文件在/tmp目录，所以刚好换一个用用。&lt;br />

弄了一个 &lt;a href="http://www.paulbutler.org/">JS SpamBlock&lt;/a> ,会在comment下面隐藏一个input段，如果不支持js的浏览器访问，就得在input里面填数字才能发表。支持js的就不需要填了。spam应该都不支持的吧？。。&lt;br />
&lt;p class="poweredbyperformancing">Powered by &lt;a href="http://scribefire.com/">ScribeFire&lt;/a>.&lt;/p></description></item><item><title>google reader 和 zhuaxia</title><link>https://wdicc.com/google-reader-and-zhuaxia/</link><pubDate>Wed, 06 Jun 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/google-reader-and-zhuaxia/</guid><description>最早的时候用的是&lt;a href="http://www.bloglines.com">bloglines&lt;/a> ，结果发现有时候有的看过的feed会又变成没看过的，也不知道是feed的问题，还是bloglines的问题，但是这个问题让人很郁闷。后来 &lt;a href="https://www.google.com/reader/">Google reader&lt;/a> 支持帖标签分类之后，就用 Google reader 了。&lt;br />

Google reader 最近用的有点郁闷，有写feed有时候会有些撞墙的问题，搞的 reader 里面不能点这几个feed，点完之后别的也看不了了，很让人郁闷。然后就想起来了好多人推荐的 &lt;a href="http://www.zhuaxia.com">zhuaxia&lt;/a> 。&lt;br />

zhuaxia用了一段时间，发现他的切换不同的tag速度慢，最郁闷的问题是每次打开首页都会显示上次看的feed，这样没新内容还好，有新内容的时候，就会显示这些内容，这时左边的列表是合起来的，不注意不知道是哪个feed，很郁闷。今天无意中又看到了一个信息，Google reader 支持 https 访问，试了一下果然可以，那可真爽了，就不用担心撞墙了，呵呵。所以，又换回来了。 :)&lt;br />

&lt;p class="poweredbyperformancing">Powered by &lt;a href="http://scribefire.com/">ScribeFire&lt;/a>.&lt;/p></description></item><item><title>装了一个live writer新版，测试看看</title><link>https://wdicc.com/test-live-writer/</link><pubDate>Thu, 31 May 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/test-live-writer/</guid><description>&lt;p>测试下看看呢？&lt;/p> &lt;p>&amp;nbsp;&lt;/p> &lt;p>&lt;/p> &lt;p>&lt;/p> &lt;p>好像很&lt;font color="#ff0000">多功能&lt;/font>不错，呵呵。&lt;/p> &lt;p align="center">&lt;u>&lt;strike>居中？&lt;/strike>&lt;/u>&lt;/p> &lt;ol> &lt;li> &lt;div align="left">&lt;u>&lt;strike>awefsdf&lt;/strike>&lt;/u>&lt;/div> &lt;li> &lt;div align="left">&lt;u>&lt;strike>sdfsdf&lt;/strike>&lt;/u>&lt;/div> &lt;li> &lt;div align="left">&lt;u>&lt;strike>sdfsdfsdf&lt;/strike>&lt;/u>&lt;/div>&lt;/li>&lt;/ol> &lt;p align="left">&amp;nbsp;&lt;/p> &lt;blockquote> &lt;p align="left">新的asdfasdfasdfasdfasdfasdfa&lt;/p> &lt;p align="left">sdfasdf&lt;/p>&lt;/blockquote> &lt;p align="left">下面的&lt;/p> &lt;p align="left">&lt;pre lang="bash">grep -r xxx aaa&lt;/pre>&lt;br /></description></item><item><title>又找到一个wp的coding插件的问题</title><link>https://wdicc.com/bug-of-coding-plugin/</link><pubDate>Fri, 18 May 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/bug-of-coding-plugin/</guid><description>在 geshi/geshi.php 里面，有个函数会将 &amp;,>,&lt;," 这些替换为html字符。而同时呢，wp 的 wp-includes/formatting.php 里面也会将这些字符做处理，这样就混乱了。解决方法也很简单，把coding插件里面的相应函数注释掉就好了（目前发现注释掉&amp;和"就可以）。&lt;br />

&lt;pre class="prettyprint lang-php">
 // init

 $aTransSpecchar = array(
// '&amp;' => '&amp;amp;',
// '"' => '&amp;quot;',
 '&lt;' => '&lt;',
 '>' => '>' 
 ); 

 $aTransSpecchar = array();
.....
}&lt;/pre></description></item><item><title>twitter ? 我知道你在干什么</title><link>https://wdicc.com/twitter-what-are-u-doing/</link><pubDate>Sat, 14 Apr 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/twitter-what-are-u-doing/</guid><description>twitter 已经流行很久了，一直没以为怎么回事。又不能和im结合，我还总去你的网站看啊，没意思。刚又看到有人说这个，去看了一下，发现这个支持rss输出，这下就爽很多了呀，弄到lilina里面不就可以了么？不错不错。。&lt;br />

我的地址是 http://twitter.com/wd ，注册了这个的给一个地址呀，呵呵。&lt;br /></description></item><item><title>发现了一个magpie的bug</title><link>https://wdicc.com/a-bug-of-magpie/</link><pubDate>Fri, 13 Apr 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/a-bug-of-magpie/</guid><description>在 rss_parse.inc 里面，创建xml parser的时候，针对php5，用的是xml_parser_create('')，就那个''，导致了问题的出现。但是问题不是总有的，有的source可以，有的就会卡住。例如下面这个html就会卡住。&lt;br />

&lt;pre class="prettyprint lang-text">&lt;html xmlns="http://www.w3.org/1999/xhtml ">
 &lt;head>&lt;title>Connect Error&lt;/title>&lt;/head>
 &lt;body>
 &lt;h1>Connect Error&lt;/h1>
 &lt;p>Could not connect to MySQL database.&lt;/p></description></item><item><title>找到一个wp coding插件的bug</title><link>https://wdicc.com/a-bug-for-coding-plugin/</link><pubDate>Fri, 13 Apr 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/a-bug-for-coding-plugin/</guid><description>coding插件用的是geshi来加格式的。发现贴了一个html后coding不支持，找了半天bug，总算找到了。&lt;br />

在 $pattern 这个正则里面，(([^&lt;]|&lt;[^\/])*) 匹配的应该是不是&lt;或者&lt; /的字符串，而html代码里面很多都是&lt; /，这样html代码就不会匹配了。修改一下就好了。(([^&lt;]|&lt;[^\/]|&lt;\/[^pP])*)。&lt;br /></description></item><item><title>给apache加了一个compress模块，mod_deflate</title><link>https://wdicc.com/compress-apache/</link><pubDate>Mon, 02 Apr 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/compress-apache/</guid><description>apache 1.3 里面有个压缩模块叫做 mod_gzip ，不支持 2.x。在2.x 里面有一个 &lt;a href="http://httpd.apache.org/docs/2.0/mod/mod_deflate.html">mod_deflate&lt;/a> 模块，也是类似的效果。想使用的话，很简单，编译的时候加上 --enable-deflate 就可以了。之后可以用 apachectl -l 看是不是正常加载了这个模块。&lt;br />

httpd.conf 添加下面的语句&lt;br />
&lt;pre class="prettyprint lang-txt">

对所有指定类似的文件都应用这个模块。添加之后访问看看。

&lt;pre class="prettyprint lang-txt">
203.86.x.x - - [02/Apr/2007:15:24:23 +0800] "GET / HTTP/1.1" 200 &lt;font color="#FF0000">4718&lt;/font> "-" 
"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.3) 
Gecko/20070309 Firefox/2.0.0.3"

203.86.x.x - - [02/Apr/2007:15:46:16 +0800] "GET / HTTP/1.1" 200 &lt;font color="#FF0000">1684&lt;/font> "-" 
"Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.3) 
Gecko/20070309 irefox/2.0.0.3"&lt;/pre>

好像是小了。。。

如果error.log 里面出现了下面的错误
&lt;pre class="prettyprint lang-txt">

 这表示apache的那个模块没有安装正确。</description></item><item><title>测试一下performancing看看</title><link>https://wdicc.com/test-performancing/</link><pubDate>Thu, 08 Mar 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/test-performancing/</guid><description>实在受不了后台的打开速度了，试试看fx的performancing插件，这个在推荐插件列表上面好久了。而且也支持我的wp，发一个帖子看看效果如何。&lt;br />

&lt;pre class="prettyprint lang-bash">
WLS=/usr/local/wls
APACHE=/usr/local/apache/bin/apachectl
URL_STATUS=0
echo -e $"Starting $PROG:"
 cd $WLS
 WEBCHECK_LOGIC_START >/dev/null &amp;
 echo -n "waiting...."&lt;/pre>

再看看&lt;b>粗体&lt;/b>什么&lt;u>的，&lt;/u>好像还行。还能有&lt;font color="#cc0000">颜色&lt;/font>？</description></item><item><title>又折腾了一下blog</title><link>https://wdicc.com/study-blog/</link><pubDate>Wed, 28 Feb 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/study-blog/</guid><description>下载一个全新的wp  2.1.1，然后解压，复制到web目录下面，文件夹改名为wp-new。将旧的wp修改为wp-old，新的wp-new修改为wp，打开浏览器访问admin，会提示升级。升级之后，将wp-old 里面的wp-content目录cp过来覆盖，然后登录后台去一个一个启用插件。&lt;br />

好像现在还没有遇到问题。。。&lt;br /></description></item><item><title>安装了一个 Gregarius</title><link>https://wdicc.com/install-gregarius/</link><pubDate>Tue, 23 Jan 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/install-gregarius/</guid><description>lilina 的速度有点慢，就尝试换一个看看，装好了 Gregarius ，使用了下感觉还行，打开页面的时候比较慢，不知道是卡在哪里。lilina 那个以后不更新了，就使用 &lt;a href="http://rss.wdicc.com">Gregarius&lt;/a> 了。&lt;br />

wordpress 也更新了，到 2.1 了。好像增加了一些新功能，等会升级看看。&lt;br /></description></item><item><title>让wp的tag可以显示彩色效果</title><link>https://wdicc.com/colorful-tag/</link><pubDate>Thu, 04 Jan 2007 00:00:00 +0000</pubDate><guid>https://wdicc.com/colorful-tag/</guid><description>wp的tag列表可以让他用彩色形式显示，不过效果不喜欢。不满意的地方不好形容，用过就知道了。我看了源代码，他是让rgb三色一起递减或者递加的，我喜欢让所有颜色都出现。&lt;br />

最后的效果看我的blog就知道了。 实现的方法是修改 ultimate-tag-warrior-core.php 文件里面的 GetColorForWeight 函数，修改如下。&lt;br />
&lt;pre class="prettyprint lang-php">
global $maxtagcolour, $mintagcolour;
if ($weight) {
$weight = $weight/100;

$new_color_min = hexdec($mintagcolour);
$new_color_max = hexdec($maxtagcolour);
$new_color = dechex(intval(($new_color_max - $new_color_min) * $weight + $new_color_min));
return "#$new_color";
/*                      $minr = hexdec(substr($mintagcolour, 1, 2));
$ming = hexdec(substr($mintagcolour, 3, 2));
$minb = hexdec(substr($mintagcolour, 5, 2));

$maxr = hexdec(substr($maxtagcolour, 1, 2));
$maxg = hexdec(substr($maxtagcolour, 3, 2));
$maxb = hexdec(substr($maxtagcolour, 5, 2));

$r = dechex(intval((($maxr - $minr) * $weight) + $minr));
$g = dechex(intval((($maxg - $ming) * $weight) + $ming));
$b = dechex(intval((($maxb - $minb) * $weight) + $minb));

if (strlen($r) == 1) $r = "0" . $r;
if (strlen($g) == 1) $g = "0" . $g;
if (strlen($b) == 1) $b = "0" . $b;

return "#$r$g$b";
*/
}
}&lt;/pre>
很简单的一个修改，再去后台设置一下tag的颜色渐变的起始值就可以了。</description></item><item><title>lilina里面不能正确生成前一天的cache的问题</title><link>https://wdicc.com/lilina-cache/</link><pubDate>Wed, 06 Dec 2006 00:00:00 +0000</pubDate><guid>https://wdicc.com/lilina-cache/</guid><description>lilina可以生成好几天的cache，可以看到上面有每天的链接可以访问，可是这两天发现，在today里面明明看到前一天晚上23:40多有rss，结果点击到前一天生成的链接却发现，没有？见鬼了。&lt;br />

仔细研究下，似乎是23:00之后的rss都不会做cache，咋回事哩，翻了一下源代码，发现问题所在了。&lt;br />

index.php里面有下面一句：&lt;br />
&lt;pre class="prettyprint lang-php">$saven_file = realpath(".")."/".date('Ymd').".html">
这是设置cache文件的名称和位置的语句，可以看到文件名里面用的是当前的日期。单独这一点不会有问题，问题在于我的cron里面是每隔一个小时的0分钟执行一次，也就是1:00，2:00……23:00，0:00，这样，23:00之后0:00之前的rss就被吞掉了。解决方法就是将cron修改为类似下面的，让他每隔整点的58分执行更新。
&lt;pre class="prettyprint lang-bash"></description></item><item><title>咱也玩玩lilina</title><link>https://wdicc.com/my-lilina/</link><pubDate>Fri, 01 Dec 2006 00:00:00 +0000</pubDate><guid>https://wdicc.com/my-lilina/</guid><description>好像不知道从什么时候开始流行起了lilina，自己捣鼓捣鼓也装了一个，&lt;a href="http://blog.wdicc.com/lilina/index.html">我的lilina&lt;/a>。其实google reader挺好的，不过就是google有时候会被GFW干掉，这样reader也不能访问了。最近这种情况好像还出现很频繁，真是头痛，其实google reader挺好用的，不过现在就试试看lilina了。&lt;br />

今天也看到一些关于干掉GFW的文章&lt;a href="http://yesure.blogspot.com/2006/11/ssh-tunnelfuck-gfw.html">[1]&lt;/a>&lt;a href="http://blog.cathayan.org/item/1508">[2]&lt;/a>，但是需要国外的ssh服务器，偶没有。。不过这个ssh tunnel倒是个不错的东西，比装代理服务器简单，嗯。&lt;br />

用了lilina之后，发现sina的rss好像总是在最前面，而实际上他们更新却是以前的事情了，肯定是他们的rss输出有问题，感觉这样很无耻。&lt;br /></description></item><item><title>给wp的一个关键字插件做了一下修改</title><link>https://wdicc.com/wp-keyword-plugin/</link><pubDate>Thu, 30 Nov 2006 00:00:00 +0000</pubDate><guid>https://wdicc.com/wp-keyword-plugin/</guid><description>参考&lt;a title="访问插件主页" href="http://adsense-wordpress-plugin.ayanev.com/">AdSense Earnings Reports&lt;/a>插件将wp的一个关键字插件&lt;a title="访问插件主页" href="http://blog.tassoman.com/wordpress-plugins/tradedoubler-filter">Trade Doubler Filter&lt;/a>修改了一下，之前只能通过修改源代码来添加关键字，现在可以在后台添加了。&lt;br />

附件是修改之后的文件。&lt;br />

http://blog.wdicc.com/wordpress/wp-content/uploads/2006/11/keyword.jpg&lt;br /></description></item><item><title>给blog的后台发文章添了一点功能</title><link>https://wdicc.com/add-some-feature-to-blog/</link><pubDate>Wed, 22 Nov 2006 00:00:00 +0000</pubDate><guid>https://wdicc.com/add-some-feature-to-blog/</guid><description>给blog加了一个插件 &lt;a href="http://trac.labnotes.org/cgi-bin/trac.cgi/wiki/WPPlugin/AdvancedWysiwyg">Advanced WYSIWYG Editor&lt;/a> ，可以打开wp使用的tinymce编辑器的一些功能。例如他网站上面列出来的那些：&lt;br />
&lt;ul>&lt;br />
	&lt;li>Format selection: paragraph, formatted, headers, etc.&lt;/li>&lt;br />
	&lt;li>Underline.&lt;/li>&lt;br />
	&lt;li>Full justification.&lt;/li>&lt;br />
	&lt;li>Anchor.&lt;/li>&lt;br />
	&lt;li>Horizontal line.&lt;/li>&lt;br />
	&lt;li>Copy, cut, paste.&lt;/li>&lt;br />
	&lt;li>Insert table.&lt;/li>&lt;br />
	&lt;li>Subscript, superscript.&lt;/li>&lt;br />
	&lt;li>Foreground color, background color.&lt;/li>&lt;br />
	&lt;li>Character map.&lt;/li>&lt;br />
	&lt;li>Full screen editing.&lt;/li>&lt;br />
&lt;/ul>&lt;br /></description></item><item><title>申请了google adsense</title><link>https://wdicc.com/google-adsense/</link><pubDate>Mon, 20 Nov 2006 00:00:00 +0000</pubDate><guid>https://wdicc.com/google-adsense/</guid><description>以前好像申请过，不过没有通过。这次试试看又申请了一次，通过了，呵呵。尝试在网页上面添加了一下东东，不知道管用不管用，试试看了。google的那个公益广告其实有点意思，“你知道xxx吗？”我觉得挺吸引人的，我也选择了没关键字的时候显示公益广告了，可是看了半天好像也没显示公益广告。&lt;br />

前几天maillist看到有人说通过adsense一个月可以收入450$，这个吓了一跳，真不少呢。不过我只希望他能给我把域名的钱赚回来就好了，如果还有富余，就去买块国外的空间，呵呵。&lt;br />

adsense让一些小网站有了希望，至少，开一个网站不赔钱，或许应该没问题吧。现在域名加一小块空间，好像也不是很贵，所以指望adsense还是可以的。&lt;br />

adsense同时也鼓励这些小网站能作出内容来，有内容，才会有人来访问，才有可能赚点钱。其实这样挺好的。&lt;br /></description></item><item><title>jfreechart 乱码之解决</title><link>https://wdicc.com/jfreechart-encoding/</link><pubDate>Thu, 12 Oct 2006 00:00:00 +0000</pubDate><guid>https://wdicc.com/jfreechart-encoding/</guid><description>如果想要java程序显示中文，就会用到jre的fonts的设置，这个位于jdk/jre/lib下面，挺多font.properties文件，这些文件就是关键。&lt;br />

jdk会按照如下顺序查找相应的字体设置文件。&lt;br />
1 先看locale，例如如果设置了zh_CN，那么会查找文件名包含zh_CN的文件，如果找不到，就用font.properties文件。&lt;br />
2 然后看系统，如果是Redhat，那么找包含Redhat的，如果找不到就用，font.properties.zh_CN文件。&lt;br />
3 如果上面这些查找过之后没有合适的，那么就使用font.properties文件了。&lt;br />

所以，其实解决方法也比较简单，找一个没乱码的系统，复制相应的font.properties文件就可以了。不过也得仔细查看文件中的设置，>里面提到的字体你的系统里面是不是存在。&lt;br /></description></item><item><title>dns劫持</title><link>https://wdicc.com/hijack-dns/</link><pubDate>Wed, 13 Sep 2006 00:00:00 +0000</pubDate><guid>https://wdicc.com/hijack-dns/</guid><description>这个词不知道熟悉不熟悉。听说过劫机，劫车的，劫持dns有什么用？用处大了，呵呵。之前有浏览器劫持，就是流氓插件将你访问的网址导向他自己的网站，不管你访问什么网址，都给你导过去。很流氓的做法吧，现在有些dns也在做&lt;a href="http://blog.cathayan.org/item/1440">类似的事情&lt;/a>。&lt;br />

我前几天就遇到了类似的问题，不过和这个又不像。工行的网站是 http://www.icbc.com.cn ，而 http://icbc.com.cn 是连接不上的，我输入了后面这个ip，就打开一个什么纠错的网址，然后一不小心多按了一个回车，就提示我安装好了中文上网插件，当时真想骂3721祖宗十八代。用ie也是没办法的事情，工行的网站只能用ie，用firefox访问那个网址的时候就提示访问不了，不会出现转向，所以我这个情况应该是和浏览器有关。&lt;br />

用了 &lt;a href="http://www.opendns.com/what/">opendns&lt;/a> 之后呢，再访问不存在的网址，还是会转，不过会转到一个英文的网站，没有3721了，呵呵。&lt;br /></description></item><item><title>tomcat和apache桥接</title><link>https://wdicc.com/tomcat-apache-bridge/</link><pubDate>Wed, 23 Aug 2006 00:00:00 +0000</pubDate><guid>https://wdicc.com/tomcat-apache-bridge/</guid><description>1 下载，安装tomcat，jdk和mod_jk&lt;br />

下载jdk &lt;a href="http://java.sun.com/javase/downloads/index.jsp">http://java.sun.com/javase/downloads/index.jsp&lt;/a>&lt;br />
tomcat 5.5 需要jre 1.5才可以。下载之后是一个bin文件&lt;br />
&lt;pre class="prettyprint lang-bash">
$chmod +x xx.bin
$./xx.bin&lt;/pre>

他会将jdk解压到当前目录下面，然后作一个链接
&lt;pre class="prettyprint lang-bash">

以后访问jdk文件夹即可，此处我们用JAVA_HOME来表示jdk文件夹的路径。

下载tomcat &lt;a href="http://tomcat.apache.org/download-55.cgi">http://tomcat.apache.org/download-55.cgi&lt;/a>
下载 Core 那个版本就可以，下载之后解压，选择放置地方之后，做一个链接
&lt;pre class="prettyprint lang-bash">

以后访问tomcat文件夹即可，此处我们用TOMCAT_HOME来表示tomcat的安装路径。

下载 mod_jk ，这个是用来完成apache和tomcat桥接的模块，&lt;a href="http://www.apache.org/dist/tomcat/tomcat-connectors/jk/"> http://www.apache.org/dist/tomcat/tomcat-connectors/jk/&lt;/a> 。
可以下载已经编译好的模块，不过要注意要和自己的apache版本对应才行。也可以下载source自己编译，这里我们自己编译。

下载source之后，解压，进入解压后的目录，然后
&lt;pre class="prettyprint lang-bash">
$./configure --with-apxs=/usr/local/apache/bin/apxs #后面是apxs的目录
也可以
$./configure --with-apache=/usr/local/apache #apache的目录
$make
&lt;/pre>&lt;br />
编译完成之后，复制桥接模块到apache的modules目录&lt;br />
&lt;pre class="prettyprint lang-bash">

2 配置

jdk的环境需要配置一个系统变量JAVA_HOME，可以写到/etc/profile中，或者修改tomcat的启动停止脚本来设置java环境也可以（这</description></item></channel></rss>