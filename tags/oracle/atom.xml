<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Oracle on wd and cc</title>
    <link>https://wdicc.com/tags/oracle/atom/index.xml</link>
    <description>Recent content in Oracle on wd and cc</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <atom:link href="https://wdicc.com/tags/oracle/atom/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>又安装了一次 oracle</title>
      <link>https://wdicc.com/oracle-install-guide/</link>
      <pubDate>Fri, 05 Nov 2010 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/oracle-install-guide/</guid>
      <description>好久没有弄 oracle 了，今天有机会又折腾了一天 oracle 的安装，本来觉得是挺简单的事情，没想到也折腾了挺长时间的，我觉得可能主要是因为使用的系统比较新，而 oracle 是 10g 有比较老的缘故。&lt;br /&gt;

1 配置 x11forward&lt;br /&gt;
我这安装了 xauth 和 libXtst，然后使用 ssh -Y user@host 连接的。使用 -X 好像从来没成功过，也不知道怎么回事，懒得研究了。&lt;br /&gt;

2 运行安装程序&lt;br /&gt;
解压什么的就没什么好说的了，主要是运行的时候他会检测是不是他支持的发行版，可以使用 -ignoreSysPrereqs，跳过系统检测。&lt;br /&gt;

然后其他正常，就是到最后运行 dbca 的时候，会 hung 卡在那，等多久都完成不了。这一步做的操作是会给你 create database，建 init 文件等，没这个的话 oracle 是不可用的。如果你知道手动操作这些后续步骤也可以不理会这个。&lt;br /&gt;

dbca 卡住后，可以点那个取消，然后再开一个 term， ps 找到 dbca 然后 kill 掉，前面那个界面应该就会有反应了，就可以继续往下走了。到最后 exit 了事。&lt;br /&gt;

然后就是单独启动 dbca 来完成后面的工作。执行 dbca 命令（需要你提前配置好 path），会启动一个窗口，要注意的是，在这时候能看到一个关于字体的错误，据说这个错误就是上面 huang 住的原因，如果看到了这个错误，那么 dbca 的最后一步可能是会执行不了的。。。&lt;br /&gt;

我尝试了 n 种方法解决这个问题，发现最简单的是装一个 jdk 1.6 然后把 java 命令链接覆盖 oracle 安装的那个 jdk 1.4 的 $ORACLE_HOME/jdk/jre/bin/java 命令。等于就是说使用 1.6 的 java 来启动 dbca。如果这么做还不行，那可能需要装一些字体相关的东西，比如 xorg-x11-fonts-truetype。如果还不行那就不知道怎么弄了。&lt;br /&gt;

dbca 启动后，还遇到了 ora-27102 out of memery 和 ora-01034 oracle not aviliable。后面这个是在遇到前面那个的时候点 ignore 出来的。主要是前面那个。前面那个是因为 kernel 参数关于内存的配置配置的有问题，最大共享内存太大导致的。如果遇到这个问题就去改那些参数吧。&lt;br /&gt;


dbca 配置好后，oracle 应该就启动了。你可以连上去看看了。&lt;br /&gt;

3 导入导出&lt;br /&gt;
导出使用 exp，导入 imp，一般不需要加什么参数。据说加那个 full=y 后，导入的时候会建立用户，不用你操心。&lt;br /&gt;
</description>
    </item>
    
    <item>
      <title>oracle 里面 kill session</title>
      <link>https://wdicc.com/kill-session-in-oracle/</link>
      <pubDate>Tue, 07 Oct 2008 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/kill-session-in-oracle/</guid>
      <description>eygle &lt;a href=&#34;http://www.eygle.com/faq/Kill_Session.htm&#34; target=&#34;_blank&#34;&gt;有篇文章&lt;/a&gt;讲了这个，之前也看过。昨天实际操作了一下。&lt;br /&gt;

因为如 eygle 所讲，kill 了 session 之后，操作系统里面的进程资源有时候不一定会立即释放，所以最好在 kill 之前就找到系统的进程 id，这样，如果不释放的时候，可以直接kill。省的之后找起来麻烦。&lt;br /&gt;

昨天操作的时候有这么几个步骤&lt;br /&gt;
&lt;ol&gt;&lt;br /&gt;
	&lt;li&gt;select * from v$session where username like &#39;UP&#39; --先找到这个用户的 session。&lt;/li&gt;&lt;br /&gt;
	&lt;li&gt;select * from v$sql a, v$session b where b.username = &#39;UP&#39; and a.sql_id = b.sql_id --找出来这个用户这些 session 对应的 sql 语句，好确认 session 的 id。&lt;/li&gt;&lt;br /&gt;
	&lt;li&gt;select * from v$process a, v$session b where a.addr = b.paddr and b.username like &#39;UP&#39; and b.sid = xxx --找出来他的系统进程id，就是那个 spid。&lt;/li&gt;&lt;br /&gt;
	&lt;li&gt;ALTER SYSTEM KILL SESSION &#39;sid, serial#&#39; --可以实施kill了，可能会提示你marked for kill，有必要的话，在os级别kill前面找出来的 spid。&lt;/li&gt;&lt;br /&gt;
&lt;/ol&gt;&lt;br /&gt;
</description>
    </item>
    
    <item>
      <title>ORA-00257 和 ORA-19815</title>
      <link>https://wdicc.com/ora-00257-and-ora-19815/</link>
      <pubDate>Sat, 06 Sep 2008 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/ora-00257-and-ora-19815/</guid>
      <description>这几天遇到了这两个错误，记录一下。&lt;br /&gt;

使用 perl 的 DBI 连接的时候，会提示 ora-00257 错误，这个用 三qlplus 估计也是一样的错误，注意时远程连接才出错。&lt;br /&gt;

&lt;pre class=&#34;prettyprint lang-txt&#34;&gt;
CRITICAL : Can&#39;t connect &#34;db8.sds.cnb.yahoo.com&#34;&lt;/pre&gt;

同时，数据库的alert 里面有下面的信息

&lt;pre class=&#34;prettyprint lang-txt&#34;&gt;
ORA-19815: WARNING: db_recovery_file_dest_size of 268435456000 bytes is 100.00% used, and has 0 remaining bytes available.
************************************************************************
You have following choices to free up space from flash recovery area:
1. Consider changing RMAN RETENTION POLICY. If you are using Data Guard,
   then consider changing RMAN ARCHIVELOG DELETION POLICY.
2. Back up files to tertiary device such as tape using RMAN
   BACKUP RECOVERY AREA command.
3. Add disk space and increase db_recovery_file_dest_size parameter to
   reflect the new space.
4. Delete unnecessary files using RMAN DELETE command. If an operating
   system command was used to delete files, then use RMAN CROSSCHECK and
   DELETE EXPIRED commands.
************************************************************************
ARCH: Archival stopped, error occurred. Will continue retrying
ORACLE Instance nirv3 - Archival Error&lt;/pre&gt;

登陆上数据库看看

&lt;pre class=&#34;prettyprint lang-txt&#34;&gt;

NAME                                 TYPE                   VALUE
------------------------------------ ---------------------- ------------------------------
archive_lag_target                   integer                0
log_archive_config                   string                 dg_config=(stb1)
log_archive_dest                     string
log_archive_dest_1                   string                 location=&#34;USE_DB_RECOVERY_FILE
log_archive_dest_10                  string
log_archive_dest_2                   string
log_archive_dest_3                   string
log_archive_dest_4                   string
log_archive_dest_5                   string
log_archive_dest_6                   string
log_archive_dest_7                   string

NAME                                 TYPE                   VALUE
------------------------------------ ---------------------- ------------------------------
log_archive_dest_8                   string
log_archive_dest_9                   string
log_archive_dest_state_1             string                 ENABLE
log_archive_dest_state_10            string                 enable
log_archive_dest_state_2             string                 ENABLE
log_archive_dest_state_3             string                 enable
log_archive_dest_state_4             string                 enable
log_archive_dest_state_5             string                 enable
log_archive_dest_state_6             string                 enable
log_archive_dest_state_7             string                 enable
log_archive_dest_state_8             string                 enable

NAME                                 TYPE                   VALUE
------------------------------------ ---------------------- ------------------------------
log_archive_dest_state_9             string                 enable
log_archive_duplex_dest              string
log_archive_format                   string                 %s_%t_%r_%a.arc
log_archive_local_first              boolean                TRUE
log_archive_max_processes            integer                4
log_archive_min_succeed_dest         integer                1
log_archive_start                    boolean                FALSE
log_archive_trace                    integer                0
standby_archive_dest                 string                 ?/dbs/arch

SQL&amp;gt; select * from v$log;

    GROUP#    THREAD#  SEQUENCE#      BYTES    MEMBERS ARCHIV STATUS                           FIRST_CHANGE# FIRST_TIME
---------- ---------- ---------- ---------- ---------- ------ -------------------------------- ------------- ------------
         1          1     221250   52428800          1 YES    INACTIVE                            5082709437 05-SEP-08
         2          1     221252   52428800          1 NO     INACTIVE                            5082713458 05-SEP-08
         3          2     270972   52428800          1 YES    INACTIVE                            5082699510 05-SEP-08
         4          2     270975   52428800          1 NO     CURRENT                             5082713581 05-SEP-08
         9          1     221251   52428800          1 NO     INACTIVE                            5082712943 05-SEP-08
        10          2     270973   52428800          1 YES    INACTIVE                            5082705151 05-SEP-08
        11          1     221253   52428800          1 NO     CURRENT                             5082713765 05-SEP-08
        12          2     270974   52428800          1 NO     INACTIVE                            5082711887 05-SEP-08
        13          3     275581   52428800          1 NO     INACTIVE                            5082712519 05-SEP-08
        14          3     275582   52428800          1 NO     CURRENT                             5082713078 05-SEP-08
        15          3     275579   52428800          1 NO     INACTIVE                            5082710114 05-SEP-08

    GROUP#    THREAD#  SEQUENCE#      BYTES    MEMBERS ARCHIV STATUS                           FIRST_CHANGE# FIRST_TIME
---------- ---------- ---------- ---------- ---------- ------ -------------------------------- ------------- ------------
        16          3     275580   52428800          1 NO     INACTIVE                            5082711321 05-SEP-08

12 rows selected.

SQL&amp;gt; ????select value from v$diag_info where name =&#39;Diag Trace&#39;;

VALUE
------------------------------------------------------------------------------------------------------------------------------------------------------
/home/oracle/app/diag/rdbms/nirv/nirv3/trace

SQL&amp;gt; select * from V$FLASH_RECOVERY_AREA_USAGE;

FILE_TYPE                                PERCENT_SPACE_USED PERCENT_SPACE_RECLAIMABLE NUMBER_OF_FILES
---------------------------------------- ------------------ ------------------------- ---------------
CONTROL FILE                                              0                         0               0
REDO LOG                                                  0                         0               0
ARCHIVED LOG                                            100                         0           13109
BACKUP PIECE                                              0                         0               0
IMAGE COPY                                                0                         0               0
FLASHBACK LOG                                             0                         0               0
FOREIGN ARCHIVED LOG                                      0                         0               0

7 rows selected.

SQL&amp;gt; show parameter db_recovery_file_dest_size

NAME                                 TYPE                   VALUE
------------------------------------ ---------------------- ------------------------------
db_recovery_file_dest_size           big integer            250G
SQL&amp;gt; show parameter DB_RECOVERY_FILE_DEST

NAME                                 TYPE                   VALUE
------------------------------------ ---------------------- ------------------------------
db_recovery_file_dest                string                 /sds/oradata
db_recovery_file_dest_size           big integer            250G
SQL&amp;gt; alter system set db_recovery_file_dest_size=300G;  

System altered.

SQL&amp;gt; show parameter DB_RECOVERY_FILE_DEST

NAME                                 TYPE                   VALUE
------------------------------------ ---------------------- ------------------------------
db_recovery_file_dest                string                 /sds/oradata
db_recovery_file_dest_size           big integer            300G
SQL&amp;gt; select * from V$FLASH_RECOVERY_AREA_USAGE;

FILE_TYPE                                PERCENT_SPACE_USED PERCENT_SPACE_RECLAIMABLE NUMBER_OF_FILES
---------------------------------------- ------------------ ------------------------- ---------------
CONTROL FILE                                              0                         0               0
REDO LOG                                                  0                         0               0
ARCHIVED LOG                                          83.41                         0           13115
BACKUP PIECE                                              0                         0               0
IMAGE COPY                                                0                         0               0
FLASHBACK LOG                                             0                         0               0
FOREIGN ARCHIVED LOG                                      0                         0               0

7 rows selected.&lt;/pre&gt;

可以看到空间是 83% 了，数据库应该就好了。不过这个是治标不治本的操作，需要把archive log删掉才行，具体怎么搞我也不会。。。汗。。
</description>
    </item>
    
    <item>
      <title>oracle 的 job 又遇到问题了</title>
      <link>https://wdicc.com/oracle-jobs/</link>
      <pubDate>Fri, 29 Jun 2007 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/oracle-jobs/</guid>
      <description>&lt;p&gt;还是高级复制的问题，这次可能是因为job执行过程中，对方机器刚好重启导致的。反正job是卡在那里了，都10多天了。&lt;/p&gt; &lt;p&gt;查看 dba_jobs_running 表，可以看到卡住的job的 job_id 和 sid 。查看 dba_jobs 表，可以看到相应 job 的信息，this_date 如果有数据的话，表示的是 job 开始执行的时间，next_date 是下次执行 job 的时间，如果 job 正常执行完毕，那么 this_date 应该是空的。根据 sid 还可以查看 v$session_wait 和 v$session 里面的这个 job 的一些状态。&lt;/p&gt; &lt;p&gt;尝试了下面的方法来重新运行job，当时好像不好用，不过今天来看的时候，job是执行了。现在也不清楚是不是我这个操作起作用了，真晕。&lt;/p&gt; &lt;p&gt;&lt;pre lang=&#34;txt&#34;&gt;SQL&amp;gt; exec dbms_job.broken(109,true);&lt;br /&gt;

PL/SQL procedure successfully completed.&lt;br /&gt;

SQL&amp;gt; commit;&lt;br /&gt;

Commit complete.&lt;br /&gt;

SQL&amp;gt; select job,sid from dba_jobs_running;&lt;br /&gt;

       JOB        SID&lt;br /&gt;
---------- ----------&lt;br /&gt;
       109        656&lt;br /&gt;

SQL&amp;gt; select saddr,sid,serial#,paddr,username,status from v$session where username = &#39;REPADMIN&#39;;&lt;br /&gt;

SADDR           SID    SERIAL# PADDR    USERNAME                       STATUS&lt;br /&gt;
-------- ---------- ---------- -------- ------------------------------ --------&lt;br /&gt;
973CF8C4        626         27 98F96BB8 REPADMIN                       ACTIVE&lt;br /&gt;
973D2E7C        629         10 98F88670 REPADMIN                       ACTIVE&lt;br /&gt;
973F11F4        656         10 98F88174 REPADMIN                       ACTIVE&lt;br /&gt;

SQL&amp;gt; alter system kill session &#39;656,10&#39;;&lt;br /&gt;

System altered.&lt;br /&gt;

SQL&amp;gt; select saddr,sid,serial#,paddr,username,status from v$session where username = &#39;REPADMIN&#39;;&lt;br /&gt;

no rows selected&lt;br /&gt;

SQL&amp;gt; select job,sid from dba_jobs_running;&lt;br /&gt;

no rows selected&lt;br /&gt;

SQL&amp;gt; select job,log_user,last_date,next_date from dba_jobs where log_user=&#39;REPADMIN&#39;;&lt;br /&gt;

       JOB LOG_USER                       LAST_DATE&lt;br /&gt;
---------- ------------------------------ -------------------&lt;br /&gt;
NEXT_DATE&lt;br /&gt;
-------------------&lt;br /&gt;
       106 REPADMIN                       2007-06-28 16:25:43&lt;br /&gt;
2007-06-28 16:35:43&lt;br /&gt;

       109 REPADMIN                       2007-06-28 16:07:38&lt;br /&gt;
4000-01-01 00:00:00&lt;br /&gt;

       110 REPADMIN                       2007-06-28 16:25:43&lt;br /&gt;
2007-06-28 16:35:43&lt;br /&gt;


SQL&amp;gt; exec dbms_job.broken(109,false,sysdate);&lt;br /&gt;

PL/SQL procedure successfully completed.&lt;br /&gt;

SQL&amp;gt; commit;&lt;br /&gt;

Commit complete.&lt;br /&gt;

SQL&amp;gt; select job,log_user,last_date,next_date from dba_jobs where log_user=&#39;REPADMIN&#39;;&lt;br /&gt;

       JOB LOG_USER                       LAST_DATE&lt;br /&gt;
---------- ------------------------------ -------------------&lt;br /&gt;
NEXT_DATE&lt;br /&gt;
-------------------&lt;br /&gt;
       106 REPADMIN                       2007-06-28 16:25:43&lt;br /&gt;
2007-06-28 16:35:43&lt;br /&gt;

       109 REPADMIN                       2007-06-28 16:07:38&lt;br /&gt;
2007-06-28 16:28:40&lt;br /&gt;

       110 REPADMIN                       2007-06-28 16:25:43&lt;br /&gt;
2007-06-28 16:35:43&lt;br /&gt;
&lt;/pre&gt;&lt;br /&gt;
&lt;p&gt;此后就我所知道的，就只能等着了。dbms_job.run(job_id) 也可以让 job 立即执行。关键是看 this_date ，他的值就是开始执行 job 的时间，job 如果执行时间太长，而下次执行又太快的话，可能也会导致问题。所以还可以尝试手动执行 job 看看。 dba_jobs 的 waht 字段就是对于的语句。&lt;/p&gt;&lt;br /&gt;
</description>
    </item>
    
    <item>
      <title>为resin配置oracle连接池</title>
      <link>https://wdicc.com/resin-and-oracle/</link>
      <pubDate>Wed, 27 Jun 2007 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/resin-and-oracle/</guid>
      <description>&lt;p&gt;resin 2.x 的配置方法和 3.x 的方法有区别。按照&lt;a href=&#34;http://www.caucho.com/resin-3.1/doc/db-thirdparty.xtp&#34;&gt;官方文档&lt;/a&gt;，做下面的配置。&lt;/p&gt; &lt;p&gt;&lt;pre lang=&#34;txt&#34;&gt;&lt;database&gt;&lt;br /&gt;
  &lt;jndi-name&gt;oraPool&lt;/jndi-name&gt;&lt;br /&gt;
  &lt;driver&gt;&lt;br /&gt;
    &lt;type&gt;oracle.jdbc.pool.OracleConnectionPoolDataSource&lt;/type&gt;&lt;br /&gt;
    &lt;url&gt;jdbc:oracle:thin:@localhost:1521:dbname&lt;/url&gt;&lt;br /&gt;
    &lt;user&gt;username&lt;/user&gt;&lt;br /&gt;
    &lt;password&gt;password&lt;/password&gt;&lt;br /&gt;
  &lt;/driver&gt;&lt;br /&gt;
#....&lt;br /&gt;
&lt;/database&gt;&lt;/pre&gt;&lt;br /&gt;
&lt;p&gt;&amp;nbsp;在上面的 &lt;font color=&#34;#ff0000&#34;&gt;.... &lt;/font&gt;这里还可以添加&lt;a href=&#34;http://www.caucho.com/resin-3.1/doc/database-tags.xtp&#34;&gt;其他的&lt;/a&gt;配置信息。配置好之后启动resin，会发现提示类似下面的信息。&lt;/p&gt;&lt;br /&gt;
&lt;p&gt;&lt;pre lang=&#34;txt&#34;&gt;conf/resin.conf:218: java.lang.ClassNotFoundException: oracle.jdbc.pool.OracleConnectionPoolDataSource&lt;/pre&gt;&lt;br /&gt;
&lt;p&gt;提示没有找到连接oracle数据库的jdbc驱动。这个驱动在oracle的安装目录里面有。比如我这里是在 /db/oracle/10.1.0/product/10g/jdbc/lib/ 。里面好多文件，具体都什么作用可以看&lt;a href=&#34;http://www.oracle.com/technology/tech/java/sqlj_jdbc/htdocs/jdbc_faq.htm#02_07&#34;&gt;这里&lt;/a&gt;。&lt;/p&gt;&lt;br /&gt;
&lt;p&gt;复制这个目录里面的 classes12.jar 和 nls_charset12.jar 到resin的 lib 目录下面，重新启动 resin 就可以了。本文完成过程中参考了&lt;a href=&#34;http://dev.csdn.net/article/29/29762.shtm&#34;&gt;这篇&lt;/a&gt;文章。如何使用这个pool，官方文档也有&lt;a href=&#34;http://www.caucho.com/resin-3.1/doc/config-database.xtp#usage/lookup&#34;&gt;说明&lt;/a&gt;。&lt;/p&gt;&lt;br /&gt;
</description>
    </item>
    
    <item>
      <title>oracle 的高级复制出了点问题，记录下解决办法</title>
      <link>https://wdicc.com/rep-of-oracle/</link>
      <pubDate>Fri, 18 May 2007 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/rep-of-oracle/</guid>
      <description>早上来了同事就来找我，有两台同步的服务器数据库没有同步成功，查查咋回事。&lt;br /&gt;

一台A，从B处同步。蒙了一下，果然有个dba_jobs表，呵呵。&lt;br /&gt;

&lt;pre class=&#34;prettyprint lang-sql&#34;&gt;

在A处执行上面的命令，好像repadmin的job都在正常执行。
在B处执行上面的命令，能查到类似下面的信息

&lt;pre class=&#34;prettyprint lang-text&#34;&gt;
---------- ------------------------------ -------------------
NEXT_DATE             FAILURES B
------------------- ---------- -
47 repadmin                           2006-05-16 19:37:29
4001-01-01 00:00:00         16 Y&lt;/pre&gt;

显然是job挂了。查看了一下挂的时间，原来是联通机房机柜断电那天，A机器在联通机房，那天断电了6个小时。B机器上面的同步尝试了16次之后就挂起了。解决方法也不难，用repadmin用户登录，然后执行下面的语句，&lt;strong&gt;谁的job只能由谁来执行&lt;/strong&gt;：

&lt;pre class=&#34;prettyprint lang-sql&#34;&gt;

47是job id，sysdate表示当前时间。等会再看吧，执行成功之后会把 failures 重新计数，B变成N。
</description>
    </item>
    
    <item>
      <title>oracle 文本界面的安装</title>
      <link>https://wdicc.com/oracle-text-install/</link>
      <pubDate>Wed, 14 Mar 2007 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/oracle-text-install/</guid>
      <description>oracle 的手册里面讲的通常都是图形界面下面的安装，就是用oracle登录桌面，然后运行安装程序的方法。可实际上维护服务器的时候，大多用的还是&lt;font color=&#34;#3333ff&#34;&gt;远程&lt;/font&gt;文本界面。这样很有必要看看如何通过文本界面来安装oracle。&lt;br /&gt;

oracle本身的安装程序也提供了这个方法，就是使用 responseFile 。这个 responseFile 其实就是在图形界面安装的时候的一些选择，保存到文件之后，直接告诉安装程序从这里读取设置就好了。将oracle的安装文件 ship.db.lnx32.cpio.gz 解压：&lt;br /&gt;

&lt;pre class=&#34;prettyprint lang-bash&#34;&gt;
cpio -idmv &lt; ship.db.cpio&lt;/pre&gt;

这样可以看到有个Disk1的文件夹，里面有个response目录，里面好多response文件，不过我还不知道这些有什么区别，里面设置项也很多，还没弄明白。我使用的不是这里的response文件。是通过下面的方法获取的rsp文件。

可以通过在记录模式中运行软件或通过手动编辑示例响应文件来创建响应文件。以下是一个基本演示：

   1. 用此命令启动 OUI 来创建响应文件：

      ./runInstaller -record -destinationFile /tmp/recorded.rsp
       
   2. 选择您需要的所有部分（源目标目录、主目录、主目录名、产品）。
   3. 当您看到 Summary 屏幕时，不要单击 Install，而是单击 Cancel。
   4. 仔细查看在 tmp/recorded.rsp 中创建的结果响应文件。如果需要，可以手动编辑该文件，只要您遵守使用规定的格式即可（请参见文档）。
   5. 现在如下执行静默安装：

      ./runInstaller -silent -responseFile /tmp/recorded.rsp

      在运行脚本时将会报告安装的进度。

如果您由于响应文件中的条目不正确而遇到安装故障，安装将失败并显示一条诊断消息。详细信息可在 oraInventory/logs 目录中找到。在每次使用响应文件运行 OUI 时，会创建具有 installActions-&lt;时间戳&gt;.log 和 silentInstall&lt;时间戳&gt;.log 格式名称的日志。

这样，只需要找台机器在图形界面下面运行一下安装程序，生成一个rsp文件，然后放到真正需要安装的服务器上面，修改一下安装路径，设置一下sys密码，就可以开始安装了。
</description>
    </item>
    
    <item>
      <title>oracle在rh里面的安装流程</title>
      <link>https://wdicc.com/install-oracle-in-rh/</link>
      <pubDate>Wed, 14 Mar 2007 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/install-oracle-in-rh/</guid>
      <description>&lt;b&gt;第1部分 安装操作系统&lt;/b&gt;&lt;br /&gt;

首先需要安装系统....Red Hat Enterprise Linux 2.1，Red Hat Enterprise Linux 3，Novell SUSE Linux Enterprise Server 8 是通过 oracle 10g认证的三个linux发行套件，不知道oracle 10.3有没有对这个修改。默认情况下，oracle 10g只能在rh的这两个版本安装，如果不是上面两个，运行安装程序会直接打印错误。不过也有方法在别的版本安装的，后面有说明。&lt;br /&gt;

按照&lt;a href=&#34;http://blog.wdicc.com/wordpress/2007/03/14/307/&#34;&gt;上一篇文章&lt;/a&gt;，安装linux的时候可以不选择图形界面，这样还可以节省不少空间。按照oracle的文档，说需要安装下面的这些软件包。&lt;br /&gt;

&lt;pre class=&#34;prettyprint lang-bash&#34;&gt;
compat-gcc-c++ compat-libstdc++ compat-libstdc++-devel&lt;/pre&gt;

我实际安装过程中，compat-gcc compat-gcc-c++ compat-libstdc++ compat-libstdc++-devel 这几个包我没有安装也可以安装oracle。
&lt;!--more--&gt;
&lt;b&gt;第2部分 针对oracle配置linux&lt;/b&gt;

oracle 对系统硬件配置的一些要求。

&lt;blockquote&gt;内存 &gt; 512MB
swap &gt; 1GB
oracle软件 &gt; 2.5GB
数据文件  &gt; 1.2GB
/tmp  &gt; 400MB&lt;/blockquote&gt;

创建oracle用户和组
&lt;pre class=&#34;prettyprint lang-bash&#34;&gt;
/usr/sbin/groupadd dba
/usr/sbin/useradd -m -g oinstall -G dba oracle
id oracle&lt;/pre&gt;

要记得为oracle用户设置密码。 
&lt;pre class=&#34;prettyprint lang-bash&#34;&gt;

创建oracle的安装目录，要注意前面对分区的大小要求。

&lt;pre class=&#34;prettyprint lang-bash&#34;&gt;
mkdir -p /u02/oradata
chown -R oracle:oinstall /u01/app/oracle /u02/oradata
chmod -R 775 /u01/app/oracle /u02/oradata&lt;/pre&gt;

配置linux内核参数

&lt;pre class=&#34;prettyprint lang-bash&#34;&gt;
kernel.shmall = 2097152
kernel.shmmax = 2147483648
kernel.shmmni = 4096
kernel.sem = 250 32000 100 128
fs.file-max = 65536
net.ipv4.ip_local_port_range = 1024 65000
EOF
/sbin/sysctl -p&lt;/pre&gt;

为 oracle 用户设置 Shell 限制。
&lt;pre class=&#34;prettyprint lang-bash&#34;&gt;
oracle               soft    nproc   2047
oracle               hard    nproc   16384
oracle               soft    nofile  1024
oracle               hard    nofile  65536
EOF

cat &gt;&gt; /etc/pam.d/login &lt;&lt;EOF
session    required     /lib/security/pam_limits.so
EOF

cat &gt;&gt; /etc/profile &lt;&lt;EOF
if [ \$USER = &#34;oracle&#34; ]; then  
if [ \$SHELL = &#34;/bin/ksh&#34; ]; then
ulimit -p 16384
ulimit -n 65536
else
ulimit -u 16384 -n 65536
fi
umask 022
fi
EOF

cat &gt;&gt; /etc/csh.login &lt;&lt;EOF
if ( \$USER == &#34;oracle&#34; ) then
limit maxproc 16384
limit descriptors 65536
umask 022
endif
EOF&lt;/pre&gt;

设置oracle 用户的环境变量。通过修改 .bash_profile 来完成。
&lt;pre class=&#34;prettyprint lang-bash&#34;&gt;
ORACLE_BASE=/u01/app/oracle; export ORACLE_BASE
ORACLE_SID=demo1; export ORACLE_SID&lt;/pre&gt;

其他的变量等安装完了再设置。

&lt;b&gt;第3部分 安装 Oracle&lt;/b&gt;

使用一个修改好的rsp文件，然后执行下面的命令。
&lt;pre class=&#34;prettyprint lang-bash&#34;&gt;

然后就等着吧，看那些log或者看屏幕输出都可以看到安装进度。

第4部分 可能会遇到的问题

下面这些是从网上找到的，我用到的就是第1和9条，还没有遇到其他问题。

1、运行runInstaller，错误提示如下：
Checking requirements...
Checking operating system version: must be redhat-2.1,redhat-3,SuSE-9,SuSE-8,UnitedLinux-1.0
Failed&lt;&lt;&lt;&lt;
解决方法：
方法一：
在/etc下创建UnitedLinux-release文件
#cat &gt; /etc/UnitedLinux-release &lt;&lt; EOF
&gt;UnitedLinux 1.0 (i586)
&gt;VERSION=1.0
&gt;EOF
然后就可以正常启动安装程序。注意不要使用vi编辑该文件，否则可能会引起ORA-12547: TNS: lost contact的错误。

方法二：
运行runInstaller -ignoreSysPrereqs，这样会跳过检查

方法三：
修改Oracle 的/.../disk1/install/linux/oraparam.ini这个参数文件

2、安装界面或者netca界面、dbca界面显示很多&#34;口口&#34;样子的乱码

解决办法:查看locale输出
# locale
LANG=zh_CN.GB18030
LC_CTYPE=zh_CN.GB18030
LC_NUMERIC=&#34;zh_CN.GB18030&#34;
LC_TIME=&#34;zh_CN.GB18030&#34;
LC_COLLATE=&#34;zh_CN.GB18030&#34;
LC_MONETARY=&#34;zh_CN.GB18030&#34;
LC_MESSAGES=&#34;zh_CN.GB18030&#34;
LC_PAPER=&#34;zh_CN.GB18030&#34;
LC_NAME=&#34;zh_CN.GB18030&#34;
LC_ADDRESS=&#34;zh_CN.GB18030&#34;
LC_TELEPHONE=&#34;zh_CN.GB18030&#34;
LC_MEASUREMENT=&#34;zh_CN.GB18030&#34;
LC_IDENTIFICATION=&#34;zh_CN.GB18030&#34;
LC_ALL=
执行#export LANG=en_US 然后重新调用安装程序.


3、Oracle10g自动检查操作系统是否符合安装的条件。当按照上面的脚本对系统进行配置后，会有警告提示。[Retry]会看到如下提示：

Checking for openmotif-2.1.30-11; found Not found. Failed &lt;&lt;&lt;&lt;
Check complete. The overall result of this check is: Failed &lt;&lt;&lt;&lt;
Problem: Some recommended packages are missing (see above)

下载并安装openmotif-2.1.30-11软件包后，通过验证。

备注：有oracle文档说明：对于在RHELAS3上安装oracle10g，需要openmotif-2.2.2-16或更高版本；
但下载openmotif-2.2.2-16.src.rpm，在机器上编译安装，oracle自动检查仍然有警告提示。


4、安装程序在进行到74%的时，按照提示用root身份运行$ORACLE_HOME/root.sh，出现以下错误：

./root.sh: line 227: /var/opt/oracle/srvConfig.loc: 没有那个文件或目录
./root.sh: line 228: /var/opt/oracle/srvConfig.loc: 没有那个文件或目录
/bin/chown: 无法取得 ‘/var/opt/oracle/srvConfig.loc’的属性：没有那个文件或目录
/bin/chgrp: 无法取得 ‘/var/opt/oracle/srvConfig.loc’的属性：没有那个文件或目录
/bin/chmod: 无法取得 ‘/var/opt/oracle/srvConfig.loc’的属性：没有那个文件或目录
Successfully accumulated necessary OCR keys.
Creating OCR keys for user &#39;root&#39;, privgrp &#39;root&#39;..
OCR create keys failed, OCR error 26
Failed to initialize Oracle Cluster Registry for cluster

解决方法：
# mkdir /var/opt/oracle
# chown -R oracle.dba /var/opt/oracle
# ./root.sh

5、 数据库启动：
$sqlplus /nolog
SQL&gt;connect / as sysdba
SQL&gt;startup

ORA-00371: not enougsh shared pool memory, should be atleast 52132659 bytes.

解决方法：
这个错误并非是内核参数设置的问题，也和系统的物理内存大小无关。编辑$ORACLE_HOME/dbs/init$GID.ora文件：
shared_pool_size = 52132659


6、 数据库启动：
$sqlplus /nolog
SQL&gt;connect / as sysdba
SQL&gt;startup

ora-01102: cannot mount database in EXCLUSIVE mode

解决方法：
完全关闭数据库,更改$ORACLE_HOME/dbs/init.ora文件里的db_name为建库时定义的“全局数据库名”，然后再重新启动数据库

7、 数据库启动：
$sqlplus /nolog
SQL&gt;connect / as sysdba
SQL&gt;startup

ora-00205:error in identifying conrolfile, check alert log for more info

解决方法：
SQL&gt;show parameter control_files
SQL&gt;CREATE CONTROLFILE
将$ORACLE_BASE/admin/$GID/pfile/init$SID.ora***************拷贝到$ORACLE_HOME/dbs下，命名为init$SID.ora,即可解决。

8、数据库启动：
$sqlplus /nolog
SQL&gt;connect / as sysdba
SQL&gt;startup

ORA-01990:error opening password file &#39;$ORACLE_NAME/dbs/orapw&#39;
ORA-27037:unable to obtain file status
Linux Error:2: No such file or directory
Additional information: 3

解决方法：
将$ORACLE_HOME/dbs下的orapw$db_name文件拷贝生成一个orapw文件。


8、建库的过程中或者连接数据库的时候提示：
ORA-12547: TNS: lost contact
引起该错误的环境比较复杂，原因可能是：
1、用vi编辑的/etc/UnitedLinux-release文件
2、内核参数设置不正确
3、察看一下listener是否正常启动: lsnrct1 status
4、机器负载过大

9、 emca 的web界面的乱码

http://www.eygle.com/archives/2006/03/oracle10g_em_font_change.html

一直没怎么用10g的EM工具,今天打开来看看,发现也有相传已久的乱码问题.网上也流传着N种解决方案,仔细看一下,其实这个问题很好解决.

如果安装时,我们系统环境变量设置的是中文环境,那么就不会有这个问题.这个问题根本原因在于安装时,JDK/JRE字符集的自动选择.

在 $ORACLE_HOME/jdk/jre/lib 和 $ORACLE_HOME/jre/1.4.2/lib/ 目录下都有多种字符集字体配置文件:

[oracle@danaly ~]$ cd $ORACLE_HOME/jdk/jre/lib
[oracle@danaly lib]$ ls font*zh_CN*
font.properties.zh_CN.Redhat  font.properties.zh_CN.Redhat2.1  
font.properties.zh_CN.Sun  font.properties.zh_CN_UTF8.Sun

[oracle@danaly lib]$ cd $ORACLE_HOME/jre/1.4.2/lib/
[oracle@danaly lib]$ ls font*zh_CN*
font.properties.zh_CN.Redhat  font.properties.zh_CN.Redhat2.1  
font.properties.zh_CN.Sun  font.properties.zh_CN_UTF8.Sun 

我们只要用合适的中文字符集文件替换缺省文件即可,我选择使用font.properties.zh_CN.Redhat来替换缺省字体定义文件:

[oracle@danaly lib]$ cp font.properties.zh_CN.Redhat font.properties 

替换之后需要清理一下Cache,重启EM即可.

Cache路径通常位于:

$ORACLE_HOME/oc4j/j2ee/oc4j_applications/applications/em/em/cabo/images/cache/zhs 

清除所有gif文件即可.然后重新启动EM:

[oracle@danaly zhs]$ emctl stop dbconsole
TZ set to PRC
Oracle Enterprise Manager 10g Database Control Release 10.2.0.1.0  
Copyright (c) 1996, 2005 Oracle Corporation.  All rights reserved.
http://danaly.hurrray.com.cn:1158/em/console/aboutApplication
Stopping Oracle Enterprise Manager 10g Database Control ... 
 ...  Stopped. 
[oracle@danaly zhs]$ emctl start dbconsole
TZ set to PRC
Oracle Enterprise Manager 10g Database Control Release 10.2.0.1.0  
Copyright (c) 1996, 2005 Oracle Corporation.  All rights reserved.
http://danaly.hurrray.com.cn:1158/em/console/aboutApplication
Starting Oracle Enterprise Manager 10g Database Control .............. started. 
------------------------------------------------------------------
Logs are generated in directory 
/opt/oracle/product/10.2.0/danaly.hurrray.com.cn_danaly/sysman/log  

现在登陆Web页面,EM显示就可以正常显示中文了.

参考文章： &lt;a href=&#34;http://www.oracle.com/technology/global/cn/pub/articles/smiley_10gdb_install.html&#34;&gt;这里&lt;/a&gt;
</description>
    </item>
    
    <item>
      <title>昨天操作了好多次oracle的备份和恢复</title>
      <link>https://wdicc.com/oracle-backup-and-recover/</link>
      <pubDate>Thu, 09 Nov 2006 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/oracle-backup-and-recover/</guid>
      <description>oracle的数据库文件一旦建立就会一直占用磁盘空间，表空间用尽的时候，就需要为表空间添加数据文件。可是，从表里面删除数据的时候，表空间却不会释放，所以磁盘空间占用只会越来越大。前段时间一个数据库的表空间不足了，放数据的分区也磁盘空间不足了，必须得想办法释放一下空间才行，操作说起来其实也简单，就是倒腾。&lt;br /&gt;

操作值钱咱先给现在的表空间做一个备份。然后新建一个用户，给这个用户建立表空间，按照备份的大小添加数据文件。然后将备份导入新的表空间，切换应用使用的用户。删除之前用户的表空间，删除数据文件。然后给他重新建立表空间数据文件，切换回来。然后将新的用户里面的数据导出，导入到旧的用户下面。这样就操作完了。&lt;br /&gt;

导出导入的时候可以按照exp和imp帮助里面的那个例子，row=n表示不倒数据，只导结构。这样导出似乎也会有些问题，什么seq不会倒出来，需要重新弄，不太明白这个。&lt;br /&gt;
</description>
    </item>
    
    <item>
      <title>Oracle10g EM乱码之快速解决</title>
      <link>https://wdicc.com/oracle-em-encoding/</link>
      <pubDate>Sat, 05 Aug 2006 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/oracle-em-encoding/</guid>
      <description>来源 &lt;a target=&#34;_blank&#34; href=&#34;http://www.eygle.com/archives/2006/03/oracle10g_em_font_change.html&#34;&gt;这里&lt;/a&gt;&lt;br /&gt;

一直没怎么用10g的EM工具,今天打开来看看,发现也有相传已久的乱码问题.网上也流传着N种解决方案,仔细看一下,其实这个问题很好解决.&lt;br /&gt;

如果安装时,我们系统环境变量设置的是中文环境,那么就不会有这个问题.这个问题根本原因在于安装时,JDK/JRE字符集的自动选择.&lt;br /&gt;

在 $ORACLE_HOME/jdk/jre/lib 和 $ORACLE_HOME/jre/1.4.2/lib/ 目录下都有多种字符集字体配置文件:&lt;br /&gt;
&lt;!--more--&gt;&lt;br /&gt;
[oracle@danaly ~]$ cd $ORACLE_HOME/jdk/jre/lib&lt;br /&gt;
[oracle@danaly lib]$ ls font*zh_CN*&lt;br /&gt;
font.properties.zh_CN.Redhat  font.properties.zh_CN.Redhat2.1&lt;br /&gt;
font.properties.zh_CN.Sun  font.properties.zh_CN_UTF8.Sun&lt;br /&gt;

[oracle@danaly lib]$ cd $ORACLE_HOME/jre/1.4.2/lib/&lt;br /&gt;
[oracle@danaly lib]$ ls font*zh_CN*&lt;br /&gt;
font.properties.zh_CN.Redhat  font.properties.zh_CN.Redhat2.1&lt;br /&gt;
font.properties.zh_CN.Sun  font.properties.zh_CN_UTF8.Sun&lt;br /&gt;

我们只要用合适的中文字符集文件替换缺省文件即可,我选择使用font.properties.zh_CN.Redhat来替换缺省字体定义文件:&lt;br /&gt;

[oracle@danaly lib]$ cp font.properties.zh_CN.Redhat font.properties&lt;br /&gt;

替换之后需要清理一下Cache,重启EM即可.&lt;br /&gt;

Cache路径通常位于:&lt;br /&gt;

$ORACLE_HOME/oc4j/j2ee/oc4j_applications/applications/em/em/cabo/images/cache/zhs&lt;br /&gt;

清除所有gif文件即可.然后重新启动EM:&lt;br /&gt;

[oracle@danaly zhs]$ emctl stop dbconsole&lt;br /&gt;
TZ set to PRC&lt;br /&gt;
Oracle Enterprise Manager 10g Database Control Release 10.2.0.1.0&lt;br /&gt;
Copyright (c) 1996, 2005 Oracle Corporation.  All rights reserved.&lt;br /&gt;
http://danaly.hurrray.com.cn:1158/em/console/aboutApplication&lt;br /&gt;
Stopping Oracle Enterprise Manager 10g Database Control ...&lt;br /&gt;
...  Stopped.&lt;br /&gt;
[oracle@danaly zhs]$ emctl start dbconsole&lt;br /&gt;
TZ set to PRC&lt;br /&gt;
Oracle Enterprise Manager 10g Database Control Release 10.2.0.1.0&lt;br /&gt;
Copyright (c) 1996, 2005 Oracle Corporation.  All rights reserved.&lt;br /&gt;
http://danaly.hurrray.com.cn:1158/em/console/aboutApplication&lt;br /&gt;
Starting Oracle Enterprise Manager 10g Database Control .............. started.&lt;br /&gt;
------------------------------------------------------------------&lt;br /&gt;
Logs are generated in directory&lt;br /&gt;
/opt/oracle/product/10.2.0/danaly.hurrray.com.cn_danaly/sysman/log&lt;br /&gt;

现在登陆Web页面,EM显示就可以正常显示中文了.&lt;br /&gt;
</description>
    </item>
    
    <item>
      <title>Oracle数据库日常维护手册</title>
      <link>https://wdicc.com/oracle-handbook/</link>
      <pubDate>Sat, 05 Aug 2006 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/oracle-handbook/</guid>
      <description>&lt;h4 align=&#34;center&#34; style=&#34;text-align: center; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;color: black&#34;&gt;Oracle&lt;/span&gt;&lt;span style=&#34;color: black&#34;&gt;数据库日常维护手册&lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h4&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;在&lt;span lang=&#34;EN-US&#34;&gt;Oracle&lt;/span&gt;数据库运行期间，&lt;span lang=&#34;EN-US&#34;&gt;DBA&lt;/span&gt;应该对数据库的运行日志及表空间的使用情况进行监控，及早发现数据库中存在的问题。&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;strong&gt;&lt;span style=&#34;font-size: 9pt; font-family: 宋体; color: black&#34;&gt;一、&lt;span lang=&#34;EN-US&#34;&gt;Oracle&lt;/span&gt;警告日志文件监控 &lt;/span&gt;&lt;/strong&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;Oracle&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;在运行过程中，会在警告日志文件&lt;span lang=&#34;EN-US&#34;&gt;(alert_SID.log)&lt;/span&gt;中记录数据库的一些运行情况&lt;span lang=&#34;EN-US&#34;&gt;: &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;●数据库的启动、关闭，启动时的非缺省参数&lt;span lang=&#34;EN-US&#34;&gt;; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;●数据库的重做日志切换情况，记录每次切换的时间，及如果因为检查点&lt;span lang=&#34;EN-US&#34;&gt;(checkpoint)&lt;/span&gt;操作没有执行完成造成不能切换，会记录不能切换的原因&lt;span lang=&#34;EN-US&#34;&gt;; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;●对数据库进行的某些操作，如创建或删除表空间、增加数据文件&lt;span lang=&#34;EN-US&#34;&gt;; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;●数据库发生的错误，如表空间不够、出现坏块、数据库内部错误&lt;span lang=&#34;EN-US&#34;&gt;(ORA-600) &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;DBA&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;应该定期检查日志文件，根据日志中发现的问题及时进行处理&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;问题处理&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;启动参数不对检查初始化参数文件&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;因为检查点操作或归档操作没有完成造成重做日志不能切换如果经常发生这样的情况，可以考虑增加重做日志文件组&lt;span lang=&#34;EN-US&#34;&gt;;&lt;/span&gt;想办法提高检查点或归档操作的效率&lt;span lang=&#34;EN-US&#34;&gt;; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;有人未经授权删除了表空间检查数据库的安全问题，是否密码太简单&lt;span lang=&#34;EN-US&#34;&gt;;&lt;/span&gt;如有必要，撤消某些用户的系统权限&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;出现坏块检查是否是硬件问题&lt;span lang=&#34;EN-US&#34;&gt;(&lt;/span&gt;如磁盘本生有坏块&lt;span lang=&#34;EN-US&#34;&gt;)&lt;/span&gt;，如果不是，检查是那个数据库对象出现了坏块，对这个对象进行重建&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;表空间不够增加数据文件到相应的表空间&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;出现&lt;span lang=&#34;EN-US&#34;&gt;ORA-600&lt;/span&gt;根据日志文件的内容查看相应的&lt;span lang=&#34;EN-US&#34;&gt;TRC&lt;/span&gt;文件，如果是&lt;span lang=&#34;EN-US&#34;&gt;Oracle&lt;/span&gt;的&lt;span lang=&#34;EN-US&#34;&gt;bug&lt;/span&gt;，要及时打上相应的补丁&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;

&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;!--more--&gt;&lt;br /&gt;
&lt;strong&gt;&lt;span style=&#34;font-size: 9pt; font-family: 宋体; color: black&#34;&gt;    二、数据库表空间使用情况监控&lt;span lang=&#34;EN-US&#34;&gt;(&lt;/span&gt;字典管理表空间&lt;span lang=&#34;EN-US&#34;&gt;) &lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;&lt;/span&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;数据库运行了一段时间后，由于不断的在表空间上创建和删除对象，会在表空间上产生大量的碎片，&lt;span lang=&#34;EN-US&#34;&gt;DBA&lt;/span&gt;应该及时了解表空间的碎片和可用空间情况，以决定是否要对碎片进行整理或为表空间增加数据文件。&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;

&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;select tablespace_name, &lt;/span&gt;&lt;/code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;count(*) chunks , &lt;/span&gt;&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;max(bytes/1024/1024) max_chunk &lt;/span&gt;&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;from dba_free_space &lt;/span&gt;&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;group by tablespace_name; &lt;/span&gt;&lt;/code&gt;&lt;/span&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;&lt;/span&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;上面的&lt;span lang=&#34;EN-US&#34;&gt;SQL&lt;/span&gt;列出了数据库中每个表空间的空闲块情况&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;其中，&lt;span lang=&#34;EN-US&#34;&gt;CHUNKS&lt;/span&gt;列表示表空间中有多少可用的空闲块&lt;span lang=&#34;EN-US&#34;&gt;(&lt;/span&gt;每个空闲块是由一些连续的&lt;span lang=&#34;EN-US&#34;&gt;Oracle&lt;/span&gt;数据块组成&lt;span lang=&#34;EN-US&#34;&gt;)&lt;/span&gt;，如果这样的空闲块过多，比如平均到每个数据文件上超过了&lt;span lang=&#34;EN-US&#34;&gt;100&lt;/span&gt;个，那么该表空间的碎片状况就比较严重了，可以尝试用以下的&lt;span lang=&#34;EN-US&#34;&gt;SQL&lt;/span&gt;命令进行表空间相邻碎片的接合&lt;span lang=&#34;EN-US&#34;&gt;: &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;alter tablespace &lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;表空间名&lt;span lang=&#34;EN-US&#34;&gt; coalesce; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;对表空间的扩充对表空间的数据文件大小进行扩展，或向表空间增加数据文件，例如：&lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;alter database datafile ‘filename’ resize 2g;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;alter tablespace add datafile ‘filename’ size 2g;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;strong&gt;&lt;span style=&#34;font-size: 9pt; font-family: 宋体; color: black&#34;&gt;三、查看数据库的连接情况 &lt;/span&gt;&lt;/strong&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;DBA&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;要定时对数据库的连接情况进行检查，看与数据库建立的会话数目是不是正常，如果建立了过多的连接，会消耗数据库的资源。同时，对一些&lt;span lang=&#34;EN-US&#34;&gt;“&lt;/span&gt;挂死&lt;span lang=&#34;EN-US&#34;&gt;”&lt;/span&gt;的连接，可能会需要&lt;span lang=&#34;EN-US&#34;&gt;DBA&lt;/span&gt;手工进行清理。&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;以下的&lt;span lang=&#34;EN-US&#34;&gt;SQL&lt;/span&gt;语句列出当前数据库建立的会话情况&lt;span lang=&#34;EN-US&#34;&gt;: &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;

&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;select sid,serial#,username,program,machine,status &lt;/span&gt;&lt;/code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;from v$session;&lt;/span&gt;&lt;/code&gt;&lt;/span&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt; &lt;/span&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;如果&lt;span lang=&#34;EN-US&#34;&gt;DBA&lt;/span&gt;要手工断开某个会话，则执行&lt;span lang=&#34;EN-US&#34;&gt;: &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;alter system kill session &#39;SID,SERIAL#&#39;; &lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;strong&gt;&lt;span style=&#34;font-size: 9pt; font-family: 宋体; color: black&#34;&gt;四、备份 &lt;/span&gt;&lt;/strong&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;控制文件的备份：&lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;在数据库结构发生变化时，如增加了表空间，增加了数据文件或重做日志文件这些操作，都会造成&lt;span lang=&#34;EN-US&#34;&gt;Oracle&lt;/span&gt;数据库控制文件的变化，&lt;span lang=&#34;EN-US&#34;&gt;DBA&lt;/span&gt;应及进行控制文件的备份，备份方法是&lt;span lang=&#34;EN-US&#34;&gt;: &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;执行&lt;span lang=&#34;EN-US&#34;&gt;SQL&lt;/span&gt;语句&lt;span lang=&#34;EN-US&#34;&gt;: &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;

&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;alter database &lt;/span&gt;&lt;/code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;backup controlfile to &#39;/home/backup/control.bak&#39;; &lt;/span&gt;&lt;/code&gt;&lt;br /&gt;
&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;或&lt;span lang=&#34;EN-US&#34;&gt;: &lt;/span&gt;&lt;/span&gt;&lt;br /&gt;

&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;alter database &lt;/span&gt;&lt;/code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;backup controlfile to trace; &lt;/span&gt;&lt;/code&gt;&lt;br /&gt;
&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;这样，会在&lt;span lang=&#34;EN-US&#34;&gt;USER_DUMP_DEST(&lt;/span&gt;初始化参数文件中指定&lt;span lang=&#34;EN-US&#34;&gt;)&lt;/span&gt;目录下生成创建控制文件的&lt;span lang=&#34;EN-US&#34;&gt;SQL&lt;/span&gt;命令。 &lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;数据逻辑备份：&lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;导出：&lt;span lang=&#34;EN-US&#34;&gt;exp wd/******* file=***.dmp owner=wd&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;导入：&lt;span lang=&#34;EN-US&#34;&gt;imp wd/******* file=***.dmp fromuser=wd touser=wd&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;strong&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; font-family: 宋体; color: black&#34;&gt; &lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;strong&gt;&lt;span style=&#34;font-size: 9pt; font-family: 宋体; color: black&#34;&gt;五、检查数据库文件的状态 &lt;/span&gt;&lt;/strong&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;DBA&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;要及时查看数据库中数据文件的状态&lt;span lang=&#34;EN-US&#34;&gt;(&lt;/span&gt;如被误删除&lt;span lang=&#34;EN-US&#34;&gt;)&lt;/span&gt;，根据实际情况决定如何进行处理，检查数据文件的状态的&lt;span lang=&#34;EN-US&#34;&gt;SQL&lt;/span&gt;如下&lt;span lang=&#34;EN-US&#34;&gt;: &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;

&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;select file_name,status &lt;/span&gt;&lt;/code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;from dba_data_files;&lt;/span&gt;&lt;/code&gt;&lt;/span&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt; &lt;/span&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;如果数据文件的&lt;span lang=&#34;EN-US&#34;&gt;STATUS&lt;/span&gt;列不是&lt;span lang=&#34;EN-US&#34;&gt;AVAILABLE&lt;/span&gt;，那么就要采取相应的措施，如对该数据文件进行恢复操作，或重建该数据文件所在的表空间。&lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;strong&gt;&lt;span style=&#34;font-size: 9pt; font-family: 宋体; color: black&#34;&gt;六、检查数据库定时作业的完成情况 &lt;/span&gt;&lt;/strong&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;如果数据库使用了&lt;span lang=&#34;EN-US&#34;&gt;Oracle&lt;/span&gt;的&lt;span lang=&#34;EN-US&#34;&gt;JOB&lt;/span&gt;来完成一些定时作业，要对这些&lt;span lang=&#34;EN-US&#34;&gt;JOB&lt;/span&gt;的运行情况进行检查&lt;span lang=&#34;EN-US&#34;&gt;: &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;

&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;select job,log_user,last_date,failures &lt;/span&gt;&lt;/code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;from dba_jobs; &lt;/span&gt;&lt;/code&gt;&lt;/span&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;&lt;/span&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;如果&lt;span lang=&#34;EN-US&#34;&gt;FAILURES&lt;/span&gt;列是一个大于&lt;span lang=&#34;EN-US&#34;&gt;0&lt;/span&gt;的数的话，说明&lt;span lang=&#34;EN-US&#34;&gt;JOB&lt;/span&gt;运行失败，要进一步的检查。&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;strong&gt;&lt;span style=&#34;font-size: 9pt; font-family: 宋体; color: black&#34;&gt;七、数据库坏块的处理 &lt;/span&gt;&lt;/strong&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;当&lt;span lang=&#34;EN-US&#34;&gt;Oracle&lt;/span&gt;数据库出现坏块时，&lt;span lang=&#34;EN-US&#34;&gt;Oracle&lt;/span&gt;会在警告日志文件&lt;span lang=&#34;EN-US&#34;&gt;(alert_SID.log)&lt;/span&gt;中记录坏块的信息&lt;span lang=&#34;EN-US&#34;&gt;: &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;ORA-01578: ORACLE data block corrupted (file # 7, block # ) &lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;ORA-01110: data file : &#39;/oracle1/oradata/V920/oradata/V816/users01.dbf&#39; &lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;其中， 代表坏块所在数据文件的绝对文件号， 代表坏块是数据文件上的第几个数据块&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;出现这种情况时，应该首先检查是否是硬件及操作系统上的故障导致&lt;span lang=&#34;EN-US&#34;&gt;Oracle&lt;/span&gt;数据库出现坏块。在排除了数据库以外的原因后，再对发生坏块的数据库对象进行处理。&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;1.&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;确定发生坏块的数据库对象&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;

&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;SELECT tablespace_name, &lt;/span&gt;&lt;/code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;segment_type, &lt;/span&gt;&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;owner, &lt;/span&gt;&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;segment_name &lt;/span&gt;&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;FROM dba_extents &lt;/span&gt;&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;WHERE file_id = &lt;/span&gt;&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;AND &lt;/span&gt;&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;between block_id AND block_id+blocks-1; &lt;/span&gt;&lt;/code&gt;&lt;/span&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;&lt;/span&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;2.&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;决定修复方法&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;如果发生坏块的对象是一个索引，那么可以直接把索引&lt;span lang=&#34;EN-US&#34;&gt;DROP&lt;/span&gt;掉后，再根据表里的记录进行重建&lt;span lang=&#34;EN-US&#34;&gt;; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;如果发生坏块的表的记录可以根据其它表的记录生成的话，那么可以直接把这个表&lt;span lang=&#34;EN-US&#34;&gt;DROP&lt;/span&gt;掉后重建&lt;span lang=&#34;EN-US&#34;&gt;; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;如果有数据库的备份，则恢复数据库的方法来进行修复&lt;span lang=&#34;EN-US&#34;&gt;; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;如果表里的记录没有其它办法恢复，那么坏块上的记录就丢失了，只能把表中其它数据块上的记录取出来，然后对这个表进行重建。&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;3.&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;用&lt;span lang=&#34;EN-US&#34;&gt;Oracle&lt;/span&gt;提供的&lt;span lang=&#34;EN-US&#34;&gt;DBMS_REPAIR&lt;/span&gt;包标记出坏块&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;exec DBMS_REPAIR.SKIP_CORRUPT_BLOCKS(&#39; &#39;,&#39;&#39;); &lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;4.&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;使用&lt;span lang=&#34;EN-US&#34;&gt;Create table as select&lt;/span&gt;命令将表中其它块上的记录保存到另一张表上&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;

&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;create table corrupt_table_bak &lt;/span&gt;&lt;/code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;as &lt;/span&gt;&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;select * from corrupt_table; &lt;/span&gt;&lt;/code&gt;&lt;/span&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;&lt;/span&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;5.&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;用&lt;span lang=&#34;EN-US&#34;&gt;DROP TABLE&lt;/span&gt;命令删除有坏块的表&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;drop table corrup_tatble; &lt;/span&gt;&lt;/code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;6.&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;用&lt;span lang=&#34;EN-US&#34;&gt;alter table rename&lt;/span&gt;命令恢复原来的表&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;

&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;alter table corrupt_table_bak &lt;/span&gt;&lt;/code&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 10pt; font-family: 新宋体; color: black&#34;&gt;&lt;br /&gt;
&lt;code&gt;&lt;span style=&#34;font-family: 新宋体&#34;&gt;rename to corrupt_table; &lt;/span&gt;&lt;/code&gt;&lt;/span&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;&lt;/span&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;7.&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;如果表上存在索引，则要重建表上的索引&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;strong&gt;&lt;span style=&#34;font-size: 9pt; font-family: 宋体; color: black&#34;&gt;八、操作系统相关维护 &lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;DBA&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;要注意对操作系统的监控&lt;span lang=&#34;EN-US&#34;&gt;: &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;●文件系统的空间使用情况&lt;span lang=&#34;EN-US&#34;&gt;(df -k)&lt;/span&gt;，必要时对&lt;span lang=&#34;EN-US&#34;&gt;Oracle&lt;/span&gt;的警告日志及&lt;span lang=&#34;EN-US&#34;&gt;TRC&lt;/span&gt;文件进行清理&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;●如果&lt;span lang=&#34;EN-US&#34;&gt;Oracle&lt;/span&gt;提供网络服务，检查网络连接是否正常&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;●检查操作系统的资源使用情况是否正常&lt;span lang=&#34;EN-US&#34;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;●检查数据库服务器有没有硬件故障，如磁盘、内存报错&lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;strong&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;九、数据库背景知识&lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;配置文件&lt;span lang=&#34;EN-US&#34;&gt;   &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;spfile&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;，位于&lt;span lang=&#34;EN-US&#34;&gt;$ORACLE_HOME/dbs/spfile&lt;ORACLE_SID&gt;.ora,&lt;/span&gt;是一个二进制文件，不能直接编辑，&lt;span lang=&#34;EN-US&#34;&gt;Oracle9i&lt;/span&gt;之后默认使用&lt;span lang=&#34;EN-US&#34;&gt;spfile&lt;/span&gt;。可以通过&lt;span lang=&#34;EN-US&#34;&gt;alter system set &lt;/span&gt;×××&lt;span lang=&#34;EN-US&#34;&gt;=&lt;/span&gt;×××&lt;span lang=&#34;EN-US&#34;&gt;;&lt;/span&gt;来修改参数，大部分参数修改后不用重启数据库。可以通过执行&lt;span lang=&#34;EN-US&#34;&gt;show parameter spfile&lt;/span&gt;来查看是否使用了&lt;span lang=&#34;EN-US&#34;&gt;spfile&lt;/span&gt;，如果执行结果为空，则数据库没有使用&lt;span lang=&#34;EN-US&#34;&gt;spfile&lt;/span&gt;。执行&lt;span lang=&#34;EN-US&#34;&gt;create spfile from pfile; &lt;/span&gt;然后重启数据库就启用了&lt;span lang=&#34;EN-US&#34;&gt;spfile&lt;/span&gt;。&lt;span lang=&#34;EN-US&#34;&gt;   &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;pfile&lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;，位于&lt;span lang=&#34;EN-US&#34;&gt;$ORACLE_HOME/dbs/init&lt;ORACLE_SID&gt;.ora&lt;/span&gt;，是一个&lt;span lang=&#34;EN-US&#34;&gt;ASCII&lt;/span&gt;文件可以编辑，修改参数后需要重启数据库。&lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;tnsnames.ora, &lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;位于&lt;span lang=&#34;EN-US&#34;&gt;$ORACLE_HOME/network/admin/tnsnames.ora, &lt;/span&gt;记录了服务明的信息。&lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;listener.ora, &lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;位于&lt;span lang=&#34;EN-US&#34;&gt;$ORACLE_HOME/network/admin/listener.ora&lt;/span&gt;，记录了&lt;span lang=&#34;EN-US&#34;&gt;listener&lt;/span&gt;的信息。&lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;日志文件&lt;span lang=&#34;EN-US&#34;&gt;   &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;alert, &lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;位于&lt;span lang=&#34;EN-US&#34;&gt;$ORACLE_BASE/admin/$ORACLE_SID/bdump/alert&lt;$ORACLE_SID&gt;.log, Oracle&lt;/span&gt;的报警日志，如数据库出错可以在此文件中查看。&lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;redo, &lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;位于&lt;span lang=&#34;EN-US&#34;&gt;$ORACLE_BASE/oradata/redo&lt;/span&gt;××&lt;span lang=&#34;EN-US&#34;&gt;.log&lt;/span&gt;，&lt;span lang=&#34;EN-US&#34;&gt;Orale&lt;/span&gt;重做日志。&lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;启动&lt;span lang=&#34;EN-US&#34;&gt;/&lt;/span&gt;停止&lt;span lang=&#34;EN-US&#34;&gt;ORACLE&lt;/span&gt;：&lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;以&lt;span lang=&#34;EN-US&#34;&gt;sysdba&lt;/span&gt;权限登陆&lt;span lang=&#34;EN-US&#34;&gt;sqlplus&lt;/span&gt;，&lt;span lang=&#34;EN-US&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 42pt; line-height: 13.5pt&#34;&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;停止：&lt;span lang=&#34;EN-US&#34;&gt;shutdown immediate&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
&lt;p style=&#34;text-indent: 24pt; line-height: 13.5pt&#34;&gt;&lt;span lang=&#34;EN-US&#34; style=&#34;font-size: 9pt; color: black&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;font-size: 9pt; color: black&#34;&gt;启动：&lt;span lang=&#34;EN-US&#34;&gt;startup&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;br /&gt;
</description>
    </item>
    
    <item>
      <title>oracle修改用户密码</title>
      <link>https://wdicc.com/change-username-in-oracle/</link>
      <pubDate>Sat, 05 Aug 2006 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/change-username-in-oracle/</guid>
      <description>如果用户是在服务器端使用数据库，那么可以用Oracle提供的SQLPlus进行数据库操作，假设要更改用户口令，可以这样做：&lt;br /&gt;

sqlplus user/password&lt;br /&gt;

sql&gt;alter user sys identified by new_password;&lt;br /&gt;

sql&gt;exit&lt;br /&gt;
</description>
    </item>
    
    <item>
      <title>在linux重新启动下如何设置oracle服务自动开启</title>
      <link>https://wdicc.com/auto-start-of-oracle/</link>
      <pubDate>Sat, 05 Aug 2006 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/auto-start-of-oracle/</guid>
      <description>来源 &lt;a target=&#34;_blank&#34; href=&#34;http://community.csdn.net/Expert/FAQ/FAQ_Index.asp?id=210567&#34;&gt;这里&lt;/a&gt;&lt;br /&gt;

我装的是redhat  linux  9，oracle9.2.0.1.0,用sqlplus  &#34;/as  sysdba&#34;  startup可开启实例服务，用lsnrctl  start开启侦听服务，但这些都是通过手工输入操作的，能不能有办法让这些服务就象在windows一样设置为自动，让他在重启之后就可自动运行&lt;br /&gt;
---------------------------------------------------------------&lt;br /&gt;

这个问题近期有人问过好多遍了，下面是  liuyi8903(好好学习)  的关于此问题的一个回复：&lt;br /&gt;

下面是我在linux  as  3下做的:&lt;br /&gt;

1.  创建文件/etc/oratab&lt;br /&gt;
添加&lt;br /&gt;

#添加如下内容到/etc/oratab文件中,&lt;br /&gt;
#$ORACLE_SID是你的Oracle数据库的sid&lt;br /&gt;
#$ORACLE_HOME是你的Oracle数据库的Oracle_home&lt;br /&gt;
#Y表示要求在系统启动的时候启动Oracle数据库.N表示不要在系统启动的时候启动Oracle&lt;br /&gt;
$ORACLE_SID:$ORACLE_HOME:Y&lt;br /&gt;

&lt;!--more--&gt;&lt;br /&gt;

2.  修改文件/etc/rc.local添加一下两行&lt;br /&gt;
su  -  oracle  -c  &#39;dbstart&#39;&lt;br /&gt;
su  -  oracle  -c  &#39;lsnrctl  start&#39;&lt;br /&gt;
---------------------------------------------------------------&lt;br /&gt;

以下是10G在Linux下oracle自启动的官方表述，可以参考一下，9i应该也有这方面的表述，可以去www.oracle.com找9i的文档看看：&lt;br /&gt;


1.Log  in  as  the  root  user.&lt;br /&gt;

2.Edit  the  oratab  file  for  your  platform.&lt;br /&gt;

To  open  the  file,  use  one  of  the  following  commands:&lt;br /&gt;

On  Solaris:&lt;br /&gt;

#  vi  /var/opt/oracle/oratab&lt;br /&gt;

On  AIX,  HP-UX,  Linux,  and  Tru64  UNIX:&lt;br /&gt;

#  vi  /etc/oratab&lt;br /&gt;

Database  entries  in  the  oratab  file  are  displayed  in  the  following  format:&lt;br /&gt;

SID:ORACLE_HOME:{Y  &amp;brvbarN  &amp;brvbarW}&lt;br /&gt;

In  this  example,  the  values  Y  and  N  specify  whether  you  want  the  scripts  to  start  up  or  shut  down  the  database,  respectively.  For  each  database  for  which  you  want  to  automate  shutdown  and  startup,  first  determine  the  instance  identifier  (SID)  for  that  database,  which  is  identified  by  the  SID  in  the  first  field.  Then,  change  the  last  field  for  each  to  Y.&lt;br /&gt;

You  can  set  dbstart  to  auto-start  a  single-instance  database  that  uses  an  Automatic  Storage  Management  installation  that  is  auto-started  by  Oracle  Clusterware.  This  is  the  default  behavior  for  an  Automatic  Storage  Management  cluster.  If  you  want  to  do  this,  then  you  must  change  the  oratab  entry  of  the  database  and  the  Automatic  Storage  Management  installation  to  use  a  third  field  with  the  value  W  and  N,  respectively.  These  values  specify  that  dbstart  auto-starts  the  database  only  after  the  Automatic  Storage  Management  instance  is  started.&lt;br /&gt;


Note:&lt;br /&gt;

If  you  add  new  database  instances  to  the  system  and  if  you  want  to  automate  startup  for  them,  then  you  must  edit  the  entries  for  those  instances  in  the  oratab  file.&lt;br /&gt;


3.Change  directory  to  one  of  the  following  depending  on  your  operating  system:&lt;br /&gt;

Platform  Initialization  File  Directory&lt;br /&gt;
AIX  /etc&lt;br /&gt;
Linux  and  Solaris  /etc/init.d&lt;br /&gt;
HP-UX  and  Tru64  UNIX  /sbin/init.d&lt;br /&gt;


4.Create  a  file  called  dbora,  and  copy  the  following  lines  into  this  file:&lt;br /&gt;


Note:&lt;br /&gt;

Change  the  value  of  the  ORACLE_HOME  environment  variable  to  an  Oracle  home  directory  for  the  installation.  Change  the  value  of  the  ORACLE  environment  variable  to  the  user  name  of  the  owner  of  the  database  installed  in  the  Oracle  home  directory  (typically,  oracle).&lt;br /&gt;


#!  /bin/sh    -x&lt;br /&gt;
#&lt;br /&gt;
#  Change  the  value  of  ORACLE_HOME  to  specify  the  correct  Oracle  home&lt;br /&gt;
#  directory  for  your  installation.&lt;br /&gt;

ORACLE_HOME=/u01/app/oracle/product/10.2.0/db_1&lt;br /&gt;
#&lt;br /&gt;
#  Change  the  value  of  ORACLE  to  the  login  name  of  the&lt;br /&gt;
#  oracle  owner  at  your  site.&lt;br /&gt;
#&lt;br /&gt;
ORACLE=oracle&lt;br /&gt;

PATH=${PATH}:$ORACLE_HOME/bin&lt;br /&gt;
HOST=`hostname`&lt;br /&gt;
PLATFORM=`uname`&lt;br /&gt;
export  ORACLE_HOME  PATH&lt;br /&gt;
#&lt;br /&gt;
if  [  !  &#34;$2&#34;  =  &#34;ORA_DB&#34;  ]  ;  then&lt;br /&gt;
if  [  &#34;$PLATFORM&#34;  =  &#34;HP-UX&#34;  ]  ;  then&lt;br /&gt;
remsh  $HOST  -l  $ORACLE  -n  &#34;$0  $1  ORA_DB&#34;&lt;br /&gt;
exit&lt;br /&gt;
else&lt;br /&gt;
rsh  $HOST  -l  $ORACLE    $0  $1  ORA_DB&lt;br /&gt;
exit&lt;br /&gt;
fi&lt;br /&gt;
fi&lt;br /&gt;
#&lt;br /&gt;
case  $1  in&lt;br /&gt;
&#39;start&#39;)&lt;br /&gt;
$ORACLE_HOME/bin/dbstart  $ORACLE_HOME  &amp;&lt;br /&gt;
;;&lt;br /&gt;
&#39;stop&#39;)&lt;br /&gt;
$ORACLE_HOME/bin/dbshut  $ORACLE_HOME  &amp;&lt;br /&gt;
;;&lt;br /&gt;
*)&lt;br /&gt;
echo  &#34;usage:  $0  {start  &amp;brvbarstop}&#34;&lt;br /&gt;
exit&lt;br /&gt;
;;&lt;br /&gt;
esac&lt;br /&gt;
#&lt;br /&gt;
exit&lt;br /&gt;


Note:&lt;br /&gt;

This  script  can  only  stop  Oracle  Net  listener  for  which  a  password  has  not  been  set.  In  addition,  if  the  listener  name  is  not  the  default  name,  LISTENER,  then  you  must  specify  the  listener  name  in  the  stop  and  start  commands:&lt;br /&gt;
$ORACLE_HOME/bin/lsnrctl  {start  &amp;brvbarstop}  listener_name&lt;br /&gt;



5.Change  the  group  of  the  dbora  file  to  the  OSDBA  group  (typically  dba),  and  set  the  permissions  to  750:&lt;br /&gt;

#  chgrp  dba  dbora&lt;br /&gt;
#  chmod  750  dbora&lt;br /&gt;

6.Create  symbolic  links  to  the  dbora  script  in  the  appropriate  run-level  script  directories  as  follows:&lt;br /&gt;

Platform  Symbolic  Links  Commands&lt;br /&gt;

Linux  #  ln  -s  /etc/init.d/dbora  /etc/rc.d/rc3.d/K01dbora&lt;br /&gt;
#  ln  -s  /etc/init.d/dbora  /etc/rc.d/rc3.d/S99dbora&lt;br /&gt;
#  ln  -s  /etc/init.d/dbora  /etc/rc.d/rc5.d/K01dbora&lt;br /&gt;
#  ln  -s  /etc/init.d/dbora  /etc/rc.d/rc5.d/S99dbora&lt;br /&gt;
---------------------------------------------------------------&lt;br /&gt;

Oracle在linux下的自动启动脚本&lt;br /&gt;

环境是redhat  9+oracle  9.2.0.4&lt;br /&gt;

1、在/etc/rc.d/init.d下创建脚本，名字就取为oracle，内容如下。假设oracle的安装用户是ora9。&lt;br /&gt;
case  &#34;$1&#34;  in&lt;br /&gt;
start)&lt;br /&gt;
echo  &#34;Starting  Oracle  Databases  ...  &#34;&lt;br /&gt;
echo  &#34;-------------------------------------------------&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
date  +&#34;  %T  %a  %D  :  Starting  Oracle  Databasee  as  part  of  system  up.&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
echo  &#34;-------------------------------------------------&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
su  -  ora9  -c  &#34;dbstart&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
echo  &#34;Done.&#34;&lt;br /&gt;
echo  &#34;Starting  Oracle  Listeners  ...  &#34;&lt;br /&gt;
echo  &#34;-------------------------------------------------&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
date  +&#34;  %T  %a  %D  :  Starting  Oracle  Listeners  as  part  of  system  up.&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
echo  &#34;-------------------------------------------------&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
su  -  ora9  -c  &#34;lsnrctl  start&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
echo  &#34;Done.&#34;&lt;br /&gt;
echo  &#34;&#34;&lt;br /&gt;
echo  &#34;-------------------------------------------------&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
date  +&#34;  %T  %a  %D  :  Finished.&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
echo  &#34;-------------------------------------------------&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
touch  /var/lock/subsys/oracle&lt;br /&gt;

;;&lt;br /&gt;
stop)&lt;br /&gt;
echo  &#34;Stoping  Oracle  Listeners  ...  &#34;&lt;br /&gt;
echo  &#34;-------------------------------------------------&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
date  +&#34;  %T  %a  %D  :  Stoping  Oracle  Listener  as  part  of  system  down.&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
echo  &#34;-------------------------------------------------&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
su  -  ora9  -c  &#34;lsnrctl  stop&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
echo  &#34;Done.&#34;&lt;br /&gt;
rm  -f  /var/lock/subsys/oracle&lt;br /&gt;
echo  &#34;Stoping  Oracle  Databases  ...  &#34;&lt;br /&gt;
echo  &#34;-------------------------------------------------&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
date  +&#34;  %T  %a  %D  :  Stoping  Oracle  Databases  as  part  of  system  down.&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
echo  &#34;-------------------------------------------------&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
su  -  ora9  -c  &#34;dbshut&#34;  &gt;&gt;/var/log/oracle&lt;br /&gt;
echo  &#34;Done.&#34;&lt;br /&gt;
echo  &#34;&#34;&lt;br /&gt;
echo  &#34;-------------------------------------------------&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
date  +&#34;  %T  %a  %D  :  Finished.&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;
echo  &#34;-------------------------------------------------&#34;  &gt;&gt;  /var/log/oracle&lt;br /&gt;

;;&lt;br /&gt;
restart)&lt;br /&gt;
$0  stop&lt;br /&gt;
$0  start&lt;br /&gt;

;;&lt;br /&gt;
*)&lt;br /&gt;
echo  &#34;Usage:  oracle  {start  &amp;brvbarstop  &amp;brvbarrestart}&#34;&lt;br /&gt;
exit  1&lt;br /&gt;
esac&lt;br /&gt;

2、修改/etc/rc.d/init.d/oracle的属性为755。&lt;br /&gt;

3、创建不同级别的link文件。&lt;br /&gt;
$  ln  -s  /etc/rc.d/init.d/oracle  /etc/rc.d/rc5.d/S99oracle&lt;br /&gt;
$  ln  -s  /etc/rc.d/init.d/oracle  /etc/rc.d/rc0.d/K01oracle&lt;br /&gt;
$  ln  -s  /etc/rc.d/init.d/oracle  /etc/rc.d/rc1.d/K01oracle&lt;br /&gt;

4、编辑/etc/oratab文件，设置需要自动启动的数据库实例。&lt;br /&gt;

5、在$ORACLE_HOME/dbs下，创建符号连接文件init$ORACLE_SID&lt;br /&gt;
cd  $ORACLE_HOME/dbs&lt;br /&gt;
ln  -s  spfile$ORACLE_SID.ora  init$ORACLE_SID.ora&lt;br /&gt;
</description>
    </item>
    
    <item>
      <title>数据恢复步骤</title>
      <link>https://wdicc.com/recover-date/</link>
      <pubDate>Sat, 05 Aug 2006 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/recover-date/</guid>
      <description>&lt;pre class=&#34;prettyprint lang-sql&#34;&gt;
切换到oracle用户
sqlplus
conn / as sysdba
drop user &lt;USER&gt; cascade;
create user &lt;USER&gt; identified by &lt;PASSWORD&gt; default tablespace &lt;TABLESPACE&gt;;
exit
imp &lt;USER&gt;/&lt;PASSWORD&gt; file=&lt;FILE_NAME&gt; fromuser=&lt;USER&gt; touser=&lt;USER&gt;
&lt;/pre&gt;&lt;br /&gt;

&lt;pre class=&#34;prettyprint lang-txt&#34;&gt;
*&lt;USER&gt;为要恢复的用户，&lt;PASSWORD&gt;为其密
</description>
    </item>
    
    <item>
      <title>远程安装oracle</title>
      <link>https://wdicc.com/oracle-remote-install/</link>
      <pubDate>Tue, 11 Jul 2006 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/oracle-remote-install/</guid>
      <description>找了很久总算找到了方法。&lt;br /&gt;

参考 &lt;a href=&#34;http://www.oracle.com/technology/global/cn/pub/articles/saternos_kickstart.html&#34;&gt;这里&lt;/a&gt;&lt;br /&gt;

&lt;!--more--&gt;&lt;br /&gt;

主要是下面这段&lt;br /&gt;

&lt;span class=&#34;parahead1&#34; /&gt;&lt;span style=&#34;padding: 3px 1px 0px; color: #202020; background-color: #e4e4e4&#34;&gt;&lt;span class=&#34;parahead1&#34;&gt;使 Oracle 安装自动化&lt;/span&gt;Oracle Universal Installer 拥有很多自动化过程中可以利用的特性。它采用一个基于 XML的中央信息库，允许第三方应用程序识别安装了那些产品。除了简单安装之外，它还允许将现有 Oracle主目录复制到新的位置。有关该产品的更多信息，请参见 &lt;a class=&#34;bodylink&#34; href=&#34;http://download.oracle.com/docs/cd/B14117_01/em.101/b12140/toc.htm&#34;&gt;&lt;em&gt;Oracle Universal Installer 概念指南&lt;/em&gt;&lt;/a&gt;。Oracle 关于软件安装和配置甚至数据库本身的自动化解决方案涉及到一个&lt;em&gt;响应文件&lt;/em&gt; 的使用。该文件的用途与 RedHat 的 kickstart 文件相似。用户不是对交互式对话所提出的问题进行交互式回答，而是将回答存储在一个文本文件中，随后 OracleUniversal Installer (OUI) 在运行安装程序时使用该文件。这样的安装称为“静默安装”。OUI用于安装各种应用程序，因此响应文件不限于安装数据库。&lt;br /&gt;

可以通过在记录模式中运行软件或通过手动编辑示例响应文件来创建响应文件。以下是一个基本演示：&lt;br /&gt;
&lt;ol&gt;&lt;br /&gt;
&lt;li class=&#34;bodycopy&#34;&gt;用此命令启动 OUI 来创建响应文件：&lt;/li&gt;&lt;br /&gt;
&lt;pre class=&#34;prettyprint&#34;&gt;
&lt;li class=&#34;bodycopy&#34;&gt;选择您需要的所有部分（源目标目录、主目录、主目录名、产品）。&lt;/li&gt;
&lt;li class=&#34;bodycopy&#34;&gt;当您看到 Summary 屏幕时，不要单击 &lt;strong&gt;Install&lt;/strong&gt;，而是单击 &lt;strong&gt;Cancel&lt;/strong&gt;。&lt;/li&gt;
&lt;li class=&#34;bodycopy&#34;&gt;仔细查看在 tmp/recorded.rsp 中创建的结果响应文件。如果需要，可以手动编辑该文件，只要您遵守使用规定的格式即可（请参见&lt;a class=&#34;bodylink&#34; href=&#34;http://download.oracle.com/docs/cd/B14117_01/em.101/b12140/4_oui_response_files.htm#sthref131&#34;&gt;文档&lt;/a&gt;）。&lt;/li&gt;
&lt;li class=&#34;bodycopy&#34;&gt;现在如下执行静默安装：
&lt;pre class=&#34;prettyprint&#34;&gt;
在运行脚本时将会报告安装的进度。&lt;/li&gt;
&lt;/ol&gt;
如果您由于响应文件中的条目不正确而遇到安装故障，安装将失败并显示一条诊断消息。详细信息可在 oraInventory/logs目录中找到。在每次使用响应文件运行 OUI 时，会创建具有 installActions-&lt;时间戳&gt;.log 和silentInstall&lt;时间戳&gt;.log 格式名称的日志。

&lt;/span&gt;

还有关于runinstaller的使用参数

&lt;span style=&#34;padding: 3px 1px 0px; color: #202020; background-color: #e4e4e4&#34;&gt;Usage:
runInstaller  [-options] [(&lt;CommandLineVariable=Value&gt;)*]&lt;/span&gt;

Where options include:
-clusterware oracle.crs,&lt;crs version&gt;
Version of Cluster ready services installed.

-crsLocation &lt;Path&gt;
Used only for cluster installs, specifies the path to the crs home location. Specifying this overrides CRS information obtained from central inventory.

-invPtrLoc &lt;full path of oraInst.loc&gt;
Unix only. To point to a different inventory location. The orainst.loc file contains:
inventory_loc=&lt;location of central inventory&gt;
inst_group=&lt;&gt;

-jreLoc &lt;location&gt;
Path where Java Runtime Environment is installed. OUI cannot be run without it.

-logLevel &lt;level&gt;
To filter log messages that have a lesser priority level than &lt;level&gt;. Valid options are: severe, warning, info, config, fine, finer, finest, basic, general, detailed, trace. The use of basic, general, detailed, trace is deprecated.

-paramFile &lt;location of file&gt;
Specify location of oraparam.ini file to be used by OUI.

-responseFile &lt;Path&gt;
Specifies the response file and path to use.

-sourceLoc  &lt;location of products.xml&gt;
To specify the shiphome location.

-addLangs
To add new languages to an already installed product.

-addNode
For adding node(s) to the installation.

-attachHome
For attaching homes to the OUI inventory.

-cfs
Indicates that the Oracle home specified is on cluster file system (shared). This is mandatory when &#39;-local&#39; is specified so that Oracle Universal Installer can register the home appropriately into the inventory.

-clone
For making an Oracle Home copy match its current environment.

-debug
For getting the debug information from OUI.

-deinstall
For deinstall operations.

-detachHome
For detaching homes from the OUI inventory without deleting inventory directory inside Oracle home.

-enableRollingUpgrade
Used in cluster environment, to enable upgrade of a product on a subset of nodes (on which the product was installed).

-executeSysPrereqs
Execute system pre-requisite checks and exit.

-force
Allowing silent mode installation into a non-empty directory.

-help
Displays above usage.

-ignorePatchConflicts
Ignore all conflicts with existing interim patches during an upgrade. The conflicting interim patches are removed from the home.

-ignoreSysPrereqs
For ignoring the results of the system pre-requisite checks.

-local
Performs the operation on the local node irrespective of the cluster nodes specified.

-printdiskusage
Log debug information for disk usage.

-printmemory
Log debug information for memory usage.

-printtime
Log debug information for time usage.

-record -destinationFile &lt;Path&gt;
For record mode operation, information is recorded in the destination file path.

-removeallfiles
For removing the home directory after deinstallation of all the components.

-removeAllPatches
Remove all interim patches from the home

-silent
For silent mode operations, the inputs can be a response file or a list of command line variable value pairs.

-updateNodeList
For updating node list for this home in the OUI inventory.

-waitforcompletion
For windows. setup.exe will wait for completion instead of spawning the java engine and exiting.

-nobackground
Do not show background image

-noclusterEnabled
No cluster nodes specified.

-noconsole
For suppressing display of messages to console. Console is not allocated.

-nowarningonremovefiles
To disable the warning message before removal of home directory.

-nowait
For windows. Do not wait for user to hit Enter on the console after the task (install etc.) is complete.

-formCluster
To install the Oracle clusterware in order to form the cluster.

-remotecp &lt;Path&gt;
Unix specific option. Used only for cluster installs, specifies the path to the remote copy program on the local cluster node.

-remoteshell &lt;Path&gt;
Unix specific option. Used only for cluster installs, specifies the path to the remote shell program on the local cluster node.

Command Line Variables Usage
Command line variables are specified using &lt;name=value&gt;; for example:
[ session: | compName: | compName:version: ]variableName=&#34; valueOfVariable&#34;]

Session/Installer variables are specified using:
[session:]varName=value
Ex 1: session:ORACLE_HOME_NAME=&#34;OraHome&#34;
Ex 2: ORACLE_HOME_NAME=&#34;OraHome&#34;
The lookup order is session:varName then just varName. The session prefix is used to avoid ambiguity.

Component variables are specified using:
[compInternalName:[Version:]]varName
Ex 1: oracle.comp1:1.0.1:varName=&#34;VarValue&#34;
Ex 2: oracle.comp1:varName=&#34;VarValue&#34;
The lookup order is compInternalName:Version:varName, then compInternalName:varName, then just varName.
</description>
    </item>
    
  </channel>
</rss>