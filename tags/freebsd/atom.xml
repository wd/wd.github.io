<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>FreeBSD on wd and cc</title>
    <link>https://wdicc.com/tags/freebsd/</link>
    <description>Recent content in FreeBSD on wd and cc</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Tue, 18 Sep 2007 00:00:00 +0000</lastBuildDate>
    
	<atom:link href="https://wdicc.com/tags/freebsd/atom.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>给freebsd添加新硬盘</title>
      <link>https://wdicc.com/add-disk-in-freebsd/</link>
      <pubDate>Tue, 18 Sep 2007 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/add-disk-in-freebsd/</guid>
      <description>没想到freebsd里面这么变态，linux下面可能fdisk就搞定的事情，到了这里需要好几个操作，还搞不明白怎么回事。。。
要弄清楚这个，先要了解几个概念。bsd下面的ide硬盘叫做 ad，scsi 硬盘叫做da。ad0,ad1,ad2...，按照ide接口来定的。假定新加的硬盘是 ad2。每个ad又可以分4个 slice，这样就有了 ad2s1, ad2s2...。每个slice下面呢，又可以分几个区，例如 ad2s1e, ad2s1f ，可以从 a 到 h 八个，abcd是有特殊意思的。最后实际挂载使用的就是这个 /dev/ad2s1e 了。
这样整个过程就分几个步骤。
1 先初始化硬盘
1+0 records in 1+0 records out 1024 bytes transferred in 0.000160 secs (6400845 bytes/sec) 或者 ******* Working on device /dev/ad2 ******* 此后可以用 fdisk ad2 命令看到一些信息，可以看到整个硬盘的信息。 parameters extracted from in-core disklabel are: cylinders=516822 heads=15 sectors/track=63 (945 blks/cyl) Figures below won&#39;t work with BIOS for partitions not in cyl 1 parameters to be used for BIOS calculations are: cylinders=516822 heads=15 sectors/track=63 (945 blks/cyl) Media sector size is 512 Warning: BIOS sector numbering starts with sector 1 Information from DOS bootblock is: The data for partition 1 is: sysid 165,(FreeBSD/NetBSD/386BSD) start 63, size 488396727 (238474 Meg), flag 80 (active) beg: cyl 0/ head 1/ sector 1; end: cyl 725/ head 14/ sector 63 The data for partition 2 is: &amp;lt;unused&amp;gt; The data for partition 3 is: &amp;lt;unused&amp;gt; The data for partition 4 is: &amp;lt;unused&amp;gt; 2 使用 fdisk 命令分 slice fdisk -i ad2 会一步一步询问4个slice的设置，比较麻烦。不过这里也可以不分，就一个slice，一样用，呵呵。 3 使用 disklabel 命令分区 这里假定我们就一个slice。为这个 slice 建立分区。 这样就建立了一个 ad2s1c 的分区，c表示的是整个硬盘。使用下面的命令进行分区，这个还不会玩。。:( 4 使用newfs建立文件系统 就以分一个区为例，执行下面的命令。 这个命令会打印一堆数字，应该表示的是建立文件系统的进度，等会打印完了，分区就可以用了。 参考文章： http://bbs.</description>
    </item>
    
    <item>
      <title>今天装了个freebsd</title>
      <link>https://wdicc.com/install-freebsd/</link>
      <pubDate>Tue, 19 Apr 2005 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/install-freebsd/</guid>
      <description>花了大概一个下午的时间把FreeBSD5.3装上了。
FreeBSD不像linux那样可以完全脱离光驱软驱来安装，鼓捣了半天，最后还是刻盘装的，不过似乎刻一张盘就ok了，第二张盘一直没用。
安装好之后就是设置网络了。在/etc/rc.conf里面设置，也可以运行sysinstall来设置，不过运行一次就添加一次，晕死了。设置好了ip就是改mac地址了。在这个文件似乎不行，设置了ether就会启动不起来网络。没办法，只好在/etc/rc里面试着添加了三句，没想到居然还搞定了，呵呵。
ifconfig rl0 down
ifconfig rl0 ehter FFFFFFFF
ifconfig rl0 up
FreeBSD很奇怪，网卡名字似乎是和网卡型号联系的，不同型号不同名字。
装好之后就是设置了ssh。对了，设置好网卡后会出现sendmail启动不起来的情况，修改/etc/defaults/rc.conf里面关于sendmail部分，能disable都disable就ok了。ssh设置了允许root登陆和密码验证。
PermitRootLogin yes
PasswordAuthentication yes
不习惯su来su去的，还是加入root敢死队吧，呵呵。</description>
    </item>
    
  </channel>
</rss>