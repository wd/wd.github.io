<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Org Mode on wd and cc</title>
    <link>https://wdicc.com/tags/org-mode/atom/index.xml</link>
    <description>Recent content in Org Mode on wd and cc</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <atom:link href="https://wdicc.com/tags/org-mode/atom/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>org-mode 里面自动归档任务</title>
      <link>https://wdicc.com/auto-archive-task-for-org-mode/</link>
      <pubDate>Sun, 08 Apr 2012 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/auto-archive-task-for-org-mode/</guid>
      <description>&lt;p&gt;我想应该有不少人在使用 emacs 的 org-mode 来做笔记，任务管理等。我使用 org-mode 比较多的情况是使用他做一些提纲，类似思维导图一样，以及用它来管理 todo list。&lt;br /&gt;
&lt;/p&gt;&lt;br /&gt;
&lt;p&gt;&lt;br /&gt;
org-mode 本身提供了 remember 来创建 todo list。&lt;br /&gt;
&lt;/p&gt;&lt;br /&gt;
&lt;p&gt;&lt;br /&gt;
新建一个 org 文件 ~/org/todo.org，包含两行内容如下&lt;br /&gt;
&lt;/p&gt;&lt;br /&gt;


&lt;pre class=&#34;prettyprint lang-text&#34;&gt;
* Tasks
* Done
&lt;/pre&gt;&lt;br /&gt;

&lt;p&gt;&lt;br /&gt;
然后设置下面的内容&lt;br /&gt;
&lt;/p&gt;&lt;br /&gt;


&lt;pre class=&#34;prettyprint lang-lisp&#34;&gt;
(define-key global-map &#34;\C-ca&#34; &#39;org-agenda)
(global-set-key (kbd &#34;C-c m r&#34;) &#39;org-capture)
(setq org-capture-templates
      &#39;((&#34;t&#34; &#34;Todo&#34; entry (file+headline &#34;~/org/todo.org&#34; &#34;Tasks&#34;)
         &#34;* TODO %?\nCREATED: %U&#34;)
        (&#34;j&#34; &#34;Journal&#34; entry (file+datetree &#34;~/org/journal.org&#34;)
         &#34;* %?\nEntered on %U\n  %i\n  %a&#34;)))
(defun wd-move-done-task-to-done-cats ( task-pos )
  &#34;move done task to *DONE cats&#34;
  (let* ((entry (org-get-entry))
        (title (org-get-heading))
        (task (format &#34;** %s\n%s\n&#34; title entry))
        )
    (goto-char (point-min))
    (when (search-forward-regexp &#34;^* Tasks$latex &#34;)
      (goto-char (point-min))
      (when (search-forward-regexp &#34;^* Done$&#34;)
        (goto-char (match-beginning 0))
        (forward-line)      
        (insert task)
        (goto-char task-pos)
        (delete-region (org-entry-beginning-position) (org-entry-end-position))      
        )
      )
    )
  )

(defun wd-track-task-status ( changes-plist )
   &#34;Track task status, and move it to &#39;* Done&#39; cats if it is stats change from to to done
1 TODO 文件至少需要包含两个标题 * Tasks 和 * Done
2 * Tasks 里面的 TODO 内容变成 DONE 的时候，会自动把这个条目移动到 * Done
3 org-todo-keywords 的设置里面不能包含自动增加时间等的设置，否则增加的内容不能正确加到这个条目
&#34;
   ;; (interactive)
   (let ((type (plist-get change-plist :type))
          (pos (plist-get change-plist :position))
          (from (plist-get change-plist :from))
          (to (plist-get change-plist :to))
          )
     (when (and (string= from &#34;TODO&#34;)
                (string= to &#34;DONE&#34;))
       ;; (let ((answer (read-char &#34;Move this entry to *DONE ? Y/N (Y)&#34;)))
       ;;   (when (or (= answer (string-to-char &#34;y&#34;))
       ;;             (= answer (string-to-char &#34;Y&#34;))
       ;;             (= answer (string-to-char &#34;
&#34;))
       ;;             )
           (wd-move-done-task-to-done-cats pos)
         ;; ))
       )
     )
   )

(add-hook &#39;org-trigger-hook &#39;wd-track-task-status)

;; (setq org-todo-keywords
;;       &#39;((sequence &#34;TODO(t)&#34; &#34;WAIT(w@/!)&#34; &#34;|&#34; &#34;DONE(d!)&#34; &#34;CANCELED(c@)&#34;)))
(setq org-todo-keywords
      &#39;((sequence &#34;TODO(t)&#34; &#34;WAIT(w)&#34; &#34;|&#34; &#34;DONE(d)&#34; &#34;CANCELED(c)&#34;)))
&lt;/pre&gt;&lt;br /&gt;

&lt;p&gt;&lt;br /&gt;
在任何地方按一下 C-c m r，会出来一个 window 让你选择要创建 todo 还是 journal。选 t，然后输入内容就会自动插入到 ~/org/todo.org 的 * Tasks 里面。&lt;br /&gt;
&lt;/p&gt;&lt;br /&gt;
&lt;p&gt;&lt;br /&gt;
此后，如果任务完成的时候，打开 todo.org，然后在任务上面 C-c C-t，会提示输入状态。如果是从 TODO 变成了 DONE，那这条任务会被转移到 * Done 里面。&lt;br /&gt;
&lt;/p&gt;&lt;br /&gt;
&lt;p&gt;&lt;br /&gt;
因为里面都有时间，所以在 agenda list 里面，可以用 L 看到任务完成时间等。也将就用了。&lt;br /&gt;
&lt;/p&gt;&lt;br /&gt;
</description>
    </item>
    
    <item>
      <title>使用 org-mode 来做自己的 job tracker</title>
      <link>https://wdicc.com/use-org-mode-as-a-job-tracker/</link>
      <pubDate>Fri, 23 Jul 2010 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/use-org-mode-as-a-job-tracker/</guid>
      <description>用 emacs 的应该都知道 org-mode 这个大杀器，一直以来都想在工作里面用上他，可总是习惯不了。&lt;br /&gt;

这几天尝试把 org-mode 打造成了我的一个 job tracker，用来记录自己的 todo 和完成情况。&lt;br /&gt;

&lt;pre class=&#34;prettyprint lang-lisp&#34;&gt;
;;
;; org-mode
;;

;; (setq org-agenda-files &#39;(&#34;~/org&#34;))
(setq org-agenda-files (file-expand-wildcards &#34;~/org/*.org&#34;))  ;; 把 ~/org/*.org 都加入到 agenda 里面，使用 C-c a a 看 agenda 的时候，会从这些文件里面读
(add-to-list &#39;auto-mode-alist &#39;(&#34;\\.org$&#34; . org-mode))
(define-key global-map &#34;\C-cl&#34; &#39;org-store-link)
(define-key global-map &#34;\C-ca&#34; &#39;org-agenda)
(setq org-log-done t) ;; 变到 done 状态的时候，记录一下时间

(add-hook &#39;org-mode-hook
          (lambda ()
            (org-set-local &#39;yas/trigger-key [tab])
            (define-key yas/keymap [tab] &#39;yas/next-field-group)))

(setq org-todo-keywords
      &#39;((sequence &#34;TODO(t)&#34; &#34;WAIT(w@/!)&#34; &#34;|&#34; &#34;DONE(d!)&#34; &#34;CANCELED(c@)&#34;)))  ;; 设置一下 todo 的关键字，| 左边的是未完成状态，右边是 done 的状态


(setq org-default-notes-file &#34;~/org/todo.org&#34;) ;; 设置 remember 的默认文件 

;;;  Load Org Remember Stuff
(require &#39;remember)
(org-remember-insinuate)

;; Start clock in a remember buffer and switch back to previous clocking task on save
;; (add-hook &#39;remember-mode-hook &#39;org-clock-in &#39;append)
;; (add-hook &#39;org-remember-before-finalize-hook &#39;bh/clock-in-interrupted-task)

;; I use C-M-r to start org-remember
(global-set-key (kbd &#34;C-c m r&#34;) &#39;org-remember)
;; (define-key global-map &#34;\C-cr&#34; &#39;org-remember)

;; Keep clocks running
(setq org-remember-clock-out-on-exit nil)

;; C-c C-c stores the note immediately
(setq org-remember-store-without-prompt t)

;; I don&#39;t use this -- but set it in case I forget to specify a location in a future template
(setq org-remember-default-headline &#34;Tasks&#34;) ;; 设置默认 remember 添加的 headline

;; 3 remember templates for TODO tasks, Notes, and Phone calls
(setq org-remember-templates (quote ((&#34;todo&#34; ?t &#34;** TODO %?\nCREATED: %U&#34; nil nil nil)
                                     ;; (&#34;note&#34; ?n &#34;* %?                                                                            :NOTE:\n  %U\n  %a\n  :CLOCK:\n  :END:&#34; nil bottom nil)
                                     ;; (&#34;appointment&#34; ?a &#34;* %?\n  %U&#34; &#34;~/git/org/todo.org&#34; &#34;Appointments&#34; nil)
                                     ;; (&#34;org-protocol&#34; ?w &#34;* TODO Review %c%!\n  %U&#34; nil bottom nil))))
                                     ))) ;;设置 todo 的模板，里面第三个参数是模板，里面的变量的意思 google 下


&lt;/pre&gt;&lt;br /&gt;

在 todo.org 里面有两个 headline，一个是 * Tasks ，一个是 * Done。&lt;br /&gt;

配置好后，在任意的 buffer 按 C-c m r 就可以打开个 buffer，输入 todo 信息，然后按 C-c C-c 就可以把 todo 添加到 todo.org 里面去了，会添加到 * Tasks 这个 headline 下面。&lt;br /&gt;

完成一个任务的时候，在那上面按 C-c C-t 然后选择 done 就可以设置完成。手动（还不会自动。。。）把完成的任务挪到 Done 里面。&lt;br /&gt;

如果想看看有完成情况的统计，可以在 agenda 里面看，C-c a a，然后按 v，选择不同的模式看。每周的工作情况在那里面一目了然，呵呵。&lt;br /&gt;

&lt;pre class=&#34;prettyprint&#34;&gt;
Week-agenda (W29):
Monday     19 July 2010 W29
Tuesday    20 July 2010
Wednesday  21 July 2010
  todo:       17:33...... [ TODO 多看看 org-mode 的 agenda
Thursday   22 July 2010
  todo:       15:18...... Closed:     DONE a test
  todo:       15:18...... [ DONE a test
Friday     23 July 2010
  todo:       14:50...... [ TODO 梳理一下
  todo:       17:08...... [ TODO 了解下
  todo:       22:49...... [ TODO 申请
Saturday   24 July 2010
Sunday     25 July 2010
&lt;/pre&gt;&lt;br /&gt;
</description>
    </item>
    
  </channel>
</rss>