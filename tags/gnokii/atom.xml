<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>gnokii on wd and cc</title>
    <link>https://wdicc.com/tags/gnokii/</link>
    <description>Recent content in gnokii on wd and cc</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Thu, 05 Jul 2007 00:00:00 +0000</lastBuildDate>
    
	<atom:link href="https://wdicc.com/tags/gnokii/atom.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>smsd 发送中文短信乱码</title>
      <link>https://wdicc.com/smsd-and-chinese/</link>
      <pubDate>Thu, 05 Jul 2007 00:00:00 +0000</pubDate>
      
      <guid>https://wdicc.com/smsd-and-chinese/</guid>
      <description>smsd是使用mysql数据库的，所以这个乱码很容易把人搞晕。我之前写过gnokii发送短信是和locale有关系的，只要在utf8的locale下面就可以正常发送中文短信了。而smsd也和这个类似，也需要utf8的locale。但是还需要注意的一点就是mysql也是有编码设置的。所以可能会认为，文本插入数据库之前是不是也需要对数据库做utf8的设置呢？其实是不需要的，这么做反而会造成乱码。
smsd连接mysql用的是mysql默认的字符集，那么我们插入文本的时候，也同样需要使用这个字符集，需要注意的是，这个文本也需要是utf8编码的。mysql默认的字符集通常是 “default-character-set&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; latin1”。
我写的一个python的用来插入数据库要发送的信息的程序。
#!/usr/bin/env python2.3
#coding=utf-8
import sys
import MySQLdb
# inbox
#+------------+------------------+------+-----+---------------------+----------------+
#| Field | Type | Null | Key | Default | Extra |
#+------------+------------------+------+-----+---------------------+----------------+
#| id | int(10) unsigned | | PRI | NULL | auto_increment |
#| number | varchar(20) | | | | |
#| smsdate | datetime | | | 0000-00-00 00:00:00 | |
#| insertdate | timestamp | YES | | CURRENT_TIMESTAMP | |</description>
    </item>
    
  </channel>
</rss>