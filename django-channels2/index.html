<!doctype html><html lang=zh-CN><head><link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Django Channels2 | wd and cc</title>
<link rel=canonical href=https://wdicc.com/django-channels2/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:url" content="https://wdicc.com/django-channels2/"><meta property="og:site_name" content="wd and cc"><meta property="og:title" content="Django Channels2"><meta property="og:description" content="Django 3.0.1 has released for sometime. We still use Django 1.11 in one of our project, with Channels 1.1.8, I think it's the time to upgrade to newest Django and Channels.
According this upgrade guide, Channels 2 is a fully rewritten, lots of things has changed. This post is just a record about the upgrade I've done."><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-12-28T14:11:19+08:00"><meta property="article:modified_time" content="2019-12-28T14:11:19+08:00"><meta property="article:tag" content="Django"><meta property="article:tag" content="Channels"><meta name=twitter:card content="summary"><meta name=twitter:title content="Django Channels2"><meta name=twitter:description content="Django 3.0.1 has released for sometime. We still use Django 1.11 in one of our project, with Channels 1.1.8, I think it's the time to upgrade to newest Django and Channels.
According this upgrade guide, Channels 2 is a fully rewritten, lots of things has changed. This post is just a record about the upgrade I've done."><link rel=stylesheet href=https://wdicc.com/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="><link rel=stylesheet href=https://wdicc.com/wdicc.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://wdicc.com/favicon.ico></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick='$("html, body").animate({scrollTop:0},"fast")' style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu><span id=nav><ul><li><a href=/>Home</a></li><li><a href=/posts>Posts</a></li><li><a href=/tags>Tags</a></li><li><a href="https://www.google.com.hk/search?sitesearch=https%3A%2F%2Fwdicc.com%2F&amp;q=">Search</a></li><li><a href=/atom.xml>Subscribe</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=https://wdicc.com/year-in-review-2019/ aria-label=Previous><i class="fas fa-chevron-left" aria-hidden=true onmouseover='$("#i-prev").toggle()' onmouseout='$("#i-prev").toggle()'></i></a></li><li><a class=icon href=https://wdicc.com/comfort-zone/ aria-label=Next><i class="fas fa-chevron-right" aria-hidden=true onmouseover='$("#i-next").toggle()' onmouseout='$("#i-next").toggle()'></i></a></li><li><a class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up" aria-hidden=true onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class=icon href=# aria-label=Share><i class="fas fa-share-alt" aria-hidden=true onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f" aria-label=Facebook><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f&text=Django%20Channels2" aria-label=Twitter><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f&title=Django%20Channels2" aria-label=Linkedin><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f&is_video=false&description=Django%20Channels2" aria-label=Pinterest><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Django%20Channels2&body=Check out this article: https%3a%2f%2fwdicc.com%2fdjango-channels2%2f" aria-label=Email><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f&title=Django%20Channels2" aria-label=Pocket><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f&title=Django%20Channels2" aria-label=reddit><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f&name=Django%20Channels2&description=Django%203.0.1%20has%20released%20for%20sometime.%20We%20still%20use%20Django%201.11%20in%20one%20of%20our%20project%2c%20with%20Channels%201.1.8%2c%20I%20think%20it%26%2339%3bs%20the%20time%20to%20upgrade%20to%20newest%20Django%20and%20Channels.%0aAccording%20this%20upgrade%20guide%2c%20Channels%202%20is%20a%20fully%20rewritten%2c%20lots%20of%20things%20has%20changed.%20This%20post%20is%20just%20a%20record%20about%20the%20upgrade%20I%26%2339%3bve%20done." aria-label=Tumblr><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f&t=Django%20Channels2" aria-label="Hacker News"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">Django Channels2</h1><div class=meta><span class=author itemprop=author itemscope itemtype=http://schema.org/Person><span itemprop=name>wd</span></span><div class=postdate><time datetime="2019-12-28 14:11:19 +0800 +0800" itemprop=datePublished>2019-12-28</time></div><div class=article-tag><i class="fas fa-tag"></i>
<a class=tag-link href=/tags/django rel=tag>Django</a>
,
<a class=tag-link href=/tags/channels rel=tag>channels</a></div></div></header><div id=toc><nav id=TableOfContents><ul><li><a href=#headline-1>Routing</a></li><li><a href=#headline-2>Consumer</a></li><li><a href=#headline-3>Passing through data in session</a></li><li><a href=#headline-4>Broadcast messages</a></li><li><a href=#headline-5>Deploy and run</a></li></ul></nav></div><div class=content itemprop=articleBody><p>Django 3.0.1 has released for sometime. We still use Django 1.11 in one of our project, with Channels 1.1.8, I think it's the time to upgrade to newest Django and Channels.</p><p>According this <a href=https://channels.readthedocs.io/en/latest/one-to-two.html#how-to-upgrade>upgrade guide</a>, Channels 2 is a fully rewritten, lots of things has changed. This post is just a record about the upgrade I've done.</p><div id=outline-container-headline-1 class=outline-3><h3 id=headline-1>Routing</h3><div id=outline-text-headline-1 class=outline-text-3><p>In Channels 2 you need to add an <code class=verbatim>ASGI_APPLICATION</code> in the settings file, point to the asgi application.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>ASGI_APPLICATION <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;proj.routing.application&#34;</span></span></span></code></pre></div></div><p>And add <code>routing.py</code> file, add an <code>application</code> variable in the file like the bellow.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>application <span style=color:#f92672>=</span> ProtocolTypeRouter({
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;websocket&#34;</span>: URLRouter([url(<span style=color:#e6db74>r</span><span style=color:#e6db74>&#34;^ws$&#34;</span>, MyConsumer)])
</span></span><span style=display:flex><span>})</span></span></code></pre></div></div><p>The <code>websocket</code> key means it will handle websocket requests, the <code>URLRouter</code> just work as Django's. <code>MyConsumer</code> is the handler for the request.</p></div></div><div id=outline-container-headline-2 class=outline-3><h3 id=headline-2>Consumer</h3><div id=outline-text-headline-2 class=outline-text-3><p>Add <code>MyConsumer</code> class.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyConsumer</span>(WebsocketConsumer):
</span></span><span style=display:flex><span>    groups <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;broadcast&#34;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>connect</span>(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>accept()
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;connected&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>receive</span>(self, text_data<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>, bytes_data<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;recv: &#34;</span>, text_data)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>disconnect</span>(self, close_code<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;disconnect&#34;</span>)</span></span></code></pre></div></div><p>When a client connected, it will call <code>connect</code> at first, you can do authentication(If you have your own auth method other than use Django's, otherwise you can use <a href=https://channels.readthedocs.io/en/latest/topics/authentication.html>AuthMiddlewarestack</a> instead), some preparing, if you didn't want to accept the connect, you can use <code>self.disconnect()</code> to end the connection, it will also call <code>disconnect</code>, where you can do some cleaning. The function <code>receive</code> will be called when the client send messages to you.</p><p>Simple, huh? There are many other types of consumers, you can check <a href=https://channels.readthedocs.io/en/latest/topics/consumers.html#>here</a>.</p></div></div><div id=outline-container-headline-3 class=outline-3><h3 id=headline-3>Passing through data in session</h3><div id=outline-text-headline-3 class=outline-text-3><p>When a client connected, you may need to check the database and put some useful data in the session, so that you can use these data later. You have to use django session to do this in Channels 1, but in Channels 2 you didn't need to use django session, just store the data to <code>self</code>.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>self<span style=color:#f92672>.</span>my_data <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;user&#39;</span>: <span style=color:#f92672>....</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;role&#39;</span>: <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><p>Of cause, you still can use django sessions to store data, check the doc <a href=https://channels.readthedocs.io/en/latest/topics/sessions.html>here</a>, just add the <code>SessionMiddlewareStack</code> in the routing file.</p><p>Use <code>self.scope["session"]["seed"] = '123'</code> to set the session, and don't forget to use <code>self.scope["session"].save()</code> to save the session if you want to persist.</p></div></div><div id=outline-container-headline-4 class=outline-3><h3 id=headline-4>Broadcast messages</h3><div id=outline-text-headline-4 class=outline-text-3><p>You can use <code>self.send(text_data="")</code> to send a message to a client. But if you need to send to multiple client at a same time, you need to use <a href=https://channels.readthedocs.io/en/latest/topics/channel_layers.html>Channel Layers</a>.</p><p>There are many backends you can use, I recommend you use <code>channels_redis</code>.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>CHANNEL_LAYERS <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;default&#34;</span>: {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;BACKEND&#34;</span>: <span style=color:#e6db74>&#34;channels_redis.core.RedisChannelLayer&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;CONFIG&#34;</span>: {
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;hosts&#34;</span>: [(<span style=color:#e6db74>&#34;redis-server-name&#34;</span>, <span style=color:#ae81ff>6379</span>)],
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div><p>Then you need to create groups when user connect in <code>MyConsume</code>.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MyConsumer</span>(WebsocketConsumer):
</span></span><span style=display:flex><span>    groups <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;broadcast&#34;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>connect</span>(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>accept()
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;connected&#34;</span>)
</span></span><span style=display:flex><span>        async_to_sync(self<span style=color:#f92672>.</span>channel_layer<span style=color:#f92672>.</span>group_add)(<span style=color:#e6db74>&#34;some_room&#34;</span>, self<span style=color:#f92672>.</span>channel_name)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>receive</span>(self, text_data<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>, bytes_data<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;recv: &#34;</span>, text_data)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>disconnect</span>(self, close_code<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;disconnect&#34;</span>)
</span></span><span style=display:flex><span>        async_to_sync(self<span style=color:#f92672>.</span>channel_layer<span style=color:#f92672>.</span>group_discard)(
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#34;some_room&#34;</span>,
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>channel_name
</span></span><span style=display:flex><span>        )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>group_notify</span>(self, msg):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>send(text_data<span style=color:#f92672>=</span>msg[<span style=color:#e6db74>&#34;text&#34;</span>])</span></span></code></pre></div></div><p>The string <code>some_room</code> is the group id you want the user to join, think about it"s just like a chat room, everyone who join this room is a group. Or you can use the <code>user_id</code> as the group id like us, so you can send same messages to the same user at once even they have many sessions through many clients.</p><p>Use <code>self.channel_layer.group_discard</code> to quite a group and use <code>self.channel_layer.group_send</code> to send a message to a group. If you need to send to the group outside the comsumer, just use the codes below to get the <code>channel_layer</code>.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> channels.layers <span style=color:#f92672>import</span> get_channel_layer
</span></span><span style=display:flex><span>channel_layer <span style=color:#f92672>=</span> get_channel_layer()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>async_to_sync(channel_layer<span style=color:#f92672>.</span>group_send)(
</span></span><span style=display:flex><span>       <span style=color:#e6db74>&#34;some_room&#34;</span>, {
</span></span><span style=display:flex><span>           <span style=color:#e6db74>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;group.notify&#34;</span>,
</span></span><span style=display:flex><span>           <span style=color:#e6db74>&#34;text&#34;</span>: str(notify)
</span></span><span style=display:flex><span>       },
</span></span><span style=display:flex><span>   )</span></span></code></pre></div></div><p>Please beware that the message type here is <code>group.notify</code>, it can be anything you want, just add a handler for it in the comsumer, like the function <code>group_notify</code> I added above(replace the "." to "_").</p></div></div><div id=outline-container-headline-5 class=outline-3><h3 id=headline-5>Deploy and run</h3><div id=outline-text-headline-5 class=outline-text-3><p>After add the <code>ASGI_APPLICATION</code>, you can run the server use command <code>./manage.py runserver</code>, the server will handle both http and websocket requests.</p><p>You can also use <code>daphne</code> to run the server, just need to add an <code>asgi.py</code> like the bellow.</p><div class="src src-python"><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> os
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> django
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> channels.routing <span style=color:#f92672>import</span> get_default_application
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>os<span style=color:#f92672>.</span>environ<span style=color:#f92672>.</span>setdefault(<span style=color:#e6db74>&#34;DJANGO_SETTINGS_MODULE&#34;</span>, <span style=color:#e6db74>&#34;proj.settings&#34;</span>)
</span></span><span style=display:flex><span>django<span style=color:#f92672>.</span>setup()
</span></span><span style=display:flex><span>application <span style=color:#f92672>=</span> get_default_application()</span></span></code></pre></div></div><p>Then run with command <code>daphne -p 8001 proj.asgi:application</code>, it also can handle both http and websocket request.</p><p>If you prefer to handle http requests use WSGI method like before, just run <code>proj.asgi:application</code> use wsgi server like <code>gunicorn</code>.</p></div></div></div></article><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=/>Home</a></li><li><a href=/posts>Posts</a></li><li><a href=/tags>Tags</a></li><li><a href="https://www.google.com.hk/search?sitesearch=https%3A%2F%2Fwdicc.com%2F&amp;q=">Search</a></li><li><a href=/atom.xml>Subscribe</a></li></ul></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f" aria-label=Facebook><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f&text=Django%20Channels2" aria-label=Twitter><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f&title=Django%20Channels2" aria-label=Linkedin><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f&is_video=false&description=Django%20Channels2" aria-label=Pinterest><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=Django%20Channels2&body=Check out this article: https%3a%2f%2fwdicc.com%2fdjango-channels2%2f" aria-label=Email><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f&title=Django%20Channels2" aria-label=Pocket><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f&title=Django%20Channels2" aria-label=reddit><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f&name=Django%20Channels2&description=Django%203.0.1%20has%20released%20for%20sometime.%20We%20still%20use%20Django%201.11%20in%20one%20of%20our%20project%2c%20with%20Channels%201.1.8%2c%20I%20think%20it%26%2339%3bs%20the%20time%20to%20upgrade%20to%20newest%20Django%20and%20Channels.%0aAccording%20this%20upgrade%20guide%2c%20Channels%202%20is%20a%20fully%20rewritten%2c%20lots%20of%20things%20has%20changed.%20This%20post%20is%20just%20a%20record%20about%20the%20upgrade%20I%26%2339%3bve%20done." aria-label=Tumblr><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwdicc.com%2fdjango-channels2%2f&t=Django%20Channels2" aria-label="Hacker News"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu-toggle class=icon href=# onclick='return $("#nav-footer").toggle(),!1' aria-label=Menu><i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=share-toggle class=icon href=# onclick='return $("#share-footer").toggle(),!1' aria-label=Share><i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2024 wd and cc</div><div class=footer-right><nav><ul><li><a href=/>Home</a></li><li><a href=/posts>Posts</a></li><li><a href=/tags>Tags</a></li><li><a href="https://www.google.com.hk/search?sitesearch=https%3A%2F%2Fwdicc.com%2F&amp;q=">Search</a></li><li><a href=/atom.xml>Subscribe</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script><script src=/js/main.js></script><script src=/js/code-copy.js></script></html>