<!doctype html><html>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge"><title>我來編譯 nVidia 顯卡驅動zz - wd and cc</title><link rel=icon type=image/png href=/favicon.ico><meta name=viewport content="width=device-width,initial-scale=1">
<meta property="og:title" content="我來編譯 nVidia 顯卡驅動zz">
<meta property="og:description" content="
＜我來編譯 nVidia 顯卡驅動＞
原文来自(但不是直译)：http://home.comcast.net/~andrex/Debian-nVidia/

nVidia 顯卡驅動程式是中兩個部份組成： 一是系統核心模塊(kernle module)，二是用戶層的庫(user-space libraries)。
用戶層的庫是不開源的，也叫(GLX庫），由nVidia廠商直接發佈的己編譯包。 核心模塊是以源碼形式（內仍有一個己編譯組件），在Debian下的包是 nvidia-kernel-source 和 nvidia-kernel-common。 兩個包都只是要安裝一次就可以了，而核心模塊就要在每次你重建或更改系統核心時重新編譯。

主要有以下三個步驟：

1。 編譯及安裝 nVidia的核心模塊
2。 安裝用戶層庫
3。 更新你的系統配置

">
<meta property="og:type" content="article">
<meta property="og:url" content="https://wdicc.com/compile-nvidia-driver/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2005-04-19T00:00:00+00:00">
<meta property="article:modified_time" content="2005-04-19T00:00:00+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="我來編譯 nVidia 顯卡驅動zz">
<meta name=twitter:description content="
＜我來編譯 nVidia 顯卡驅動＞
原文来自(但不是直译)：http://home.comcast.net/~andrex/Debian-nVidia/

nVidia 顯卡驅動程式是中兩個部份組成： 一是系統核心模塊(kernle module)，二是用戶層的庫(user-space libraries)。
用戶層的庫是不開源的，也叫(GLX庫），由nVidia廠商直接發佈的己編譯包。 核心模塊是以源碼形式（內仍有一個己編譯組件），在Debian下的包是 nvidia-kernel-source 和 nvidia-kernel-common。 兩個包都只是要安裝一次就可以了，而核心模塊就要在每次你重建或更改系統核心時重新編譯。

主要有以下三個步驟：

1。 編譯及安裝 nVidia的核心模塊
2。 安裝用戶層庫
3。 更新你的系統配置

">
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel=stylesheet>
<link rel=stylesheet type=text/css media=screen href=https://wdicc.com/css/normalize.css>
<link rel=stylesheet type=text/css media=screen href=https://wdicc.com/css/main.css>
<link rel=stylesheet type=text/css href=https://wdicc.com//light-syntax.css media="(prefers-color-scheme: light)"><link rel=stylesheet type=text/css href=https://wdicc.com/css/dark.css media="(prefers-color-scheme: dark)">
<link rel=stylesheet type=text/css href=https://wdicc.com//dark-syntax.css media="(prefers-color-scheme: dark)">
<script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script>
<script src=https://wdicc.com/js/main.js></script>
</head>
<body>
<div class="container wrapper post">
<div class=header>
<h1 class=site-title><a href=https://wdicc.com/>wd and cc</a></h1>
<div class=site-description><h2>&mdash; Happy every day</h2><nav class="nav social">
<ul class=flat><a href=https://github.com/wd title=Github><i data-feather=github></i></a><a href=https://twitter.com/wdicc1413 title=Twitter><i data-feather=twitter></i></a></ul>
</nav>
</div>
<nav class=nav>
<ul class=flat>
<li>
<a href=/>Home</a>
</li>
<li>
<a href=/post>All posts</a>
</li>
<li>
<a href=/tags>Tags</a>
</li>
<li>
<a href="https://www.google.com.hk/search?sitesearch=https%3A%2F%2Fwdicc.com%2F&q=">Search</a>
</li>
<li>
<a href=/atom.xml>Subscribe</a>
</li>
</ul>
</nav>
</div>
<div class=post-header>
<h1 class=title>我來編譯 nVidia 顯卡驅動zz</h1>
<div class=meta>Posted at &mdash; Apr 19, 2005</div>
</div>
<div class=post-header>
</div>
<div class=markdown>
*因為我安裝的是 kernel 2.6.8-2-686-smp，但沒有這個核心的nVidia驅動，所以我自己來！*<br>
步驟0： 準備編譯環境<br>
=================<br>
Code.0.1 安裝系統核心版本的庫頭文件包<br>
# apt-get install kernel-headers-$KVERS<br>
Code.0.2 當source還是sarge的時候安裝debian的打包工具<br>
# apt-get install debconf-utils debhelper dpatch gettext html2text intltool-debian po-debconf<br>
步驟1： 編譯及安裝 nVidia的核心模塊<br>
=================<br>
Code.1.1 設置一些方便的環境參數<br>
# export KVERS=$(uname -r)<br>
# export KSRC=/usr/src/kernel-headers-$KVERS<br>
* 改source為unstable，再更新<br>
Code.1.2 安裝nVidia 顯卡驅動程式系統核心模塊包<br>
# apt-get install nvidia-kernel-source nvidia-kernel-common<br>
這樣便會在/usr/src內找到剛安裝的模塊包<br>
Code.1.3 解包<br>
# cd /usr/src<br>
# tar -zxf nvidia-kernel-source.tar.gz<br>
Code.1.4 重建（編譯）模組<br>
# cd /usr/src/modules/nvidia-kernel<br>
# debian/rules binary_modules<br>
好！完成編譯，編譯完的debian包可以在/usr/src/modules/(或/usr/src/ ??)內找到。<br>
Code.1.5 把編譯完成的驅動包安裝到系統<br>
# dpkg -i /usr/src/modules/nvidia-kernel-*.deb<br>
*如果你有多於一個nvidia-kernel包在這目錄下，就要指明用哪個包啦！<br>
步驟2：安裝用戶層庫<br>
=================<br>
* 改source回來為sarge，再更新<br>
Code.2.1 安裝nVidia的用戶層庫<br>
# apt-get install nvidia-glx<br>
步驟3： 更新系統配置<br>
=================<br>
Code.3.1 修改 X 伺服器配置，看下方引用<br>
# nano -w /etc/X11/XF86Config-4<br>
Code.3.2 重要/etc/X11/XF86Config-4更改部份<br>
...Module Section<br>
Load "glx"<br>
#Load "dri"<br>
#Load "GLCore"<br>
...Device Section<br>
Driver "nvidia" #本來都是 "nv"或"vesa"吧？<br>
Code. 把nvidia列入系統自動載入的模塊配置列表吧。<br>
# grep -q ^nvidia /etc/modules ||echo nvidia>>/etc/modules<br>
引用网址：http://linux.hiweed.com/node/1843<br>
</div>
<div class=post-tags>
</div>
<div id=disqus_thread></div>
<script type=text/javascript>(function(){var a,b;if(window.location.hostname=="localhost")return;a=document.createElement('script'),a.type='text/javascript',a.async=!0,b='wdicc',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by
Disqus.</a></noscript>
<a href=http://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</div>
<div class="footer wrapper">
<nav class=nav>
<div> Copyright © 2020 wd. All Rights Reserved | <a href=https://github.com/vividvilla/ezhil>Ezhil theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div>
</nav>
</div>
<script>feather.replace()</script>
</body>
</html>