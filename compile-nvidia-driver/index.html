<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,viewport-fit=cover,initial-scale=1"><title>我來編譯 nVidia 顯卡驅動zz | wd and cc</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><header><nav><ul><li class=pull-left><a href=https://wdicc.com/>/home/wd and cc</a></li><li class=pull-left><a href=/tags/>~/tags</a></li><li class=pull-left><a href="https://www.google.com.hk/search?sitesearch=https%3A%2F%2Fwdicc.com%2F&q=">~/search</a></li><li class=pull-right><a href=/atom.xml>~/subscribe</a></li></ul></nav></header></head><body><br><div class=article-meta><h1><span class=title>我來編譯 nVidia 顯卡驅動zz</span></h1><h2 class=date>2005/04/19</h2><p class=terms></p></div><main>*因為我安裝的是 kernel 2.6.8-2-686-smp，但沒有這個核心的nVidia驅動，所以我自己來！*<br>步驟0： 準備編譯環境<br>=================<br>Code.0.1 安裝系統核心版本的庫頭文件包<br># apt-get install kernel-headers-$KVERS<br>Code.0.2 當source還是sarge的時候安裝debian的打包工具<br># apt-get install debconf-utils debhelper dpatch gettext html2text intltool-debian po-debconf<br>步驟1： 編譯及安裝 nVidia的核心模塊<br>=================<br>Code.1.1 設置一些方便的環境參數<br># export KVERS=$(uname -r)<br># export KSRC=/usr/src/kernel-headers-$KVERS<br>* 改source為unstable，再更新<br>Code.1.2 安裝nVidia 顯卡驅動程式系統核心模塊包<br># apt-get install nvidia-kernel-source nvidia-kernel-common<br>這樣便會在/usr/src內找到剛安裝的模塊包<br>Code.1.3 解包<br># cd /usr/src<br># tar -zxf nvidia-kernel-source.tar.gz<br>Code.1.4 重建（編譯）模組<br># cd /usr/src/modules/nvidia-kernel<br># debian/rules binary_modules<br>好！完成編譯，編譯完的debian包可以在/usr/src/modules/(或/usr/src/ ??)內找到。<br>Code.1.5 把編譯完成的驅動包安裝到系統<br># dpkg -i /usr/src/modules/nvidia-kernel-*.deb<br>*如果你有多於一個nvidia-kernel包在這目錄下，就要指明用哪個包啦！<br>步驟2：安裝用戶層庫<br>=================<br>* 改source回來為sarge，再更新<br>Code.2.1 安裝nVidia的用戶層庫<br># apt-get install nvidia-glx<br>步驟3： 更新系統配置<br>=================<br>Code.3.1 修改 X 伺服器配置，看下方引用<br># nano -w /etc/X11/XF86Config-4<br>Code.3.2 重要/etc/X11/XF86Config-4更改部份<br>...Module Section<br>Load "glx"<br>#Load "dri"<br>#Load "GLCore"<br>...Device Section<br>Driver "nvidia" #本來都是 "nv"或"vesa"吧？<br>Code. 把nvidia列入系統自動載入的模塊配置列表吧。<br># grep -q ^nvidia /etc/modules ||echo nvidia>>/etc/modules<br>引用网址：http://linux.hiweed.com/node/1843<br></main><section id=comment><h2 class=title>Comments</h2><div id=disqus_thread aria-live=polite><noscript>Please enable JavaScript to view the <a href=//disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></section><script type=text/javascript>var disqus_config=function(){this.page.url='';this.page.identifier='';};(function(){var d=document,s=d.createElement('script');s.src='//wdicc.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><footer style=clear:both><hr>Theme from <a href=https://github.com/wd/hugo-classic>hugo-classic</a> fork from <a href=https://github.com/goodroot/hugo-classic>Github</a></footer></body></html>