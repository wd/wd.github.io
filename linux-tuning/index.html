<!doctype html><html lang=en><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://wdicc.com/favicon.ico><title>linux tuning | wd and cc</title><meta name=title content="linux tuning"><meta name=description content="地址 http://www.enigma.id.au/linux_tuning.txt


# server with a decent amount of memory.
#
# This file should be saved as /etc/sysctl.conf
# You can source it manually if your system has booted by using:
# sysctl -e -p /etc/sysctl.conf
#
# Paul Day, paul (at) bur.st
#
# Last updated 02/03/05 and tested on 2.6.9
#

# Increase RPC slots
sunrpc.tcp_slot_table_entries = 32
sunrpc.udp_slot_table_entries = 32
# Increase size of RPC datagram queue length
net.unix.max_dgram_qlen = 50
# Log spoofed, source routed and redirects
net.ipv4.conf.default.log_martians = 1
# Don't accept source routes
net.ipv4.conf.default.accept_source_route = 0
# Don't send redirects
net.ipv4.conf.default.send_redirects = 0
# Source route verification on - incoming packets must match outgoing routing
net.ipv4.conf.default.rp_filter = 1
# Don't accept redirects
net.ipv4.conf.default.accept_redirects = 0
# Don't forward source routes
net.ipv4.conf.default.mc_forwarding = 0
# Disable forwarding 
net.ipv4.conf.default.forwarding = 0
# Log spoofed, source routed and redirects
net.ipv4.conf.all.log_martians = 1
# Don't relay bootp
net.ipv4.conf.all.bootp_relay = 0
# Don't proxy arp for anyone
net.ipv4.conf.all.proxy_arp = 0
# Don't accept source route packets
net.ipv4.conf.all.accept_source_route = 0
# Don't send redirects
net.ipv4.conf.all.send_redirects = 0
# Source route verification on - incoming packets must match outgoing routing
net.ipv4.conf.all.rp_filter = 1
# Don't accept redirects
net.ipv4.conf.all.accept_redirects = 0
# Don't forward source routes
net.ipv4.conf.all.mc_forwarding = 0
# Don't enable forwarding
net.ipv4.conf.all.forwarding = 0
# Don't allow the arp table to become bigger than this
net.ipv4.neigh.default.gc_thresh3 = 2048
# Tell the gc when to become aggressive with arp table cleaning.
# Adjust this based on size of the LAN. 256 is suitable for most
net.ipv4.neigh.default.gc_thresh2 = 1024
# Adjust where the gc will leave arp table alone - set to 32.
net.ipv4.neigh.default.gc_thresh1 = 32
# Adjust to arp table gc to clean-up more often
net.ipv4.neigh.default.gc_interval = 30
# Increase TCP
net.ipv4.neigh.default.proxy_qlen = 96
net.ipv4.neigh.default.unres_qlen = 6
# Increase size of socket buffers
net.ipv4.tcp_rmem = 4096	98304	349520
net.ipv4.tcp_wmem = 4096	65535	262142
net.ipv4.tcp_mem = 98304	262142	393216
# Turn off sack
net.ipv4.tcp_dsack = 0
# Don't use ECN because too many sites have wacky routers that can't handle it`
net.ipv4.tcp_ecn = 0
net.ipv4.tcp_reordering = 3
# Turn off sack/fack
net.ipv4.tcp_fack = 0
# Enable bad error message Protection
net.ipv4.icmp_ignore_bogus_error_responses = 1
# Ignore broadcasts pings, could become part of a Smurf
net.ipv4.icmp_echo_ignore_broadcasts = 1
# But don't ignore directed pings
net.ipv4.icmp_echo_ignore_all = 0
# Widen local port range
net.ipv4.ip_local_port_range = 33000	60000
# Bump up TCP socket queuer to help with syn floods
net.ipv4.tcp_max_syn_backlog = 2048
# Turn syn-cookie protection on
net.ipv4.tcp_syncookies = 1
# Drop it so lack of FIN times out quicker
net.ipv4.tcp_fin_timeout = 30
# How many times to retry killing an alive TCP connection
net.ipv4.tcp_retries2 = 15
net.ipv4.tcp_retries1 = 3
# Enable a fix for RFC1337 - time-wait assassination hazards in TCP
net.ipv4.tcp_rfc1337 = 1
# Drop keep-alive time
net.ipv4.tcp_keepalive_time = 3600
# Set number of times to retry a SYN-ACK in a half-open new connections
net.ipv4.tcp_synack_retries = 5
# Set number of times to retry SYN in a new connection
net.ipv4.tcp_syn_retries = 5
# Turn off sack
net.ipv4.tcp_sack = 0
# Enable really big (>65kB) TCP window scaling if we want it.
net.ipv4.tcp_window_scaling = 1
# Turn off timestamps
# Turn this back on if you're on a gigabit or very busy network
# Having it off is one less thing the IP stack needs to work on
net.ipv4.tcp_timestamps = 0
# Increase number of incoming connections backlog
net.core.somaxconn = 512
# Bump optmem_max up
net.core.optmem_max = 20480
# Increase number of incoming connections backlog
net.core.netdev_max_backlog = 1024
net.core.dev_weight = 64
# Bump up default r/wmem to max
net.core.rmem_default = 262141
net.core.wmem_default = 262141
# Bump up max r/wmem
net.core.rmem_max = 262141
net.core.wmem_max = 262141
# Increase size of file handles and inode cache
fs.file-max = 209708

Powered by ScribeFire."><meta name=keywords content="bash,kernel,linux,other,tuning,"><meta property="og:url" content="https://wdicc.com/linux-tuning/"><meta property="og:site_name" content="wd and cc"><meta property="og:title" content="linux tuning"><meta property="og:description" content="地址 http://www.enigma.id.au/linux_tuning.txt
# server with a decent amount of memory. # # This file should be saved as /etc/sysctl.conf # You can source it manually if your system has booted by using: # sysctl -e -p /etc/sysctl.conf # # Paul Day, paul (at) bur.st # # Last updated 02/03/05 and tested on 2.6.9 # # Increase RPC slots sunrpc.tcp_slot_table_entries = 32 sunrpc.udp_slot_table_entries = 32 # Increase size of RPC datagram queue length net.unix.max_dgram_qlen = 50 # Log spoofed, source routed and redirects net.ipv4.conf.default.log_martians = 1 # Don't accept source routes net.ipv4.conf.default.accept_source_route = 0 # Don't send redirects net.ipv4.conf.default.send_redirects = 0 # Source route verification on - incoming packets must match outgoing routing net.ipv4.conf.default.rp_filter = 1 # Don't accept redirects net.ipv4.conf.default.accept_redirects = 0 # Don't forward source routes net.ipv4.conf.default.mc_forwarding = 0 # Disable forwarding net.ipv4.conf.default.forwarding = 0 # Log spoofed, source routed and redirects net.ipv4.conf.all.log_martians = 1 # Don't relay bootp net.ipv4.conf.all.bootp_relay = 0 # Don't proxy arp for anyone net.ipv4.conf.all.proxy_arp = 0 # Don't accept source route packets net.ipv4.conf.all.accept_source_route = 0 # Don't send redirects net.ipv4.conf.all.send_redirects = 0 # Source route verification on - incoming packets must match outgoing routing net.ipv4.conf.all.rp_filter = 1 # Don't accept redirects net.ipv4.conf.all.accept_redirects = 0 # Don't forward source routes net.ipv4.conf.all.mc_forwarding = 0 # Don't enable forwarding net.ipv4.conf.all.forwarding = 0 # Don't allow the arp table to become bigger than this net.ipv4.neigh.default.gc_thresh3 = 2048 # Tell the gc when to become aggressive with arp table cleaning. # Adjust this based on size of the LAN. 256 is suitable for most net.ipv4.neigh.default.gc_thresh2 = 1024 # Adjust where the gc will leave arp table alone - set to 32. net.ipv4.neigh.default.gc_thresh1 = 32 # Adjust to arp table gc to clean-up more often net.ipv4.neigh.default.gc_interval = 30 # Increase TCP net.ipv4.neigh.default.proxy_qlen = 96 net.ipv4.neigh.default.unres_qlen = 6 # Increase size of socket buffers net.ipv4.tcp_rmem = 4096	98304	349520 net.ipv4.tcp_wmem = 4096	65535	262142 net.ipv4.tcp_mem = 98304	262142	393216 # Turn off sack net.ipv4.tcp_dsack = 0 # Don't use ECN because too many sites have wacky routers that can't handle it` net.ipv4.tcp_ecn = 0 net.ipv4.tcp_reordering = 3 # Turn off sack/fack net.ipv4.tcp_fack = 0 # Enable bad error message Protection net.ipv4.icmp_ignore_bogus_error_responses = 1 # Ignore broadcasts pings, could become part of a Smurf net.ipv4.icmp_echo_ignore_broadcasts = 1 # But don't ignore directed pings net.ipv4.icmp_echo_ignore_all = 0 # Widen local port range net.ipv4.ip_local_port_range = 33000	60000 # Bump up TCP socket queuer to help with syn floods net.ipv4.tcp_max_syn_backlog = 2048 # Turn syn-cookie protection on net.ipv4.tcp_syncookies = 1 # Drop it so lack of FIN times out quicker net.ipv4.tcp_fin_timeout = 30 # How many times to retry killing an alive TCP connection net.ipv4.tcp_retries2 = 15 net.ipv4.tcp_retries1 = 3 # Enable a fix for RFC1337 - time-wait assassination hazards in TCP net.ipv4.tcp_rfc1337 = 1 # Drop keep-alive time net.ipv4.tcp_keepalive_time = 3600 # Set number of times to retry a SYN-ACK in a half-open new connections net.ipv4.tcp_synack_retries = 5 # Set number of times to retry SYN in a new connection net.ipv4.tcp_syn_retries = 5 # Turn off sack net.ipv4.tcp_sack = 0 # Enable really big (>65kB) TCP window scaling if we want it. net.ipv4.tcp_window_scaling = 1 # Turn off timestamps # Turn this back on if you're on a gigabit or very busy network # Having it off is one less thing the IP stack needs to work on net.ipv4.tcp_timestamps = 0 # Increase number of incoming connections backlog net.core.somaxconn = 512 # Bump optmem_max up net.core.optmem_max = 20480 # Increase number of incoming connections backlog net.core.netdev_max_backlog = 1024 net.core.dev_weight = 64 # Bump up default r/wmem to max net.core.rmem_default = 262141 net.core.wmem_default = 262141 # Bump up max r/wmem net.core.rmem_max = 262141 net.core.wmem_max = 262141 # Increase size of file handles and inode cache fs.file-max = 209708 Powered by ScribeFire."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2007-06-04T00:00:00+00:00"><meta property="article:modified_time" content="2007-06-04T00:00:00+00:00"><meta property="article:tag" content="Bash"><meta property="article:tag" content="Kernel"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Other"><meta property="article:tag" content="Tuning"><meta name=twitter:card content="summary"><meta name=twitter:title content="linux tuning"><meta name=twitter:description content="地址 http://www.enigma.id.au/linux_tuning.txt
# server with a decent amount of memory. # # This file should be saved as /etc/sysctl.conf # You can source it manually if your system has booted by using: # sysctl -e -p /etc/sysctl.conf # # Paul Day, paul (at) bur.st # # Last updated 02/03/05 and tested on 2.6.9 # # Increase RPC slots sunrpc.tcp_slot_table_entries = 32 sunrpc.udp_slot_table_entries = 32 # Increase size of RPC datagram queue length net.unix.max_dgram_qlen = 50 # Log spoofed, source routed and redirects net.ipv4.conf.default.log_martians = 1 # Don't accept source routes net.ipv4.conf.default.accept_source_route = 0 # Don't send redirects net.ipv4.conf.default.send_redirects = 0 # Source route verification on - incoming packets must match outgoing routing net.ipv4.conf.default.rp_filter = 1 # Don't accept redirects net.ipv4.conf.default.accept_redirects = 0 # Don't forward source routes net.ipv4.conf.default.mc_forwarding = 0 # Disable forwarding net.ipv4.conf.default.forwarding = 0 # Log spoofed, source routed and redirects net.ipv4.conf.all.log_martians = 1 # Don't relay bootp net.ipv4.conf.all.bootp_relay = 0 # Don't proxy arp for anyone net.ipv4.conf.all.proxy_arp = 0 # Don't accept source route packets net.ipv4.conf.all.accept_source_route = 0 # Don't send redirects net.ipv4.conf.all.send_redirects = 0 # Source route verification on - incoming packets must match outgoing routing net.ipv4.conf.all.rp_filter = 1 # Don't accept redirects net.ipv4.conf.all.accept_redirects = 0 # Don't forward source routes net.ipv4.conf.all.mc_forwarding = 0 # Don't enable forwarding net.ipv4.conf.all.forwarding = 0 # Don't allow the arp table to become bigger than this net.ipv4.neigh.default.gc_thresh3 = 2048 # Tell the gc when to become aggressive with arp table cleaning. # Adjust this based on size of the LAN. 256 is suitable for most net.ipv4.neigh.default.gc_thresh2 = 1024 # Adjust where the gc will leave arp table alone - set to 32. net.ipv4.neigh.default.gc_thresh1 = 32 # Adjust to arp table gc to clean-up more often net.ipv4.neigh.default.gc_interval = 30 # Increase TCP net.ipv4.neigh.default.proxy_qlen = 96 net.ipv4.neigh.default.unres_qlen = 6 # Increase size of socket buffers net.ipv4.tcp_rmem = 4096	98304	349520 net.ipv4.tcp_wmem = 4096	65535	262142 net.ipv4.tcp_mem = 98304	262142	393216 # Turn off sack net.ipv4.tcp_dsack = 0 # Don't use ECN because too many sites have wacky routers that can't handle it` net.ipv4.tcp_ecn = 0 net.ipv4.tcp_reordering = 3 # Turn off sack/fack net.ipv4.tcp_fack = 0 # Enable bad error message Protection net.ipv4.icmp_ignore_bogus_error_responses = 1 # Ignore broadcasts pings, could become part of a Smurf net.ipv4.icmp_echo_ignore_broadcasts = 1 # But don't ignore directed pings net.ipv4.icmp_echo_ignore_all = 0 # Widen local port range net.ipv4.ip_local_port_range = 33000	60000 # Bump up TCP socket queuer to help with syn floods net.ipv4.tcp_max_syn_backlog = 2048 # Turn syn-cookie protection on net.ipv4.tcp_syncookies = 1 # Drop it so lack of FIN times out quicker net.ipv4.tcp_fin_timeout = 30 # How many times to retry killing an alive TCP connection net.ipv4.tcp_retries2 = 15 net.ipv4.tcp_retries1 = 3 # Enable a fix for RFC1337 - time-wait assassination hazards in TCP net.ipv4.tcp_rfc1337 = 1 # Drop keep-alive time net.ipv4.tcp_keepalive_time = 3600 # Set number of times to retry a SYN-ACK in a half-open new connections net.ipv4.tcp_synack_retries = 5 # Set number of times to retry SYN in a new connection net.ipv4.tcp_syn_retries = 5 # Turn off sack net.ipv4.tcp_sack = 0 # Enable really big (>65kB) TCP window scaling if we want it. net.ipv4.tcp_window_scaling = 1 # Turn off timestamps # Turn this back on if you're on a gigabit or very busy network # Having it off is one less thing the IP stack needs to work on net.ipv4.tcp_timestamps = 0 # Increase number of incoming connections backlog net.core.somaxconn = 512 # Bump optmem_max up net.core.optmem_max = 20480 # Increase number of incoming connections backlog net.core.netdev_max_backlog = 1024 net.core.dev_weight = 64 # Bump up default r/wmem to max net.core.rmem_default = 262141 net.core.wmem_default = 262141 # Bump up max r/wmem net.core.rmem_max = 262141 net.core.wmem_max = 262141 # Increase size of file handles and inode cache fs.file-max = 209708 Powered by ScribeFire."><meta itemprop=name content="linux tuning"><meta itemprop=description content="地址 http://www.enigma.id.au/linux_tuning.txt
# server with a decent amount of memory. # # This file should be saved as /etc/sysctl.conf # You can source it manually if your system has booted by using: # sysctl -e -p /etc/sysctl.conf # # Paul Day, paul (at) bur.st # # Last updated 02/03/05 and tested on 2.6.9 # # Increase RPC slots sunrpc.tcp_slot_table_entries = 32 sunrpc.udp_slot_table_entries = 32 # Increase size of RPC datagram queue length net.unix.max_dgram_qlen = 50 # Log spoofed, source routed and redirects net.ipv4.conf.default.log_martians = 1 # Don't accept source routes net.ipv4.conf.default.accept_source_route = 0 # Don't send redirects net.ipv4.conf.default.send_redirects = 0 # Source route verification on - incoming packets must match outgoing routing net.ipv4.conf.default.rp_filter = 1 # Don't accept redirects net.ipv4.conf.default.accept_redirects = 0 # Don't forward source routes net.ipv4.conf.default.mc_forwarding = 0 # Disable forwarding net.ipv4.conf.default.forwarding = 0 # Log spoofed, source routed and redirects net.ipv4.conf.all.log_martians = 1 # Don't relay bootp net.ipv4.conf.all.bootp_relay = 0 # Don't proxy arp for anyone net.ipv4.conf.all.proxy_arp = 0 # Don't accept source route packets net.ipv4.conf.all.accept_source_route = 0 # Don't send redirects net.ipv4.conf.all.send_redirects = 0 # Source route verification on - incoming packets must match outgoing routing net.ipv4.conf.all.rp_filter = 1 # Don't accept redirects net.ipv4.conf.all.accept_redirects = 0 # Don't forward source routes net.ipv4.conf.all.mc_forwarding = 0 # Don't enable forwarding net.ipv4.conf.all.forwarding = 0 # Don't allow the arp table to become bigger than this net.ipv4.neigh.default.gc_thresh3 = 2048 # Tell the gc when to become aggressive with arp table cleaning. # Adjust this based on size of the LAN. 256 is suitable for most net.ipv4.neigh.default.gc_thresh2 = 1024 # Adjust where the gc will leave arp table alone - set to 32. net.ipv4.neigh.default.gc_thresh1 = 32 # Adjust to arp table gc to clean-up more often net.ipv4.neigh.default.gc_interval = 30 # Increase TCP net.ipv4.neigh.default.proxy_qlen = 96 net.ipv4.neigh.default.unres_qlen = 6 # Increase size of socket buffers net.ipv4.tcp_rmem = 4096	98304	349520 net.ipv4.tcp_wmem = 4096	65535	262142 net.ipv4.tcp_mem = 98304	262142	393216 # Turn off sack net.ipv4.tcp_dsack = 0 # Don't use ECN because too many sites have wacky routers that can't handle it` net.ipv4.tcp_ecn = 0 net.ipv4.tcp_reordering = 3 # Turn off sack/fack net.ipv4.tcp_fack = 0 # Enable bad error message Protection net.ipv4.icmp_ignore_bogus_error_responses = 1 # Ignore broadcasts pings, could become part of a Smurf net.ipv4.icmp_echo_ignore_broadcasts = 1 # But don't ignore directed pings net.ipv4.icmp_echo_ignore_all = 0 # Widen local port range net.ipv4.ip_local_port_range = 33000	60000 # Bump up TCP socket queuer to help with syn floods net.ipv4.tcp_max_syn_backlog = 2048 # Turn syn-cookie protection on net.ipv4.tcp_syncookies = 1 # Drop it so lack of FIN times out quicker net.ipv4.tcp_fin_timeout = 30 # How many times to retry killing an alive TCP connection net.ipv4.tcp_retries2 = 15 net.ipv4.tcp_retries1 = 3 # Enable a fix for RFC1337 - time-wait assassination hazards in TCP net.ipv4.tcp_rfc1337 = 1 # Drop keep-alive time net.ipv4.tcp_keepalive_time = 3600 # Set number of times to retry a SYN-ACK in a half-open new connections net.ipv4.tcp_synack_retries = 5 # Set number of times to retry SYN in a new connection net.ipv4.tcp_syn_retries = 5 # Turn off sack net.ipv4.tcp_sack = 0 # Enable really big (>65kB) TCP window scaling if we want it. net.ipv4.tcp_window_scaling = 1 # Turn off timestamps # Turn this back on if you're on a gigabit or very busy network # Having it off is one less thing the IP stack needs to work on net.ipv4.tcp_timestamps = 0 # Increase number of incoming connections backlog net.core.somaxconn = 512 # Bump optmem_max up net.core.optmem_max = 20480 # Increase number of incoming connections backlog net.core.netdev_max_backlog = 1024 net.core.dev_weight = 64 # Bump up default r/wmem to max net.core.rmem_default = 262141 net.core.wmem_default = 262141 # Bump up max r/wmem net.core.rmem_max = 262141 net.core.wmem_max = 262141 # Increase size of file handles and inode cache fs.file-max = 209708 Powered by ScribeFire."><meta itemprop=datePublished content="2007-06-04T00:00:00+00:00"><meta itemprop=dateModified content="2007-06-04T00:00:00+00:00"><meta itemprop=wordCount content="627"><meta itemprop=keywords content="Bash,Kernel,Linux,Other,Tuning"><meta name=referrer content="no-referrer-when-downgrade"><style>:root{--width:720px;--font-main:Verdana, sans-serif;--font-secondary:Verdana, sans-serif;--font-scale:1em;--background-color:#fff;--heading-color:#222;--text-color:#444;--link-color:#3273dc;--visited-color:#8b6fcb;--code-background-color:#f2f2f2;--code-color:#222;--blockquote-color:#222}@media(prefers-color-scheme:dark){:root{--background-color:#01242e;--heading-color:#eee;--text-color:#ddd;--link-color:#8cc2dd;--visited-color:#8b6fcb;--code-background-color:#000;--code-color:#ddd;--blockquote-color:#ccc}}body{font-family:var(--font-secondary);font-size:var(--font-scale);margin:auto;padding:20px;max-width:var(--width);text-align:left;background-color:var(--background-color);word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:var(--text-color)}h1,h2,h3,h4,h5,h6{font-family:var(--font-main);color:var(--heading-color)}a{color:var(--link-color);cursor:pointer;text-decoration:none}a:hover{text-decoration:underline}nav a{margin-right:8px}strong,b{color:var(--heading-color)}button{margin:0;cursor:pointer}time{font-family:monospace;font-style:normal;font-size:15px}main{line-height:1.6}table{width:100%}hr{border:0;border-top:1px dashed}img{max-width:100%}code{font-family:monospace;padding:2px;background-color:var(--code-background-color);color:var(--code-color);border-radius:3px}blockquote{border-left:1px solid #999;color:var(--code-color);padding-left:20px;font-style:italic}footer{padding:25px 0;text-align:center}.title:hover{text-decoration:none}.title h1{font-size:1.5em}.inline{width:auto!important}.highlight,.code{padding:1px 15px;background-color:var(--code-background-color);color:var(--code-color);border-radius:3px;margin-block-start:1em;margin-block-end:1em;overflow-x:auto}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:var(--visited-color)}</style></head><body><header><a href=/ class=title><h2>wd and cc</h2></a><p>-- Good good study, day day up!</p><nav><a href=/>Home</a>
<a href=/posts/>Posts</a>
<a href="https://www.google.com.hk/search?sitesearch=https%3A%2F%2Fwdicc.com%2F&amp;q=">Search</a>
<a href=/tags/>Tags</a>
<a href=/atom.xml>subscribe</a></nav></header><main><content>地址 <a href=http://www.enigma.id.au/linux_tuning.txt>http://www.enigma.id.au/linux_tuning.txt</a><br><pre class="prettyprint lang-bash">
# server with a decent amount of memory.
#
# This file should be saved as /etc/sysctl.conf
# You can source it manually if your system has booted by using:
# sysctl -e -p /etc/sysctl.conf
#
# Paul Day, paul (at) bur.st
#
# Last updated 02/03/05 and tested on 2.6.9
#

# Increase RPC slots
sunrpc.tcp_slot_table_entries = 32
sunrpc.udp_slot_table_entries = 32
# Increase size of RPC datagram queue length
net.unix.max_dgram_qlen = 50
# Log spoofed, source routed and redirects
net.ipv4.conf.default.log_martians = 1
# Don't accept source routes
net.ipv4.conf.default.accept_source_route = 0
# Don't send redirects
net.ipv4.conf.default.send_redirects = 0
# Source route verification on - incoming packets must match outgoing routing
net.ipv4.conf.default.rp_filter = 1
# Don't accept redirects
net.ipv4.conf.default.accept_redirects = 0
# Don't forward source routes
net.ipv4.conf.default.mc_forwarding = 0
# Disable forwarding 
net.ipv4.conf.default.forwarding = 0
# Log spoofed, source routed and redirects
net.ipv4.conf.all.log_martians = 1
# Don't relay bootp
net.ipv4.conf.all.bootp_relay = 0
# Don't proxy arp for anyone
net.ipv4.conf.all.proxy_arp = 0
# Don't accept source route packets
net.ipv4.conf.all.accept_source_route = 0
# Don't send redirects
net.ipv4.conf.all.send_redirects = 0
# Source route verification on - incoming packets must match outgoing routing
net.ipv4.conf.all.rp_filter = 1
# Don't accept redirects
net.ipv4.conf.all.accept_redirects = 0
# Don't forward source routes
net.ipv4.conf.all.mc_forwarding = 0
# Don't enable forwarding
net.ipv4.conf.all.forwarding = 0
# Don't allow the arp table to become bigger than this
net.ipv4.neigh.default.gc_thresh3 = 2048
# Tell the gc when to become aggressive with arp table cleaning.
# Adjust this based on size of the LAN. 256 is suitable for most
net.ipv4.neigh.default.gc_thresh2 = 1024
# Adjust where the gc will leave arp table alone - set to 32.
net.ipv4.neigh.default.gc_thresh1 = 32
# Adjust to arp table gc to clean-up more often
net.ipv4.neigh.default.gc_interval = 30
# Increase TCP
net.ipv4.neigh.default.proxy_qlen = 96
net.ipv4.neigh.default.unres_qlen = 6
# Increase size of socket buffers
net.ipv4.tcp_rmem = 4096	98304	349520
net.ipv4.tcp_wmem = 4096	65535	262142
net.ipv4.tcp_mem = 98304	262142	393216
# Turn off sack
net.ipv4.tcp_dsack = 0
# Don't use ECN because too many sites have wacky routers that can't handle it`
net.ipv4.tcp_ecn = 0
net.ipv4.tcp_reordering = 3
# Turn off sack/fack
net.ipv4.tcp_fack = 0
# Enable bad error message Protection
net.ipv4.icmp_ignore_bogus_error_responses = 1
# Ignore broadcasts pings, could become part of a Smurf
net.ipv4.icmp_echo_ignore_broadcasts = 1
# But don't ignore directed pings
net.ipv4.icmp_echo_ignore_all = 0
# Widen local port range
net.ipv4.ip_local_port_range = 33000	60000
# Bump up TCP socket queuer to help with syn floods
net.ipv4.tcp_max_syn_backlog = 2048
# Turn syn-cookie protection on
net.ipv4.tcp_syncookies = 1
# Drop it so lack of FIN times out quicker
net.ipv4.tcp_fin_timeout = 30
# How many times to retry killing an alive TCP connection
net.ipv4.tcp_retries2 = 15
net.ipv4.tcp_retries1 = 3
# Enable a fix for RFC1337 - time-wait assassination hazards in TCP
net.ipv4.tcp_rfc1337 = 1
# Drop keep-alive time
net.ipv4.tcp_keepalive_time = 3600
# Set number of times to retry a SYN-ACK in a half-open new connections
net.ipv4.tcp_synack_retries = 5
# Set number of times to retry SYN in a new connection
net.ipv4.tcp_syn_retries = 5
# Turn off sack
net.ipv4.tcp_sack = 0
# Enable really big (>65kB) TCP window scaling if we want it.
net.ipv4.tcp_window_scaling = 1
# Turn off timestamps
# Turn this back on if you're on a gigabit or very busy network
# Having it off is one less thing the IP stack needs to work on
net.ipv4.tcp_timestamps = 0
# Increase number of incoming connections backlog
net.core.somaxconn = 512
# Bump optmem_max up
net.core.optmem_max = 20480
# Increase number of incoming connections backlog
net.core.netdev_max_backlog = 1024
net.core.dev_weight = 64
# Bump up default r/wmem to max
net.core.rmem_default = 262141
net.core.wmem_default = 262141
# Bump up max r/wmem
net.core.rmem_max = 262141
net.core.wmem_max = 262141
# Increase size of file handles and inode cache
fs.file-max = 209708</pre><p class=poweredbyperformancing>Powered by <a href=http://scribefire.com/>ScribeFire</a>.</p></content><div><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//wdicc.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></main><footer>Made with <a href=https://github.com/janraasch/hugo-bearblog/>Hugo ʕ•ᴥ•ʔ Bear</a></footer></body></html>