<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on wd and cc</title><link>https://wdicc.com/posts/</link><description>Recent content in Posts on wd and cc</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Sat, 29 Oct 2022 17:58:39 +0800</lastBuildDate><atom:link href="https://wdicc.com/posts/atom.xml" rel="self" type="application/rss+xml"/><item><title>Use Kubeconform to Validate Manifests Locally</title><link>https://wdicc.com/use-kubeconform-to-validate-manifests-locally/</link><pubDate>Sat, 29 Oct 2022 17:58:39 +0800</pubDate><guid>https://wdicc.com/use-kubeconform-to-validate-manifests-locally/</guid><description>kubeconform is a tool that allows us to validate Kubernetes manifests.
Retrieve open API specification from Kubernetes Use this command to retrieve the open API specifications from Kubernetes.
k get --raw &amp;#39;/openapi/v2&amp;#39; &amp;gt; /tmp/specs.json Generate JSON schema file Use openapi2jsonschema to generate the JSON schemas.
$ python openapi2jsonschema/command.py -o /tmp/json-schemas/v1.</description></item><item><title>Webhooks in Kubernetes</title><link>https://wdicc.com/webhooks-in-kubernetes/</link><pubDate>Sun, 28 Aug 2022 09:38:59 +0800</pubDate><guid>https://wdicc.com/webhooks-in-kubernetes/</guid><description>Kubernetes allows us to hook on API request chain to do some specific checks or modifies.
Kubernetes API access control There are two types of control. One is to control which user(token, group) is allowed to access, the other one is to control which resource a user could access. The kube-apiserver has two arguments to allow users to define that.</description></item><item><title>Debugging Iptables</title><link>https://wdicc.com/debugging-iptables/</link><pubDate>Fri, 15 Apr 2022 14:30:46 +0800</pubDate><guid>https://wdicc.com/debugging-iptables/</guid><description>iptables 是个很有用的工具。可以可以方便的操纵包的走向，作为 ops 不可避免的需要了解如何 debug 一些问题。 首先肯定是需</description></item><item><title>妞妞再见</title><link>https://wdicc.com/bye-niuniu/</link><pubDate>Wed, 30 Mar 2022 18:35:22 +0800</pubDate><guid>https://wdicc.com/bye-niuniu/</guid><description>妞妞是我和老婆养的一只猫，前几天永远的离开了我们。享年将近 19 岁，算是大龄猫了。她比毛毛还大一岁，不过</description></item><item><title>Year in Review 2021</title><link>https://wdicc.com/year-in-review-2021/</link><pubDate>Mon, 03 Jan 2022 15:08:31 +0800</pubDate><guid>https://wdicc.com/year-in-review-2021/</guid><description>2021 年结束了，照例来总结下。 Family 幼幼越长越大了，1 岁生日的时候带着去了一趟澳门，那是唯一一个算是出国又不</description></item><item><title>Expand Yourself</title><link>https://wdicc.com/expand-yourself/</link><pubDate>Sun, 26 Dec 2021 11:09:15 +0800</pubDate><guid>https://wdicc.com/expand-yourself/</guid><description>刚开始工作的时候，一个常见的话题就是自己遇到领导或者老板好不好。什么是好领导或者好老板呢？平时什么都</description></item><item><title>Add Monitor Graphs to Openwrt</title><link>https://wdicc.com/add-monitor-graphs-to-openwrt/</link><pubDate>Sat, 11 Dec 2021 19:38:12 +0800</pubDate><guid>https://wdicc.com/add-monitor-graphs-to-openwrt/</guid><description>According to the docs here https://openwrt.org/docs/guide-user/luci/luci_app_statistics, OpenWrt supports us using the Collectd to collect metrics and the Rrdtool draw the graph later.
Install opkg update opkg install luci-app-statistics We can run the command opkg list | grep collectd-mod to see what mertics we can collect. I have installed these modules</description></item><item><title>DNS Request in Alpine Image</title><link>https://wdicc.com/dns-request-in-alpine-image/</link><pubDate>Thu, 25 Nov 2021 20:15:39 +0800</pubDate><guid>https://wdicc.com/dns-request-in-alpine-image/</guid><description>Alpine 镜像可以带来很小的镜像体积，所以大家比较热衷于使用这个镜像做基础镜像。但是实际上因为一些系统库是阉</description></item><item><title>Setup Policy Route on Openwrt X86 With Wireguard</title><link>https://wdicc.com/setup-policy-route-on-openwrt-x86-with-wireguard/</link><pubDate>Sat, 06 Nov 2021 15:07:32 +0800</pubDate><guid>https://wdicc.com/setup-policy-route-on-openwrt-x86-with-wireguard/</guid><description>刷系统 选择 image，我用的是 x86_64 的硬件。如果你不确定，可以选择 generic 的试试看，如果你能用 64 的，启动的时候</description></item><item><title>An Incomplete List of Skills Senior Engineers Need Beyond Coding</title><link>https://wdicc.com/an-incomplete-list-of-skills-senior-engineers-need-beyond-coding/</link><pubDate>Sat, 25 Sep 2021 17:37:11 +0800</pubDate><guid>https://wdicc.com/an-incomplete-list-of-skills-senior-engineers-need-beyond-coding/</guid><description>看到一篇文章，An incomplete list of skills senior engineers need, beyond coding, 感觉挺有意思，本来想要翻译的，结果发现已经有人翻译了，直接贴这里</description></item><item><title>Limit and Request in Kubernetes</title><link>https://wdicc.com/limit-and-request-in-kubernetes/</link><pubDate>Sun, 01 Aug 2021 17:28:00 +0800</pubDate><guid>https://wdicc.com/limit-and-request-in-kubernetes/</guid><description>程序跑在 K8s 里面的时候，特别要注意的是设置正确的 Request 和 limit。其中 Request 是 guaranteed 的资源是下限，如果节点上面不</description></item><item><title>Local Persistent Volume vs HostPath</title><link>https://wdicc.com/local-persist-volume-vs-hostpath/</link><pubDate>Sun, 28 Feb 2021 14:52:23 +0800</pubDate><guid>https://wdicc.com/local-persist-volume-vs-hostpath/</guid><description>Kubernetes 可以用 Local persistent volume 来使用本机的磁盘。那和 hostPath volume 有啥区别呢？ 这篇文档有说明，大致翻译下。 一般来说 Persistent volume 都是通过</description></item><item><title>Upgrade Yourself</title><link>https://wdicc.com/upgrade-yourself/</link><pubDate>Sun, 21 Feb 2021 10:37:37 +0800</pubDate><guid>https://wdicc.com/upgrade-yourself/</guid><description>前几年一直在做管理，之前写过一篇成长。最近开始做独立开发者，感觉可能前面忽视了一些东西。这里补充总结</description></item><item><title>HTTPS SNI Host and Envoy</title><link>https://wdicc.com/https-sni-host-and-envoy/</link><pubDate>Sun, 14 Feb 2021 19:24:36 +0800</pubDate><guid>https://wdicc.com/https-sni-host-and-envoy/</guid><description>TLS handshake TLS 握手之前需要先 TCP 三次握手，之后就是正式的 Client hello, Server hello, Cert key exchange 等等正常的 TLS 握手动作了。这期间会决定使用</description></item><item><title>Year in Review 2020</title><link>https://wdicc.com/year-in-review-2020/</link><pubDate>Mon, 04 Jan 2021 19:27:00 +0800</pubDate><guid>https://wdicc.com/year-in-review-2020/</guid><description>2020 ends with the pandemic. WFH is the new normal. Many thanks to my company, I was staying at home for most of last year. Family My daughter was born last year. Here name is Yoyo. Thanks for the WFH, that I could stay with her most of the time.</description></item><item><title>How to Write a Git Commit Message</title><link>https://wdicc.com/how-to-write-a-git-commit-message/</link><pubDate>Fri, 01 Jan 2021 09:44:57 +0800</pubDate><guid>https://wdicc.com/how-to-write-a-git-commit-message/</guid><description>原文这里: https://chris.beams.io/posts/git-commit/, 只记录下关键内容。 The seven rules of a great Git commit message 举个例子： Summarize changes in around 50 characters or less More detailed explanatory text, if necessary. Wrap it to about 72 characters or</description></item><item><title>English Learning</title><link>https://wdicc.com/english-learning/</link><pubDate>Sat, 26 Dec 2020 17:48:51 +0800</pubDate><guid>https://wdicc.com/english-learning/</guid><description>我大概算是从 2019 年中开始算是比较多的花了一些时间在英语学习上面，标志是开始认真的去背单词了。在此之前顶</description></item><item><title>Kustomize Plugins</title><link>https://wdicc.com/kustomize-plugins/</link><pubDate>Sat, 12 Sep 2020 02:35:02 +0800</pubDate><guid>https://wdicc.com/kustomize-plugins/</guid><description>Kustomize support us to write plugins by using python, shell scripts, or any language that can create executables in your system. Here is the doc.
There are two types of plugins, generators and transformers. Both of the plugin executable will receive the definition for it as arg[1]. And for transformers, it will receive all the other resource definitions also, so you can do transform works.</description></item><item><title>Using Cert-manager + rout53 With Kiam</title><link>https://wdicc.com/use-certmanager-with-kiam/</link><pubDate>Thu, 10 Sep 2020 10:59:41 +0800</pubDate><guid>https://wdicc.com/use-certmanager-with-kiam/</guid><description>As described here: https://cert-manager.io/docs/configuration/acme/dns01/route53/#set-up-an-iam-role, First you need to create a role, for example `dns-manager`.
{ &amp;#34;Version&amp;#34;: &amp;#34;2012-10-17&amp;#34;, &amp;#34;Statement&amp;#34;: [ { &amp;#34;Effect&amp;#34;: &amp;#34;Allow&amp;#34;, &amp;#34;Action&amp;#34;: &amp;#34;route53:GetChange&amp;#34;, &amp;#34;Resource&amp;#34;: &amp;#34;arn:aws:route53:::change/*&amp;#34; }, { &amp;#34;Effect&amp;#34;: &amp;#34;Allow&amp;#34;, &amp;#34;Action&amp;#34;: [ &amp;#34;route53:ChangeResourceRecordSets&amp;#34;, &amp;#34;route53:ListResourceRecordSets&amp;#34; ], &amp;#34;Resource&amp;#34;: &amp;#34;arn:aws:route53:::hostedzone/*&amp;#34; }, { &amp;#34;Effect&amp;#34;: &amp;#34;Allow&amp;#34;, &amp;#34;Action&amp;#34;: &amp;#34;route53:ListHostedZonesByName&amp;#34;, &amp;#34;Resource&amp;#34;: &amp;#34;*&amp;#34; } ] } You can replace the * in arn:aws:route53:::hostedzone/* with a specific zone id.</description></item><item><title>Use Ansible Synchronize Module to Sync Files Include Templates</title><link>https://wdicc.com/use-ansible-synchronize-module-to-sync-files-include-templates/</link><pubDate>Mon, 27 Jul 2020 16:34:23 +0800</pubDate><guid>https://wdicc.com/use-ansible-synchronize-module-to-sync-files-include-templates/</guid><description>Inspired by this post, I finally find the way to sync a directory include template files to remote.
Put you files in {{ role_path }}/files/, if you need to put in another directory, please replace all the role_path variable.
- name: &amp;#34;Create temporary directory&amp;#34; local_action: tempfile state=directory register: temp_file_path - name: &amp;#34;Find j2 files&amp;#34; local_action: module: find paths: &amp;#34;{{ role_path }}/files/&amp;#34; patterns: &amp;#34;*.</description></item><item><title>Use Datadog to Monitor Your Cluster Build by Rke</title><link>https://wdicc.com/use-datadog-to-monitor-your-cluster-build-by-rke/</link><pubDate>Mon, 27 Jul 2020 15:47:33 +0800</pubDate><guid>https://wdicc.com/use-datadog-to-monitor-your-cluster-build-by-rke/</guid><description>There are many tools you can choose when you want to build your kubernetes cluster, we use Rancher Kubernetes Engine (RKE) to build our kubernetes cluster.
We run datadog as daemonset in our cluster, and datadog has auto discovery feature to discovery pods/containers need to check. When we deployed a redis database, datadog will notice that and run checks against the redis pods, we didn&amp;#39;t need to do any configurations.</description></item><item><title>Use Certbot Docker to Manage Certs</title><link>https://wdicc.com/use-certbot-docker-to-manage-certs/</link><pubDate>Sun, 19 Jul 2020 16:58:03 +0800</pubDate><guid>https://wdicc.com/use-certbot-docker-to-manage-certs/</guid><description>I think everyone knows Let&amp;#39;s Encrypt these days. I use letsencrypt for some of my personal services.
I was using the system shipped certs at the beginning, and using systemd jobs to auto renew the certs. I was using the HTTP-01 challenge mode at first, and using the certbot standalone mode to achieve that.</description></item><item><title>To Be a Terraform Expert</title><link>https://wdicc.com/to-be-a-terraform-expert/</link><pubDate>Tue, 30 Jun 2020 17:17:34 +0800</pubDate><guid>https://wdicc.com/to-be-a-terraform-expert/</guid><description>I was using AWS before I join the current company, but I don&amp;#39;t even know terraform before I interview with the current company. I got hit by Terraform at first, it&amp;#39;s really hard to deal with states.
Use -target with plan command to collaborate When you work with your colleagues with same terraform project, sometimes they maybe need to apply some changes that haven&amp;#39;t merged yet for testing, when you run the plan command, you will find that terraform want to destroy his resources.</description></item><item><title>Transparent Proxys</title><link>https://wdicc.com/transparent-proxys/</link><pubDate>Mon, 29 Jun 2020 17:21:26 +0800</pubDate><guid>https://wdicc.com/transparent-proxys/</guid><description>这次说说透明代理。所谓透明代理指的是用户无感知的情况下（也就是不需要对自己的电脑手机做任何设置，运行</description></item><item><title>10 Most Common Mistakes Using Kubernetes</title><link>https://wdicc.com/10-most-common-mistakes-using-kubernetes/</link><pubDate>Sun, 24 May 2020 09:45:20 +0800</pubDate><guid>https://wdicc.com/10-most-common-mistakes-using-kubernetes/</guid><description>翻译自 10 most common mistakes using kubernetes resources - requests and limits 这个绝对值得一开始就讲。 CPU 限制通常都是 not set（没设置）或者 set very low（</description></item><item><title>RBAC in Kubernetes</title><link>https://wdicc.com/rbac-in-kubernetes/</link><pubDate>Mon, 18 May 2020 17:14:58 +0800</pubDate><guid>https://wdicc.com/rbac-in-kubernetes/</guid><description>How to give a pod the access to run kubectl to create pods or configmaps? It&amp;#39;s very simple.
Every pods has to bind to a service account, it will be default, if you haven&amp;#39;t specify one. And by default, this account didn&amp;#39;t have any access to the kubernetes API.
First, create a service account.</description></item><item><title>Dont Need Kubernates</title><link>https://wdicc.com/dont-need-kubernates/</link><pubDate>Sat, 07 Mar 2020 09:58:33 +0800</pubDate><guid>https://wdicc.com/dont-need-kubernates/</guid><description>翻译自 “Let’s use Kubernetes!” Now you have 8 problems ，这个东西和所谓什么中台，微服务类似，小公司弄</description></item><item><title>Book Review of Kubernates in Action</title><link>https://wdicc.com/book-review-of-kubernates-in-action/</link><pubDate>Thu, 05 Mar 2020 16:02:50 +0800</pubDate><guid>https://wdicc.com/book-review-of-kubernates-in-action/</guid><description>这几天看了一下 Kubernates in action 这本书，看的是中文版本。把自己觉得有用的记录一下。 怎么决定一个 pod 里面包含多少容器</description></item><item><title>Interview Is a Two Way Choise</title><link>https://wdicc.com/interview-is-a-two-way-choise/</link><pubDate>Tue, 25 Feb 2020 14:51:49 +0800</pubDate><guid>https://wdicc.com/interview-is-a-two-way-choise/</guid><description>最近看到一些人贴面试经历，我觉得可以适当总结一下，结论是：面试就是一个双向选择，对方不选你不一定是因</description></item><item><title>Google Python Style Guide</title><link>https://wdicc.com/google-python-style-guide/</link><pubDate>Sun, 02 Feb 2020 16:20:21 +0800</pubDate><guid>https://wdicc.com/google-python-style-guide/</guid><description>来自这里。翻译的目的是为了方便快速理解，所以没有太纠结很准确，最好是和英文对应看。 1 Background Google 的 python 代码风格</description></item></channel></rss>