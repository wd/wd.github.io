<!doctype html><html lang=en><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://wdicc.com/favicon.ico><title>Kustomize Plugins | wd and cc</title><meta name=title content="Kustomize Plugins"><meta name=description content="Kustomize support us to write plugins by using python, shell scripts, or any language that can create executables in your system. Here is the doc.

There are two types of plugins, generators and transformers. Both of the plugin executable will receive the definition for it as arg[1]. And for transformers, it will receive all the other resource definitions also, so you can do transform works.

The apiVersion in the plugin definition yaml file determines the location of the executable. So if you set it to apiVersion: wd/v1 , then kustomize will try to find the plugin at these places:

(''; homed in $KUSTOMIZE_PLUGIN_HOME)
('kustomize/plugin'; homed in $XDG_CONFIG_HOME)
('Users/wd.config/kustomize/plugin'; homed in default value of $XDG_CONFIG_HOME)
('/Users/wd/kustomize/plugin'; homed in home directory)

You can put your plugin at these directories. For me, I'd like to put it in (pwd)/kustomize/plugin/, and then run kustomize XDG_CONFIG_HOME=$(pwd) kustomize build --enable_alpha_plugins apps/base/nginx/ ."><meta name=keywords content="kustomize,k8s,"><meta property="og:url" content="https://wdicc.com/kustomize-plugins/"><meta property="og:site_name" content="wd and cc"><meta property="og:title" content="Kustomize Plugins"><meta property="og:description" content="Kustomize support us to write plugins by using python, shell scripts, or any language that can create executables in your system. Here is the doc.
There are two types of plugins, generators and transformers. Both of the plugin executable will receive the definition for it as arg[1]. And for transformers, it will receive all the other resource definitions also, so you can do transform works.
The apiVersion in the plugin definition yaml file determines the location of the executable. So if you set it to apiVersion: wd/v1 , then kustomize will try to find the plugin at these places:
(''; homed in $KUSTOMIZE_PLUGIN_HOME) ('kustomize/plugin'; homed in $XDG_CONFIG_HOME) ('Users/wd.config/kustomize/plugin'; homed in default value of $XDG_CONFIG_HOME) ('/Users/wd/kustomize/plugin'; homed in home directory) You can put your plugin at these directories. For me, I'd like to put it in (pwd)/kustomize/plugin/, and then run kustomize XDG_CONFIG_HOME=$(pwd) kustomize build --enable_alpha_plugins apps/base/nginx/ ."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-09-12T02:35:02+08:00"><meta property="article:modified_time" content="2020-09-12T02:35:02+08:00"><meta property="article:tag" content="Kustomize"><meta property="article:tag" content="K8s"><meta name=twitter:card content="summary"><meta name=twitter:title content="Kustomize Plugins"><meta name=twitter:description content="Kustomize support us to write plugins by using python, shell scripts, or any language that can create executables in your system. Here is the doc.
There are two types of plugins, generators and transformers. Both of the plugin executable will receive the definition for it as arg[1]. And for transformers, it will receive all the other resource definitions also, so you can do transform works.
The apiVersion in the plugin definition yaml file determines the location of the executable. So if you set it to apiVersion: wd/v1 , then kustomize will try to find the plugin at these places:
(''; homed in $KUSTOMIZE_PLUGIN_HOME) ('kustomize/plugin'; homed in $XDG_CONFIG_HOME) ('Users/wd.config/kustomize/plugin'; homed in default value of $XDG_CONFIG_HOME) ('/Users/wd/kustomize/plugin'; homed in home directory) You can put your plugin at these directories. For me, I'd like to put it in (pwd)/kustomize/plugin/, and then run kustomize XDG_CONFIG_HOME=$(pwd) kustomize build --enable_alpha_plugins apps/base/nginx/ ."><meta itemprop=name content="Kustomize Plugins"><meta itemprop=description content="Kustomize support us to write plugins by using python, shell scripts, or any language that can create executables in your system. Here is the doc.
There are two types of plugins, generators and transformers. Both of the plugin executable will receive the definition for it as arg[1]. And for transformers, it will receive all the other resource definitions also, so you can do transform works.
The apiVersion in the plugin definition yaml file determines the location of the executable. So if you set it to apiVersion: wd/v1 , then kustomize will try to find the plugin at these places:
(''; homed in $KUSTOMIZE_PLUGIN_HOME) ('kustomize/plugin'; homed in $XDG_CONFIG_HOME) ('Users/wd.config/kustomize/plugin'; homed in default value of $XDG_CONFIG_HOME) ('/Users/wd/kustomize/plugin'; homed in home directory) You can put your plugin at these directories. For me, I'd like to put it in (pwd)/kustomize/plugin/, and then run kustomize XDG_CONFIG_HOME=$(pwd) kustomize build --enable_alpha_plugins apps/base/nginx/ ."><meta itemprop=datePublished content="2020-09-12T02:35:02+08:00"><meta itemprop=dateModified content="2020-09-12T02:35:02+08:00"><meta itemprop=wordCount content="146"><meta itemprop=keywords content="Kustomize,K8s"><meta name=referrer content="no-referrer-when-downgrade"><style>:root{--width:720px;--font-main:Verdana, sans-serif;--font-secondary:Verdana, sans-serif;--font-scale:1em;--background-color:#fff;--heading-color:#222;--text-color:#444;--link-color:#3273dc;--visited-color:#8b6fcb;--code-background-color:#f2f2f2;--code-color:#222;--blockquote-color:#222}@media(prefers-color-scheme:dark){:root{--background-color:#01242e;--heading-color:#eee;--text-color:#ddd;--link-color:#8cc2dd;--visited-color:#8b6fcb;--code-background-color:#000;--code-color:#ddd;--blockquote-color:#ccc}}body{font-family:var(--font-secondary);font-size:var(--font-scale);margin:auto;padding:20px;max-width:var(--width);text-align:left;background-color:var(--background-color);word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:var(--text-color)}h1,h2,h3,h4,h5,h6{font-family:var(--font-main);color:var(--heading-color)}a{color:var(--link-color);cursor:pointer;text-decoration:none}a:hover{text-decoration:underline}nav a{margin-right:8px}strong,b{color:var(--heading-color)}button{margin:0;cursor:pointer}time{font-family:monospace;font-style:normal;font-size:15px}main{line-height:1.6}table{width:100%}hr{border:0;border-top:1px dashed}img{max-width:100%}code{font-family:monospace;padding:2px;background-color:var(--code-background-color);color:var(--code-color);border-radius:3px}blockquote{border-left:1px solid #999;color:var(--code-color);padding-left:20px;font-style:italic}footer{padding:25px 0;text-align:center}.title:hover{text-decoration:none}.title h1{font-size:1.5em}.inline{width:auto!important}.highlight,.code{padding:1px 15px;background-color:var(--code-background-color);color:var(--code-color);border-radius:3px;margin-block-start:1em;margin-block-end:1em;overflow-x:auto}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:var(--visited-color)}</style></head><body><header><a href=/ class=title><h2>wd and cc</h2></a><p>-- Good good study, day day up!</p><nav><a href=/>Home</a>
<a href=/posts/>Posts</a>
<a href="https://www.google.com.hk/search?sitesearch=https%3A%2F%2Fwdicc.com%2F&amp;q=">Search</a>
<a href=/tags/>Tags</a>
<a href=/atom.xml>subscribe</a></nav></header><main><h1>Kustomize Plugins</h1><p><i><time datetime=2020-09-12>12 Sep, 2020
</time></i><a href=https://wdicc.com/tags/kustomize/>#Kustomize</a>
<a href=https://wdicc.com/tags/k8s/>#K8s</a></p><content><p>Kustomize support us to write plugins by using python, shell scripts, or any language that can create executables in your system. Here is the <a href=https://kubernetes-sigs.github.io/kustomize/guides/plugins/execpluginguidedexample/>doc</a>.</p><p>There are two types of plugins, generators and transformers. Both of the plugin executable will receive the definition for it as arg[1]. And for transformers, it will receive all the other resource definitions also, so you can do transform works.</p><p>The <code class=verbatim>apiVersion</code> in the plugin definition yaml file determines the location of the executable. So if you set it to <code class=verbatim>apiVersion: wd/v1</code> , then kustomize will try to find the plugin at these places:</p><ul><li>(''; homed in $KUSTOMIZE_PLUGIN_HOME)</li><li>('kustomize/plugin'; homed in $XDG_CONFIG_HOME)</li><li>('<em>Users/wd</em>.config/kustomize/plugin'; homed in default value of $XDG_CONFIG_HOME)</li><li>('/Users/wd/kustomize/plugin'; homed in home directory)</li></ul><p>You can put your plugin at these directories. For me, I'd like to put it in <code class=verbatim>(pwd)/kustomize/plugin/</code>, and then run kustomize <code class=verbatim>XDG_CONFIG_HOME=$(pwd) kustomize build --enable_alpha_plugins apps/base/nginx/</code> .</p></content><div><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//wdicc.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></main><footer>Made with <a href=https://github.com/janraasch/hugo-bearblog/>Hugo ʕ•ᴥ•ʔ Bear</a></footer></body></html>