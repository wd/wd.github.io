<!doctype html><html>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge"><title>Kustomize Plugins - wd and cc</title><link rel=icon type=image/png href=/favicon.ico><meta name=viewport content="width=device-width,initial-scale=1">
<meta property="og:title" content="Kustomize Plugins">
<meta property="og:description" content="Kustomize support us to write plugins by using python, shell scripts, or any language that can create executables in your system. Here is the doc.
 There are two types of plugins, generators and transformers. Both of the plugin executable will receive the definition for it as arg[1]. And for transformers, it will receive all the other resource definitions also, so you can do transform works.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://wdicc.com/kustomize-plugins/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2020-09-12T02:35:02+08:00">
<meta property="article:modified_time" content="2020-09-12T02:35:02+08:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Kustomize Plugins">
<meta name=twitter:description content="Kustomize support us to write plugins by using python, shell scripts, or any language that can create executables in your system. Here is the doc.
 There are two types of plugins, generators and transformers. Both of the plugin executable will receive the definition for it as arg[1]. And for transformers, it will receive all the other resource definitions also, so you can do transform works.">
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel=stylesheet>
<link rel=stylesheet type=text/css media=screen href=https://wdicc.com/css/normalize.css>
<link rel=stylesheet type=text/css media=screen href=https://wdicc.com/css/main.css>
<link rel=stylesheet type=text/css href=https://wdicc.com//light-syntax.css media="(prefers-color-scheme: light)"><link rel=stylesheet type=text/css href=https://wdicc.com/css/dark.css media="(prefers-color-scheme: dark)">
<link rel=stylesheet type=text/css href=https://wdicc.com//dark-syntax.css media="(prefers-color-scheme: dark)">
<script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script>
<script src=https://wdicc.com/js/main.js></script>
</head>
<body>
<div class="container wrapper post">
<div class=header>
<h1 class=site-title><a href=https://wdicc.com/>wd and cc</a></h1>
<div class=site-description><h2>&mdash; Happy every day</h2><nav class="nav social">
<ul class=flat><a href=https://github.com/wd title=Github><i data-feather=github></i></a><a href=https://twitter.com/wdicc1413 title=Twitter><i data-feather=twitter></i></a></ul>
</nav>
</div>
<nav class=nav>
<ul class=flat>
<li>
<a href=/>Home</a>
</li>
<li>
<a href=/post>All posts</a>
</li>
<li>
<a href=/tags>Tags</a>
</li>
<li>
<a href="https://www.google.com.hk/search?sitesearch=https%3A%2F%2Fwdicc.com%2F&q=">Search</a>
</li>
<li>
<a href=/atom.xml>Subscribe</a>
</li>
</ul>
</nav>
</div>
<div class=post-header>
<h1 class=title>Kustomize Plugins</h1>
<div class=meta>Posted at &mdash; Sep 12, 2020</div>
</div>
<div class=post-header>
</div>
<div class=markdown>
<p>Kustomize support us to write plugins by using python, shell scripts, or any language that can create executables in your system. Here is the <a href=https://kubernetes-sigs.github.io/kustomize/guides/plugins/execpluginguidedexample/>doc</a>.</p>
<p>
There are two types of plugins, generators and transformers. Both of the plugin executable will receive the definition for it as arg[1]. And for transformers, it will receive all the other resource definitions also, so you can do transform works.</p>
<p>
The <code class=verbatim>apiVersion</code> in the plugin definition yaml file determines the location of the executable. So if you set it to <code class=verbatim>apiVersion: wd/v1</code> , then kustomize will try to find the plugin at these places:</p>
<ul>
<li>
<p>(''; homed in $KUSTOMIZE_PLUGIN_HOME)</p>
</li>
<li>
<p>('kustomize/plugin'; homed in $XDG_CONFIG_HOME)</p>
</li>
<li>
<p>('<em>Users/wd</em>.config/kustomize/plugin'; homed in default value of $XDG_CONFIG_HOME)</p>
</li>
<li>
<p>('/Users/wd/kustomize/plugin'; homed in home directory)</p>
</li>
</ul>
<p>You can put your plugin at these directories. For me, I'd like to put it in <code class=verbatim>(pwd)/kustomize/plugin/</code>, and then run kustomize <code class=verbatim>XDG_CONFIG_HOME=$(pwd) kustomize build --enable_alpha_plugins apps/base/nginx/</code> .</p>
</div>
<div class=post-tags>
<nav class="nav tags">
<ul class=flat>
<li><a href=/tags/kustomize>kustomize</a></li>
<li><a href=/tags/k8s>k8s</a></li>
</ul>
</nav>
</div>
<div id=disqus_thread></div>
<script type=text/javascript>(function(){var a,b;if(window.location.hostname=="localhost")return;a=document.createElement('script'),a.type='text/javascript',a.async=!0,b='wdicc',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by
Disqus.</a></noscript>
<a href=http://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</div>
<div class="footer wrapper">
<nav class=nav>
<div> Copyright Â© 2020 wd. All Rights Reserved | <a href=https://github.com/vividvilla/ezhil>Ezhil theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div>
</nav>
</div>
<script>feather.replace()</script>
</body>
</html>