<!doctype html><html><head><meta name=generator content="Hugo 0.80.0"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>wd and cc - --- Happy every day</title><link rel=icon type=image/png href=/favicon.ico><meta name=viewport content="width=device-width,initial-scale=1"><link rel=alternate type=application/rss+xml href=https://wdicc.com/atom.xml title="wd and cc"><meta property="og:title" content="Home"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://wdicc.com/amp/"><meta property="og:updated_time" content="2021-01-01T09:44:57+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Home"><meta name=twitter:description content><link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://wdicc.com/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://wdicc.com/css/main.css><link rel=stylesheet type=text/css href=https://wdicc.com//light-syntax.css media="(prefers-color-scheme: light)"><link rel=stylesheet type=text/css href=https://wdicc.com/css/dark.css media="(prefers-color-scheme: dark)"><link rel=stylesheet type=text/css href=https://wdicc.com//dark-syntax.css media="(prefers-color-scheme: dark)"><script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script><script src=https://wdicc.com/js/main.js></script></head><body><div class="container wrapper"><div class=header><base href=https://wdicc.com/><h1 class=site-title><a href=https://wdicc.com/>wd and cc</a></h1><div class=site-description><h2>&mdash; Happy every day</h2><nav class="nav social"><ul class=flat><a href=https://github.com/wd title=Github><i data-feather=github></i></a><a href=https://twitter.com/wd title=Twitter><i data-feather=twitter></i></a></ul></nav></div><nav class=nav><ul class=flat><li><a href=/>Home</a></li><li><a href=/post>All posts</a></li><li><a href=/tags>Tags</a></li><li><a href="https://www.google.com.hk/search?sitesearch=https%3A%2F%2Fwdicc.com%2F&q=">Search</a></li><li><a href=/atom.xml>Subscribe</a></li></ul></nav></div><h2 id=who-am-i>Who am I</h2><p>My name is Dong Wang, and I am a software engineer for about twenty years, write python, javascript, java now. I have used perl, lua, ruby and lots of other programing languages for what can make my work done. Programing languages is just tools, I&rsquo;m not being fascinated by anyone of it.</p><p>I&rsquo;m also a database administrator for PostgreSQL, which I think is the best database application now. So you maybe found some articles of PostgreSQL or databases.</p><h2 id=about-this-site>About this site</h2><p>This is my personal blog, to collect and record some things I thought and learned. I&rsquo;m trying to learn English now, I wrote done these things in English, wish this can be to make some help to improve my English.</p><p>WD is my name&rsquo;s initials, it&rsquo;s also West Digital&rsquo;s abbrevation. This is very annoying, since lots of people find me to solve hard disk problems on twitter. SAD&mldr;</p><p>CC is my wife&rsquo;s nickname, which pronounce is cici, like her given name. I have suggested her to change CC to Cici, since there is no vowel letters in the name, people can&rsquo;t sounds it, but she didn&rsquo;t agree&mldr; oh, okay&mldr; I found my nickname is at the same situations, I think I will not change it too &mldr; :)</p><div class="recent-posts section"><h2 class=section-header>Recent posts</h2><div class=posts><div class=post><div class=meta>Jan 1, 2021</div><a class=title href=/amp/how-to-write-a-git-commit-message/>How to Write a Git Commit Message</a> &mdash;
<span class=description>原文这里: https://chris.beams.io/posts/git-commit/, 只记录下关键内容。 The seven rules of a great Git commit message 举个例子： Summarize changes in around 50 characters or less More detailed explanatory text, if necessary. Wrap it to about 72 characters or&mldr;</span></div><div class=post><div class=meta>Dec 26, 2020</div><a class=title href=/amp/english-learning/>English Learning</a> &mdash;
<span class=description>我大概算是从 2019 年中开始算是比较多的花了一些时间在英语学习上面，标志是开始认真的去背单词了。在此之前顶&mldr;</span></div><div class=post><div class=meta>Sep 12, 2020</div><a class=title href=/amp/kustomize-plugins/>Kustomize Plugins</a> &mdash;
<span class=description>Kustomize support us to write plugins by using python, shell scripts, or any language that can create executables in your system. Here is the doc.
There are two types of plugins, generators and transformers. Both of the plugin executable will receive the definition for it as arg[1]. And for transformers, it will receive all the other resource definitions also, so you can do transform works.&mldr;</span></div><div class=post><div class=meta>Sep 10, 2020</div><a class=title href=/amp/use-certmanager-with-kiam/>Using Cert-manager + rout53 With Kiam</a> &mdash;
<span class=description>As described here: https://cert-manager.io/docs/configuration/acme/dns01/route53/#set-up-an-iam-role, First you need to create a role, for example `dns-manager`.
{ "Version": "2012-10-17", "Statement": [ { "Effect": "Allow", "Action": "route53:GetChange", "Resource": "arn:aws:route53:::change/*" }, { "Effect": "Allow", "Action": [ "route53:ChangeResourceRecordSets", "route53:ListResourceRecordSets" ], "Resource": "arn:aws:route53:::hostedzone/*" }, { "Effect": "Allow", "Action": "route53:ListHostedZonesByName", "Resource": "*" } ] } You can replace the * in arn:aws:route53:::hostedzone/* with a specific zone id.&mldr;</span></div><div class=post><div class=meta>Jul 27, 2020</div><a class=title href=/amp/use-ansible-synchronize-module-to-sync-files-include-templates/>Use Ansible Synchronize Module to Sync Files Include Templates</a> &mdash;
<span class=description>Inspired by this post, I finally find the way to sync a directory include template files to remote.
Put you files in {{ role_path }}/files/, if you need to put in another directory, please replace all the role_path variable.
- name:"Create temporary directory"local_action:tempfile state=directoryregister:temp_file_path- name:"Find j2 files"local_action:module:findpaths:"{{ role_path }}/files/"patterns:"*.j2"file_type:fileuse_regex:norecurse:yesregister:files_j2- name:"Find normal files"local_action:module:findpaths:"{{ role_path }}/files/"excludes:"*.&mldr;</span></div><div class=post><div class=meta>Jul 27, 2020</div><a class=title href=/amp/use-datadog-to-monitor-your-cluster-build-by-rke/>Use Datadog to Monitor Your Cluster Build by Rke</a> &mdash;
<span class=description>There are many tools you can choose when you want to build your kubernetes cluster, we use Rancher Kubernetes Engine (RKE) to build our kubernetes cluster.
We run datadog as daemonset in our cluster, and datadog has auto discovery feature to discovery pods/containers need to check. When we deployed a redis database, datadog will notice that and run checks against the redis pods, we didn't need to do any configurations.&mldr;</span></div><div class=post><div class=meta>Jul 19, 2020</div><a class=title href=/amp/use-certbot-docker-to-manage-certs/>Use Certbot Docker to Manage Certs</a> &mdash;
<span class=description>I think everyone knows Let's Encrypt these days. I use letsencrypt for some of my personal services.
I was using the system shipped certs at the beginning, and using systemd jobs to auto renew the certs. I was using the HTTP-01 challenge mode at first, and using the certbot standalone mode to achieve that.&mldr;</span></div><div class=post><div class=meta>Jun 30, 2020</div><a class=title href=/amp/to-be-a-terraform-expert/>To Be a Terraform Expert</a> &mdash;
<span class=description>I was using AWS before I join the current company, but I don't even know terraform before I interview with the current company. I got hit by Terraform at first, it's really hard to deal with states.
Use -target with plan command to collaborate When you work with your colleagues with same terraform project, sometimes they maybe need to apply some changes that haven't merged yet for testing, when you run the plan command, you will find that terraform want to destroy his resources.&mldr;</span></div><div class=post><div class=meta>Jun 29, 2020</div><a class=title href=/amp/transparent-proxys/>Transparent Proxys</a> &mdash;
<span class=description>这次说说透明代理。所谓透明代理指的是用户无感知的情况下（也就是不需要对自己的电脑手机做任何设置，运行&mldr;</span></div><div class=post><div class=meta>May 24, 2020</div><a class=title href=/amp/10-most-common-mistakes-using-kubernetes/>10 Most Common Mistakes Using Kubernetes</a> &mdash;
<span class=description>翻译自 10 most common mistakes using kubernetes resources - requests and limits 这个绝对值得一开始就讲。 CPU 限制通常都是 not set（没设置）或者 set very low（&mldr;</span></div><div class=post><div class=meta>May 18, 2020</div><a class=title href=/amp/rbac-in-kubernetes/>RBAC in Kubernetes</a> &mdash;
<span class=description>How to give a pod the access to run kubectl to create pods or configmaps? It's very simple.
Every pods has to bind to a service account, it will be default, if you haven't specify one. And by default, this account didn't have any access to the kubernetes API.&mldr;</span></div><div class=post><div class=meta>Mar 7, 2020</div><a class=title href=/amp/dont-need-kubernates/>Dont Need Kubernates</a> &mdash;
<span class=description>翻译自 “Let’s use Kubernetes!” Now you have 8 problems ，这个东西和所谓什么中台，微服务类似，小公司弄&mldr;</span></div><div class=post><div class=meta>Mar 5, 2020</div><a class=title href=/amp/book-review-of-kubernates-in-action/>Book Review of Kubernates in Action</a> &mdash;
<span class=description>这几天看了一下 Kubernates in action 这本书，看的是中文版本。把自己觉得有用的记录一下。 怎么决定一个 pod 里面包含多少容器&mldr;</span></div><div class=post><div class=meta>Feb 25, 2020</div><a class=title href=/amp/interview-is-a-two-way-choise/>Interview Is a Two Way Choise</a> &mdash;
<span class=description>最近看到一些人贴面试经历，我觉得可以适当总结一下，结论是：面试就是一个双向选择，对方不选你不一定是因&mldr;</span></div><div class=post><div class=meta>Feb 2, 2020</div><a class=title href=/amp/google-python-style-guide/>Google Python Style Guide</a> &mdash;
<span class=description>来自这里。翻译的目的是为了方便快速理解，所以没有太纠结很准确，最好是和英文对应看。 1 Background Google 的 python 代码风格&mldr;</span></div><div class=post><div class=meta>Feb 2, 2020</div><a class=title href=/amp/postgresql-at-low-level/>PostgreSQL at Low Level</a> &mdash;
<span class=description>总结一下这篇文章 PostgreSQL at low level: stay curious! Introduction 我们之前使用数据库的时候，生产环境都只在实体机上面使用，测试和开发为了&mldr;</span></div><div class=post><div class=meta>Feb 1, 2020</div><a class=title href=/amp/dont-do-this-in-postgresql/>Dont Do This in PostgreSQL</a> &mdash;
<span class=description>前几天看见个这个，翻译一下。 不要使用 SQL_ASCII 可以看德哥这篇文章，使用这个编码后就是给啥存啥，如果 db 用户瞎用&mldr;</span></div><div class=post><div class=meta>Jan 29, 2020</div><a class=title href=/amp/algorithms-lessons-from-mit/>Algorithms Lessons From MIT</a> &mdash;
<span class=description>在推上看到的这个课程 Introduction to Algorithms，虽然是 2011 年的，但是基础的东西还是比较稳定的，刚好补习一&mldr;</span></div><div class=post><div class=meta>Jan 18, 2020</div><a class=title href=/amp/comfort-zone/>Comfort Zone</a> &mdash;
<span class=description>舒适区 舒适区这个概念不同人其实有不同的定义，比如有些人可能是工作中学习一些自己没学过的知识，就需要打&mldr;</span></div><div class=post><div class=meta>Dec 28, 2019</div><a class=title href=/amp/django-channels2/>Django Channels2</a> &mdash;
<span class=description>Django 3.0.1 has released for sometime. We still use Django 1.11 in one of our project, with Channels 1.1.8, I think it's the time to upgrade to newest Django and Channels.
According this upgrade guide, Channels 2 is a fully rewritten, lots of things has changed. This post is just a record about the upgrade I've done.&mldr;</span></div><div class=post><div class=meta>Dec 18, 2019</div><a class=title href=/amp/year-in-review-2019/>Year in Review 2019</a> &mdash;
<span class=description>Here it comes, the end-of-year 2019. The next year will be 2020, it’s more easy to pronounce for foreigners :) Works Finally, I realized that I lack of experience and knowledge to continue run our startup company. When you are the founder of a company yourself, you&mldr;</span></div><div class=post><div class=meta>Dec 12, 2019</div><a class=title href=/amp/should-i-join-a-startup-company/>Should I Join a Startup Company</a> &mdash;
<span class=description>前几天看到一个这个程序员为了期权加入创业公司，值得吗？，高票的回答写的挺有意思的，有兴趣可以看看。 大&mldr;</span></div><div class=post><div class=meta>Dec 12, 2019</div><a class=title href=/amp/add-an-force-sync-button-in-django-admin/>Add an Force Sync Button in Django Admin</a> &mdash;
<span class=description>我们的系统里面需要和外部的系统同步一些数据，为了保证数据正确处理，增加了一个队列。队列是通过一个 celery 里&mldr;</span></div><div class=post><div class=meta>Dec 4, 2019</div><a class=title href=/amp/st_buffer_in_postgis/>ST_Buffer in Postgis</a> &mdash;
<span class=description>Postgis 一直没仔细用过，总是临到用时看看文档，这不又遇到问题了，折腾半天。 我们最近有一个需求是，需要把一些&mldr;</span></div><div class=post><div class=meta>Nov 7, 2019</div><a class=title href=/amp/upgrade-rn-from-0.57to-0.61/>Upgrade RN From 0.57 to 0.61</a> &mdash;
<span class=description>好久没升级 app 使用的 RN 了，前几天看见已经是 0.61 了，我们用的还是 0.57，已经差了好几个版本了，有必要跟进&mldr;</span></div><div class=post><div class=meta>Oct 29, 2019</div><a class=title href=/amp/doing-code-reviews/>Doing Code Reviews</a> &mdash;
<span class=description>集中看了一波 code review 的帖子，记录一些笔记 How Do Code Reviews Work at Microsoft? 微软这个倒是没什么亮点，不过最后有一堆别等链接值得&mldr;</span></div><div class=post><div class=meta>Oct 17, 2019</div><a class=title href=/amp/some-interview-questions/>Some Interview Questions</a> &mdash;
<span class=description>Notes for some interview questions.
OSI 7 layers Physical layer.
Data link layer. Switches are working on this layer, so when we talk about mac address, node to node connection, it's all happened here.
Network layer. IP/ICMP protocol are for this layer.&mldr;</span></div><div class=post><div class=meta>Oct 17, 2019</div><a class=title href=/amp/learning-python-coroutine/>Learning Python Coroutine</a> &mdash;
<span class=description>看了一个视频 OSB 2015 - How Do Python Coroutines Work?，从头开始讲 coroutine 是怎么抽象出来的，感觉好厉害。自己写了一点程序学习&mldr;</span></div><div class=post><div class=meta>Oct 15, 2019</div><a class=title href=/amp/asgi/>ASGI</a> &mdash;
<span class=description>Django 3.0 要支持 ASGI 了，全称 Asynchronous Server Gateway Interface，使用了 coroutines 异步。WSGI 是目前普遍使用的，把进来的请求标&mldr;</span></div><div class=post><div class=meta>Oct 14, 2019</div><a class=title href=/amp/new-way-to-go-across-the-gfw/>New Way to Go Across the GFW</a> &mdash;
<span class=description>家里路由器用了一段时间的国内定制的梅林系统，还给这个系统做过一个插件使用 v2ray。后面试过换个软路&mldr;</span></div><ul class=pagination><li class="page-item page-prev"></li><li class="page-item page-next"><a href=/amp/page/2/ class=page-link aria-label=Next><span aria-hidden=true>Next page →</span></a></li></ul></div></div></div><div class="footer wrapper"><nav class=nav><div>Copyright © 2020 wd. All Rights Reserved | <a href=https://github.com/vividvilla/ezhil>Ezhil theme</a> | Built with <a href=https://gohugo.io>Hugo</a></div></nav></div><script>feather.replace()</script></body></html>