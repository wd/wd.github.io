<!doctype html><html lang=en><head><title>lyx 的中文化 &ndash; wd and cc</title>
<meta name=description content="Good good study, day day up!"><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=UTF-8><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.4/css/academicons.min.css integrity="sha512-IW0nhlW5MgNydsXJO40En2EoCkTTjZhI3yuODrZIc8cQ4h1XcF53PsqDHa09NqnkXuIe0Oiyyj171BqZFwISBw==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://wdicc.com/css/palettes/base16-dark.css><link rel=stylesheet href=https://wdicc.com/css/risotto.css><link rel=stylesheet href=https://wdicc.com/css/custom.css><link rel=icon href=https://wdicc.com/favicon.ico></head><body><div class=page><header class=page__header><nav class="page__nav main-nav"><ul><h1 class=page__logo><a href=https://wdicc.com/ class=page__logo-inner>wd and cc</a></h1><li class=main-nav__item><a class=nav-main-item href=https://wdicc.com/posts/ title>Posts</a></li><li class=main-nav__item><a class=nav-main-item href="https://www.google.com.hk/search?sitesearch=https%3A%2F%2Fwdicc.com%2F&amp;q=" title>Search</a></li><li class=main-nav__item><a class=nav-main-item href=https://wdicc.com/atom.xml title>subscribe</a></li></ul></nav></header><section class=page__body><header class=content__header><h1>lyx 的中文化</h1></header><div class=content__body>lyx 可以认为是一个 latex 的所见即所得的编辑工具。<br>先来搞定 latex 的中文。latex 的中文配置是千奇百怪的，怎么配的都有。看到那些帖子真的很头疼，不知道从哪里下手好。最近从 linuxsir gentoo 的论坛上面看到了一个简单的配置方法，总算我也可以使用 latex 生成支持中英文混排的 pdf 文件了。<br>首先需要安装 dev-tex/zhspacing(gentoo-china-overlay) 和 dev-texlive/texlive-fontsrecommended 这两个包，会依赖安装一些别的包。<br>此后就可以使用 xelatex 命令来编译 tex 文件了。如果没有 simsun simhei 那些字体，就还需要下面的操作。<br><pre class="prettyprint lang-latex">
\usepackage{fontspec}
\newfontfamily\zhfont[BoldFont=Microsoft YaHei]{Microsoft YaHei} %设置中文
\newfontfamily\zhpunctfont{Microsoft YaHei} % 设置中文
%\makeglossary

\setmainfont{Consolas}           %这里设置英文衬线字体
\setmonofont{Consolas}                     %英文等宽字体
\setsansfont{Consolas}               %英文无衬线字体

\usepackage{zhspacing}
\zhspacing
\begin{document}
中Eng文混排，“标点压缩”，间 距 调 整 ……
\end{document}</pre>里面那几行有注释的，就是用来设置字体的。设置为 fc-list 列表里面的一个或者几个字体，然后使用 xelatex xx.tex 命令来编译你的 tex 文件，是不是生成了相应的 pdf？可以去看看里面的中文英文是不是都正常显示了。
接下来配置 lyx。我参考了<a href=http://blog.bs2.to/post/EdwardLee/8545>这个</a>文章，新建一个文档，设置几个地方。
文档-> 首选项-> 语言 使用 utf8。
文档-> 首选项-> latex序 添加下面的内容。<pre class="prettyprint lang-latex">
\newfontfamily\zhfont[BoldFont=Microsoft YaHei]{Microsoft YaHei} %设置中文
\newfontfamily\zhpunctfont{Microsoft YaHei} % 设置中文
%\makeglossary

\setmainfont{Consolas}           %这里设置英文衬线字体
\setmonofont{Consolas}                     %英文等宽字体
\setsansfont{Consolas}               %英文无衬线字体

\usepackage{zhspacing}
\zhspacing</pre>我还设置了保存为文档缺省设置，这样新编辑的文件就不用设置了，当然也可以保存成模板，这样每次加载这个模板就可以了。
还需要设置
lyx 可以认为是一个 latex 的所见即所得的编辑工具。
先来搞定 latex 的中文。latex 的中文配置是千奇百怪的，怎么配的都有。看到那些帖子真的很头疼，不知道从哪里下手好。最近从 linuxsir gentoo 的论坛上面看到了一个简单的配置方法，总算我也可以使用 latex 生成支持中英文混排的 pdf 文件了。
首先需要安装 dev-tex/zhspacing(gentoo-china-overlay) 和 dev-texlive/texlive-fontsrecommended 这两个包，会依赖安装一些别的包。
此后就可以使用 xelatex 命令来编译 tex 文件了。如果没有 simsun simhei 那些字体，就还需要下面的操作。<pre class="prettyprint lang-latex">
\usepackage{fontspec}
\newfontfamily\zhfont[BoldFont=Microsoft YaHei]{Microsoft YaHei} %设置中文
\newfontfamily\zhpunctfont{Microsoft YaHei} % 设置中文
%\makeglossary

\setmainfont{Consolas}           %这里设置英文衬线字体
\setmonofont{Consolas}                     %英文等宽字体
\setsansfont{Consolas}               %英文无衬线字体

\usepackage{zhspacing}
\zhspacing
\begin{document}
中Eng文混排，“标点压缩”，间 距 调 整 ……
\end{document}</pre>里面那几行有注释的，就是用来设置字体的。设置为 fc-list 列表里面的一个或者几个字体，然后使用 xelatex xx.tex 命令来编译你的 tex 文件，是不是生成了相应的 pdf？可以去看看里面的中文英文是不是都正常显示了。
接下来配置 lyx。我参考了<a href=http://blog.bs2.to/post/EdwardLee/8545>这个</a>文章，新建一个文档，设置几个地方。
文档-> 首选项-> 语言 使用 utf8。
文档-> 首选项-> latex序 添加下面的内容。<pre class="prettyprint lang-latex">
\newfontfamily\zhfont[BoldFont=Microsoft YaHei]{Microsoft YaHei} %设置中文
\newfontfamily\zhpunctfont{Microsoft YaHei} % 设置中文
%\makeglossary

\setmainfont{Consolas}           %这里设置英文衬线字体
\setmonofont{Consolas}                     %英文等宽字体
\setsansfont{Consolas}               %英文无衬线字体

\usepackage{zhspacing}
\zhspacing</pre>我还设置了保存为文档缺省设置，这样新编辑的文件就不用设置了，当然也可以保存成模板，这样每次加载这个模板就可以了。
还需要设置 工具->首选项->file handling->转换器 这里的 latex(pdflatex)->PDF(pdflatex) 这项，然后设置 转换器 为 xelatex $$i 。点击那个修改按钮，保存，应用。
这样，以后写好文件，点那个 pdf 的图标就可以直接预览到 pdf 文件啦。</div><footer class=content__footer></footer></section><section class=page__aside><div class=aside__about><div class=aside__about><img class=about__logo src=https://wdicc.com/favicon.ico alt=Logo><h1 class=about__title>Happy every day!</h1><p class=about__description>Good good study, day day up!</p></div><ul class=aside__social-links><li><a href=https://github.com/wd rel=me aria-label=GitHub title=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a>&nbsp;</li></ul></div><hr><div class=aside__content><p>2008-11-27</p></div></section><footer class=page__footer><p><br><span class=active>$ echo $LANG<br><b>zh_CN</b></span><br></p><br><br><p class=copyright>wd © 2025</p><p class=advertisement>Powered by <a href=https://gohugo.io/>hugo</a> and <a href=https://github.com/joeroe/risotto>risotto</a>.</p></footer></div></body></html>